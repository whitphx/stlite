{"version":3,"file":"index-DVxkniYV.js","sources":["../../../node_modules/react-range/lib/types.js","../../../node_modules/react-range/lib/utils.js","../../../node_modules/react-range/lib/Range.js","../../../node_modules/react-range/lib/index.js","../../../node_modules/baseui/esm/slider/styled-components.js","../../../node_modules/baseui/esm/slider/slider.js","../../../streamlit/frontend/lib/src/components/widgets/Slider/styled-components.ts","../../../streamlit/frontend/lib/src/components/widgets/Slider/Slider.tsx"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Direction = void 0;\nvar Direction;\n(function (Direction) {\n    Direction[\"Right\"] = \"to right\";\n    Direction[\"Left\"] = \"to left\";\n    Direction[\"Down\"] = \"to bottom\";\n    Direction[\"Up\"] = \"to top\";\n})(Direction || (exports.Direction = Direction = {}));\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isIOS = exports.useThumbOverlap = exports.assertUnreachable = exports.voidFn = exports.getTrackBackground = exports.replaceAt = exports.schd = exports.translate = exports.getClosestThumbIndex = exports.translateThumbs = exports.getPaddingAndBorder = exports.getMargin = exports.checkInitialOverlap = exports.checkValuesAgainstBoundaries = exports.checkBoundaries = exports.isVertical = exports.relativeValue = exports.normalizeValue = exports.isStepDivisible = exports.isTouchEvent = exports.getStepDecimals = void 0;\nvar react_1 = require(\"react\");\nvar types_1 = require(\"./types\");\nvar getStepDecimals = function (step) {\n    var decimals = step.toString().split(\".\")[1];\n    return decimals ? decimals.length : 0;\n};\nexports.getStepDecimals = getStepDecimals;\nfunction isTouchEvent(event) {\n    return ((event.touches && event.touches.length) ||\n        (event.changedTouches && event.changedTouches.length));\n}\nexports.isTouchEvent = isTouchEvent;\nfunction isStepDivisible(min, max, step) {\n    var res = (max - min) / step;\n    var precision = 8;\n    var roundedRes = Number(res.toFixed(precision));\n    return parseInt(roundedRes.toString(), 10) === roundedRes;\n}\nexports.isStepDivisible = isStepDivisible;\nfunction normalizeValue(value, index, min, max, step, allowOverlap, values) {\n    var BIG_NUM = 10e10;\n    value = Math.round(value * BIG_NUM) / BIG_NUM;\n    if (!allowOverlap) {\n        var prev = values[index - 1];\n        var next = values[index + 1];\n        if (prev && prev > value)\n            return prev;\n        if (next && next < value)\n            return next;\n    }\n    if (value > max)\n        return max;\n    if (value < min)\n        return min;\n    // `remainder` is a difference between the given value and a full step value\n    // that is closest lower to the given value and is in the range between the min value\n    // and the given value\n    var remainder = Math.floor(value * BIG_NUM - min * BIG_NUM) % Math.floor(step * BIG_NUM);\n    var closestLowerNum = Math.floor(value * BIG_NUM - Math.abs(remainder));\n    var rounded = remainder === 0 ? value : closestLowerNum / BIG_NUM;\n    // Values with a remainder `< step/2` are rounded to the closest lower value\n    // while values with a remainder `= > step/2` are rounded to the closest bigger value\n    var res = Math.abs(remainder / BIG_NUM) < step / 2 ? rounded : rounded + step;\n    var decimalPlaces = (0, exports.getStepDecimals)(step);\n    return parseFloat(res.toFixed(decimalPlaces));\n}\nexports.normalizeValue = normalizeValue;\nfunction relativeValue(value, min, max) {\n    return (value - min) / (max - min);\n}\nexports.relativeValue = relativeValue;\nfunction isVertical(direction) {\n    return direction === types_1.Direction.Up || direction === types_1.Direction.Down;\n}\nexports.isVertical = isVertical;\nfunction checkBoundaries(value, min, max) {\n    if (min >= max) {\n        throw new RangeError(\"min (\".concat(min, \") is equal/bigger than max (\").concat(max, \")\"));\n    }\n    if (value < min) {\n        throw new RangeError(\"value (\".concat(value, \") is smaller than min (\").concat(min, \")\"));\n    }\n    if (value > max) {\n        throw new RangeError(\"value (\".concat(value, \") is bigger than max (\").concat(max, \")\"));\n    }\n}\nexports.checkBoundaries = checkBoundaries;\nfunction checkValuesAgainstBoundaries(value, min, max) {\n    if (value < min) {\n        // set selectedValue to min\n        return min;\n    }\n    if (value > max) {\n        // set selectedValue to max\n        return max;\n    }\n    else {\n        return value;\n    }\n}\nexports.checkValuesAgainstBoundaries = checkValuesAgainstBoundaries;\nfunction checkInitialOverlap(values) {\n    if (values.length < 2)\n        return;\n    if (!values.slice(1).every(function (item, i) { return values[i] <= item; })) {\n        throw new RangeError(\"values={[\".concat(values, \"]} needs to be sorted when allowOverlap={false}\"));\n    }\n}\nexports.checkInitialOverlap = checkInitialOverlap;\nfunction getMargin(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        top: parseInt(style[\"margin-top\"], 10),\n        bottom: parseInt(style[\"margin-bottom\"], 10),\n        left: parseInt(style[\"margin-left\"], 10),\n        right: parseInt(style[\"margin-right\"], 10),\n    };\n}\nexports.getMargin = getMargin;\nfunction getPaddingAndBorder(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        top: parseInt(style[\"padding-top\"], 10) +\n            parseInt(style[\"border-top-width\"], 10),\n        bottom: parseInt(style[\"padding-bottom\"], 10) +\n            parseInt(style[\"border-bottom-width\"], 10),\n        left: parseInt(style[\"padding-left\"], 10) +\n            parseInt(style[\"border-left-width\"], 10),\n        right: parseInt(style[\"padding-right\"], 10) +\n            parseInt(style[\"border-right-width\"], 10),\n    };\n}\nexports.getPaddingAndBorder = getPaddingAndBorder;\nfunction translateThumbs(elements, offsets, rtl) {\n    var inverter = rtl ? -1 : 1;\n    elements.forEach(function (element, index) {\n        return translate(element, inverter * offsets[index].x, offsets[index].y);\n    });\n}\nexports.translateThumbs = translateThumbs;\n/**\n * Util function for calculating the index of the thumb that is closes to a given position\n * @param thumbs - array of Thumb element to calculate the distance from\n * @param clientX - target x position (mouse/touch)\n * @param clientY - target y position (mouse/touch)\n * @param direction - the direction of the track\n */\nfunction getClosestThumbIndex(thumbs, clientX, clientY, direction) {\n    var thumbIndex = 0;\n    var minThumbDistance = getThumbDistance(thumbs[0], clientX, clientY, direction);\n    for (var i = 1; i < thumbs.length; i++) {\n        var thumbDistance = getThumbDistance(thumbs[i], clientX, clientY, direction);\n        if (thumbDistance < minThumbDistance) {\n            minThumbDistance = thumbDistance;\n            thumbIndex = i;\n        }\n    }\n    return thumbIndex;\n}\nexports.getClosestThumbIndex = getClosestThumbIndex;\nfunction translate(element, x, y) {\n    element.style.transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n}\nexports.translate = translate;\n// adapted from https://github.com/alexreardon/raf-schd\nvar schd = function (fn) {\n    var lastArgs = [];\n    var frameId = null;\n    var wrapperFn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        lastArgs = args;\n        if (frameId) {\n            return;\n        }\n        frameId = requestAnimationFrame(function () {\n            frameId = null;\n            fn.apply(void 0, lastArgs);\n        });\n    };\n    return wrapperFn;\n};\nexports.schd = schd;\nfunction replaceAt(values, index, value) {\n    var ret = values.slice(0);\n    ret[index] = value;\n    return ret;\n}\nexports.replaceAt = replaceAt;\nfunction getTrackBackground(_a) {\n    var values = _a.values, colors = _a.colors, min = _a.min, max = _a.max, _b = _a.direction, direction = _b === void 0 ? types_1.Direction.Right : _b, _c = _a.rtl, rtl = _c === void 0 ? false : _c;\n    if (rtl && direction === types_1.Direction.Right) {\n        direction = types_1.Direction.Left;\n    }\n    else if (rtl && types_1.Direction.Left) {\n        direction = types_1.Direction.Right;\n    }\n    // sort values ascending\n    var progress = values\n        .slice(0)\n        .sort(function (a, b) { return a - b; })\n        .map(function (value) { return ((value - min) / (max - min)) * 100; });\n    var middle = progress.reduce(function (acc, point, index) {\n        return \"\".concat(acc, \", \").concat(colors[index], \" \").concat(point, \"%, \").concat(colors[index + 1], \" \").concat(point, \"%\");\n    }, \"\");\n    return \"linear-gradient(\".concat(direction, \", \").concat(colors[0], \" 0%\").concat(middle, \", \").concat(colors[colors.length - 1], \" 100%)\");\n}\nexports.getTrackBackground = getTrackBackground;\nfunction voidFn() { }\nexports.voidFn = voidFn;\nfunction assertUnreachable(x) {\n    throw new Error(\"Didn't expect to get here\");\n}\nexports.assertUnreachable = assertUnreachable;\n/**\n * Util function for grabbing the true largest width of a thumb\n * including the label\n * @param thumbEl - Thumb element to grab the largest width from\n * @param value - Thumb value, not label value\n * @param separator - Label separator value\n */\nvar getThumbWidth = function (thumbEl, value, separator, decimalPlaces, valueToLabel) {\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var width = Math.ceil(__spreadArray([thumbEl], Array.from(thumbEl.children), true).reduce(function (width, el) {\n        var elWidth = Math.ceil(el.getBoundingClientRect().width);\n        /**\n         * If a label contains a merged label value, it won't return the true\n         * label width for that Thumb. Clone the label and change the value\n         * to that individual Thumb value in order to grab the true width.\n         */\n        if (el.innerText &&\n            el.innerText.includes(separator) &&\n            el.childElementCount === 0) {\n            var elClone = el.cloneNode(true);\n            elClone.innerHTML = valueToLabel(value.toFixed(decimalPlaces));\n            elClone.style.visibility = \"hidden\";\n            document.body.appendChild(elClone);\n            elWidth = Math.ceil(elClone.getBoundingClientRect().width);\n            document.body.removeChild(elClone);\n        }\n        return elWidth > width ? elWidth : width;\n    }, thumbEl.getBoundingClientRect().width));\n    return width;\n};\n/**\n * Bulk of logic for thumb overlaps\n * Consider a scenario with 5 thumbs;\n * Thumb 1 overlaps with thumb 0 and thumb 2\n * Thumb 2 overlaps with thumb 3\n * We need an array that contains [0, 1, 2, 3]\n * The function needs to return the directly overlapping thumbs\n * and all thumbs overlapping linked to those and so on\n * @param index - Thumb index calculating overlaps for\n * @param offsets - Current Array of Thumb offsets for Range\n * @param thumbs - Array of Thumb elements\n * @param values - Array of Thumb values\n * @param separator - String separator for merged label values\n * @returns overlaps - Array of all overlapping thumbs from the index\n */\nvar getOverlaps = function (index, offsets, thumbs, values, separator, decimalPlaces, valueToLabel) {\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var overlaps = [];\n    /**\n     * Recursive function for building the overlaps Array\n     * If an overlap is found, find the overlaps for that overlap\n     * @param thumbIndex current Thumb index to find overlaps from\n     */\n    var buildOverlaps = function (thumbIndex) {\n        var thumbXWidth = getThumbWidth(thumbs[thumbIndex], values[thumbIndex], separator, decimalPlaces, valueToLabel);\n        var thumbX = offsets[thumbIndex].x;\n        /**\n         * Iterate through the Thumb offsets, if there is a match\n         * add the thumbIndex and siblingIndex to the overlaps Array\n         *\n         * Then build overlaps from the overlapping siblingIndex\n         */\n        offsets.forEach(function (_a, siblingIndex) {\n            var siblingX = _a.x;\n            var siblingWidth = getThumbWidth(thumbs[siblingIndex], values[siblingIndex], separator, decimalPlaces, valueToLabel);\n            if (thumbIndex !== siblingIndex &&\n                ((thumbX >= siblingX && thumbX <= siblingX + siblingWidth) ||\n                    (thumbX + thumbXWidth >= siblingX &&\n                        thumbX + thumbXWidth <= siblingX + siblingWidth))) {\n                if (!overlaps.includes(siblingIndex)) {\n                    overlaps.push(thumbIndex);\n                    overlaps.push(siblingIndex);\n                    overlaps = __spreadArray(__spreadArray([], overlaps, true), [thumbIndex, siblingIndex], false);\n                    buildOverlaps(siblingIndex);\n                }\n            }\n        });\n    };\n    buildOverlaps(index);\n    // Sort and remove duplicates from the built overlaps\n    return Array.from(new Set(overlaps.sort()));\n};\n/**\n * A custom React Hook for calculating whether a thumb overlaps\n * another and whether labels could/should merge.\n * @param rangeRef - React ref value of Range component\n * @param values - current Range values Array\n * @param index - thumb index\n * @param step - step value, used to calculate the number of decimal places\n * @param separator - string to separate thumb values\n * @returns label value + styling for thumb label\n */\nvar useThumbOverlap = function (rangeRef, values, index, step, separator, valueToLabel) {\n    if (step === void 0) { step = 0.1; }\n    if (separator === void 0) { separator = \" - \"; }\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var decimalPlaces = (0, exports.getStepDecimals)(step);\n    // Create initial label style and value. Label value defaults to thumb value\n    var _a = (0, react_1.useState)({}), labelStyle = _a[0], setLabelStyle = _a[1];\n    var _b = (0, react_1.useState)(valueToLabel(values[index].toFixed(decimalPlaces))), labelValue = _b[0], setLabelValue = _b[1];\n    // When the rangeRef or values change, update the Thumb label values and styling\n    (0, react_1.useEffect)(function () {\n        if (rangeRef) {\n            var thumbs = rangeRef.getThumbs();\n            if (thumbs.length < 1)\n                return;\n            var newStyle = {};\n            var offsets_1 = rangeRef.getOffsets();\n            /**\n             * Get any overlaps for the given Thumb index. This must return all linked\n             * Thumbs. So if there are 4 Thumbs and Thumbs 2, 3 and 4 overlap. If we are\n             * getting the overlaps for Thumb 1 and it overlaps only Thumb 2, we must get\n             * 2, 3 and 4 also.\n             */\n            var overlaps = getOverlaps(index, offsets_1, thumbs, values, separator, decimalPlaces, valueToLabel);\n            // Set a default label value of the Thumb value\n            var labelValue_1 = valueToLabel(values[index].toFixed(decimalPlaces));\n            /**\n             * If there are overlaps for the Thumb, we need to calculate the correct\n             * Label value along with the relevant styling. We only want to show a Label\n             * for the left most Thumb in an overlapping set.\n             * All other Thumbs will be set to display: none.\n             */\n            if (overlaps.length) {\n                /**\n                 * Get an Array of the offsets for the overlapping Thumbs\n                 * This is so we can determine if the Thumb we are looking at\n                 * is the left most thumb in an overlapping set\n                 */\n                var offsetsX = overlaps.reduce(function (a, c, i, s) {\n                    return a.length ? __spreadArray(__spreadArray([], a, true), [offsets_1[s[i]].x], false) : [offsets_1[s[i]].x];\n                }, []);\n                /**\n                 * If our Thumb is the left most Thumb, we can build a Label value\n                 * and set the style for that Label\n                 */\n                if (Math.min.apply(Math, offsetsX) === offsets_1[index].x) {\n                    /**\n                     * First calculate the Label value. To do this,\n                     * grab all the values for the Thumbs in our overlaps.\n                     * Then convert that to a Set and sort it whilst removing duplicates.\n                     */\n                    var labelValues_1 = [];\n                    overlaps.forEach(function (thumb) {\n                        labelValues_1.push(values[thumb].toFixed(decimalPlaces));\n                    });\n                    /**\n                     *  Update the labelValue with the resulting Array\n                     *  joined by our defined separator\n                     */\n                    labelValue_1 = Array.from(new Set(labelValues_1.sort(function (a, b) { return parseFloat(a) - parseFloat(b); })))\n                        .map(valueToLabel)\n                        .join(separator);\n                    /**\n                     * Lastly, build the label styling. The label styling will\n                     * position the label and apply a transform so that it's centered.\n                     * We want the center point between the left edge of the left most Thumb\n                     * and the right edge of the right most Thumb.\n                     */\n                    var first = Math.min.apply(Math, offsetsX);\n                    var last = Math.max.apply(Math, offsetsX);\n                    var lastWidth = thumbs[overlaps[offsetsX.indexOf(last)]].getBoundingClientRect()\n                        .width;\n                    newStyle.left = \"\".concat(Math.abs(first - (last + lastWidth)) / 2, \"px\");\n                    newStyle.transform = \"translate(-50%, 0)\";\n                }\n                else {\n                    // If the Thumb isn't the left most Thumb, hide the Label!\n                    newStyle.visibility = \"hidden\";\n                }\n            }\n            // Update the label value and style\n            setLabelValue(labelValue_1);\n            setLabelStyle(newStyle);\n        }\n    }, [rangeRef, values]);\n    return [labelValue, labelStyle];\n};\nexports.useThumbOverlap = useThumbOverlap;\n/**\n * Util function for calculating the distance of the center of a thumb\n * form a given mouse/touch target's position\n * @param thumbEl - Thumb element to calculate the distance from\n * @param clientX - target x position (mouse/touch)\n * @param clientY - target y position (mouse/touch)\n * @param direction - the direction of the track\n */\nfunction getThumbDistance(thumbEl, clientX, clientY, direction) {\n    var _a = thumbEl.getBoundingClientRect(), left = _a.left, top = _a.top, width = _a.width, height = _a.height;\n    return isVertical(direction)\n        ? Math.abs(clientY - (top + height / 2))\n        : Math.abs(clientX - (left + width / 2));\n}\nvar isIOS = function () {\n    var _a;\n    // @ts-ignore\n    var platform = ((_a = navigator.userAgentData) === null || _a === void 0 ? void 0 : _a.platform) || navigator.platform;\n    return ([\n        \"iPad Simulator\",\n        \"iPhone Simulator\",\n        \"iPod Simulator\",\n        \"iPad\",\n        \"iPhone\",\n        \"iPod\",\n    ].includes(platform) ||\n        // iPad on iOS 13 detection\n        (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document));\n};\nexports.isIOS = isIOS;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar INCREASE_KEYS = [\"ArrowRight\", \"ArrowUp\", \"k\", \"PageUp\"];\nvar DECREASE_KEYS = [\"ArrowLeft\", \"ArrowDown\", \"j\", \"PageDown\"];\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range(props) {\n        var _this = _super.call(this, props) || this;\n        _this.trackRef = React.createRef();\n        _this.thumbRefs = [];\n        _this.state = {\n            draggedTrackPos: [-1, -1],\n            draggedThumbIndex: -1,\n            thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) { return i; }),\n            isChanged: false,\n            markOffsets: [],\n        };\n        _this.getOffsets = function () {\n            var _a = _this.props, direction = _a.direction, values = _a.values, min = _a.min, max = _a.max;\n            var trackElement = _this.trackRef.current;\n            if (!trackElement) {\n                console.warn(\"No track element found.\");\n                return [];\n            }\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackPadding = (0, utils_1.getPaddingAndBorder)(trackElement);\n            return _this.getThumbs().map(function (thumb, index) {\n                var thumbOffsets = { x: 0, y: 0 };\n                var thumbRect = thumb.getBoundingClientRect();\n                var thumbMargins = (0, utils_1.getMargin)(thumb);\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Left:\n                        thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width -\n                                trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Up:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height -\n                                trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Down:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    default:\n                        return (0, utils_1.assertUnreachable)(direction);\n                }\n            });\n        };\n        _this.getThumbs = function () {\n            if (_this.trackRef && _this.trackRef.current) {\n                return Array.from(_this.trackRef.current.children).filter(function (el) {\n                    return el.hasAttribute(\"aria-valuenow\");\n                });\n            }\n            console.warn(\"No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?\");\n            return [];\n        };\n        _this.getTargetIndex = function (e) {\n            return _this.getThumbs().findIndex(function (child) { return child === e.target || child.contains(e.target); });\n        };\n        _this.addTouchEvents = function (e) {\n            document.addEventListener(\"touchmove\", _this.schdOnTouchMove, {\n                passive: false,\n            });\n            document.addEventListener(\"touchend\", _this.schdOnEnd, {\n                passive: false,\n            });\n            document.addEventListener(\"touchcancel\", _this.schdOnEnd, {\n                passive: false,\n            });\n        };\n        _this.addMouseEvents = function (e) {\n            document.addEventListener(\"mousemove\", _this.schdOnMouseMove);\n            document.addEventListener(\"mouseup\", _this.schdOnEnd);\n        };\n        _this.onMouseDownTrack = function (e) {\n            var _a;\n            if (e.button !== 0 || (0, utils_1.isIOS)())\n                return;\n            e.persist();\n            e.preventDefault();\n            _this.addMouseEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.clientX, e.clientY],\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.clientX, e.clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex,\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n        };\n        _this.onResize = function () {\n            (0, utils_1.translateThumbs)(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n            _this.calculateMarkOffsets();\n        };\n        _this.onTouchStartTrack = function (e) {\n            var _a;\n            e.persist();\n            _this.addTouchEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY],\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex,\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n        };\n        _this.onMouseOrTouchStart = function (e) {\n            if (_this.props.disabled)\n                return;\n            var isTouch = (0, utils_1.isTouchEvent)(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            var index = _this.getTargetIndex(e);\n            if (index === -1)\n                return;\n            if (isTouch) {\n                _this.addTouchEvents(e);\n            }\n            else {\n                _this.addMouseEvents(e);\n            }\n            _this.setState({\n                draggedThumbIndex: index,\n                thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n                    if (i === index) {\n                        return Math.max.apply(Math, _this.state.thumbZIndexes);\n                    }\n                    return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n                }),\n            });\n        };\n        _this.onMouseMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.clientX, e.clientY);\n        };\n        _this.onTouchMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        _this.onKeyDown = function (e) {\n            var _a = _this.props, values = _a.values, onChange = _a.onChange, step = _a.step, rtl = _a.rtl, direction = _a.direction;\n            var isChanged = _this.state.isChanged;\n            var index = _this.getTargetIndex(e.nativeEvent);\n            var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down\n                ? -1\n                : 1;\n            if (index === -1)\n                return;\n            if (INCREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true,\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] + inverter * (e.key === \"PageUp\" ? step * 10 : step), index)));\n            }\n            else if (DECREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true,\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] -\n                    inverter * (e.key === \"PageDown\" ? step * 10 : step), index)));\n            }\n            else if (e.key === \"Tab\") {\n                _this.setState({ draggedThumbIndex: -1 }, function () {\n                    // If key pressed when thumb was moving, fire onFinalChange\n                    if (isChanged) {\n                        _this.fireOnFinalChange();\n                    }\n                });\n            }\n            else {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            }\n        };\n        _this.onKeyUp = function (e) {\n            var isChanged = _this.state.isChanged;\n            _this.setState({\n                draggedThumbIndex: -1,\n            }, function () {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            });\n        };\n        _this.onMove = function (clientX, clientY) {\n            var _a = _this.state, draggedThumbIndex = _a.draggedThumbIndex, draggedTrackPos = _a.draggedTrackPos;\n            var _b = _this.props, direction = _b.direction, min = _b.min, max = _b.max, onChange = _b.onChange, values = _b.values, step = _b.step, rtl = _b.rtl;\n            if (draggedThumbIndex === -1 &&\n                draggedTrackPos[0] === -1 &&\n                draggedTrackPos[1] === -1)\n                return null;\n            var trackElement = _this.trackRef.current;\n            // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n            if (!trackElement)\n                return null;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackLength = (0, utils_1.isVertical)(direction)\n                ? trackRect.height\n                : trackRect.width;\n            if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n                // calculate how much it moved since the last update\n                var dX = clientX - draggedTrackPos[0];\n                var dY = clientY - draggedTrackPos[1];\n                // calculate the delta of the value\n                var deltaValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                    case types_1.Direction.Left:\n                        deltaValue = (dX / trackLength) * (max - min);\n                        break;\n                    case types_1.Direction.Down:\n                    case types_1.Direction.Up:\n                        deltaValue = (dY / trackLength) * (max - min);\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    deltaValue *= -1;\n                }\n                if (Math.abs(deltaValue) >= step / 2) {\n                    // adjust delta so it fits into the range\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        if ((values[i] === max && Math.sign(deltaValue) === 1) ||\n                            (values[i] === min && Math.sign(deltaValue) === -1))\n                            return;\n                        var thumbValue = values[i] + deltaValue;\n                        if (thumbValue > max)\n                            deltaValue = max - values[i];\n                        else if (thumbValue < min)\n                            deltaValue = min - values[i];\n                    }\n                    // add the delta to each thumb\n                    var newValues = values.slice(0);\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        newValues = (0, utils_1.replaceAt)(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n                    }\n                    _this.setState({\n                        draggedTrackPos: [clientX, clientY],\n                    });\n                    onChange(newValues);\n                }\n            }\n            else {\n                var newValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        newValue =\n                            ((clientX - trackRect.left) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Left:\n                        newValue =\n                            ((trackLength - (clientX - trackRect.left)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    case types_1.Direction.Down:\n                        newValue =\n                            ((clientY - trackRect.top) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Up:\n                        newValue =\n                            ((trackLength - (clientY - trackRect.top)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    newValue = max + min - newValue;\n                }\n                if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n                    onChange((0, utils_1.replaceAt)(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n                }\n            }\n        };\n        _this.normalizeValue = function (value, index) {\n            var _a = _this.props, min = _a.min, max = _a.max, step = _a.step, allowOverlap = _a.allowOverlap, values = _a.values;\n            return (0, utils_1.normalizeValue)(value, index, min, max, step, allowOverlap, values);\n        };\n        _this.onEnd = function (e) {\n            e.preventDefault();\n            document.removeEventListener(\"mousemove\", _this.schdOnMouseMove);\n            document.removeEventListener(\"touchmove\", _this.schdOnTouchMove);\n            document.removeEventListener(\"mouseup\", _this.schdOnEnd);\n            document.removeEventListener(\"touchend\", _this.schdOnEnd);\n            document.removeEventListener(\"touchcancel\", _this.schdOnEnd);\n            if (_this.state.draggedThumbIndex === -1 &&\n                _this.state.draggedTrackPos[0] === -1 &&\n                _this.state.draggedTrackPos[1] === -1)\n                return null;\n            _this.setState({ draggedThumbIndex: -1, draggedTrackPos: [-1, -1] }, function () {\n                _this.fireOnFinalChange();\n            });\n        };\n        _this.fireOnFinalChange = function () {\n            _this.setState({ isChanged: false });\n            var _a = _this.props, onFinalChange = _a.onFinalChange, values = _a.values;\n            if (onFinalChange) {\n                onFinalChange(values);\n            }\n        };\n        _this.updateMarkRefs = function (props) {\n            if (!props.renderMark) {\n                // don't create mark refs unless we are rendering marks\n                _this.numOfMarks = undefined;\n                _this.markRefs = undefined;\n                return;\n            }\n            _this.numOfMarks = (props.max - props.min) / _this.props.step;\n            _this.markRefs = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                _this.markRefs[i] = React.createRef();\n            }\n        };\n        _this.calculateMarkOffsets = function () {\n            if (!_this.props.renderMark ||\n                !_this.trackRef ||\n                !_this.numOfMarks ||\n                !_this.markRefs ||\n                _this.trackRef.current === null)\n                return;\n            var elStyles = window.getComputedStyle(_this.trackRef.current);\n            var trackWidth = parseInt(elStyles.width, 10);\n            var trackHeight = parseInt(elStyles.height, 10);\n            var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n            var paddingTop = parseInt(elStyles.paddingTop, 10);\n            var res = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                var markHeight = 9999;\n                var markWidth = 9999;\n                if (_this.markRefs[i].current) {\n                    var markRect = _this.markRefs[i].current.getBoundingClientRect();\n                    markHeight = markRect.height;\n                    markWidth = markRect.width;\n                }\n                if (_this.props.direction === types_1.Direction.Left ||\n                    _this.props.direction === types_1.Direction.Right) {\n                    res.push([\n                        Math.round((trackWidth / _this.numOfMarks) * i + paddingLeft - markWidth / 2),\n                        -Math.round((markHeight - trackHeight) / 2),\n                    ]);\n                }\n                else {\n                    res.push([\n                        Math.round((trackHeight / _this.numOfMarks) * i + paddingTop - markHeight / 2),\n                        -Math.round((markWidth - trackWidth) / 2),\n                    ]);\n                }\n            }\n            _this.setState({ markOffsets: res });\n        };\n        if (props.step === 0) {\n            throw new Error('\"step\" property should be a positive number');\n        }\n        _this.schdOnMouseMove = (0, utils_1.schd)(_this.onMouseMove);\n        _this.schdOnTouchMove = (0, utils_1.schd)(_this.onTouchMove);\n        _this.schdOnEnd = (0, utils_1.schd)(_this.onEnd);\n        _this.thumbRefs = props.values.map(function () { return React.createRef(); });\n        _this.updateMarkRefs(props);\n        return _this;\n    }\n    Range.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, values = _a.values, min = _a.min, step = _a.step;\n        this.resizeObserver = window.ResizeObserver\n            ? new window.ResizeObserver(this.onResize)\n            : {\n                observe: function () { return window.addEventListener(\"resize\", _this.onResize); },\n                unobserve: function () { return window.removeEventListener(\"resize\", _this.onResize); },\n            };\n        document.addEventListener(\"touchstart\", this.onMouseOrTouchStart, {\n            passive: false,\n        });\n        document.addEventListener(\"mousedown\", this.onMouseOrTouchStart, {\n            passive: false,\n        });\n        !this.props.allowOverlap && (0, utils_1.checkInitialOverlap)(this.props.values);\n        this.props.values.forEach(function (value) {\n            return (0, utils_1.checkBoundaries)(value, _this.props.min, _this.props.max);\n        });\n        this.resizeObserver.observe(this.trackRef.current);\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), this.props.rtl);\n        this.calculateMarkOffsets();\n        values.forEach(function (value) {\n            if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                console.warn(\"The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.\");\n            }\n        });\n    };\n    Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, max = _a.max, min = _a.min, step = _a.step, values = _a.values, rtl = _a.rtl;\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step) {\n            this.updateMarkRefs(this.props);\n        }\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), rtl);\n        // ensure offsets are calculated when the refs for the marks have been created\n        // and those refs have been mounted to the dom\n        // on the state update in calculateOffsets with new markOffsets are calculated\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step ||\n            prevState.markOffsets.length !== this.state.markOffsets.length) {\n            this.calculateMarkOffsets();\n            values.forEach(function (value) {\n                if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                    console.warn(\"The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.\");\n                }\n            });\n        }\n    };\n    Range.prototype.componentWillUnmount = function () {\n        var options = {\n            passive: false,\n        };\n        document.removeEventListener(\"mousedown\", this.onMouseOrTouchStart, options);\n        // These need to be removed!!\n        document.removeEventListener(\"mousemove\", this.schdOnMouseMove);\n        document.removeEventListener(\"touchmove\", this.schdOnTouchMove);\n        document.removeEventListener(\"touchstart\", this.onMouseOrTouchStart);\n        document.removeEventListener(\"mouseup\", this.schdOnEnd);\n        document.removeEventListener(\"touchend\", this.schdOnEnd);\n        this.resizeObserver.unobserve(this.trackRef.current);\n    };\n    Range.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, label = _a.label, labelledBy = _a.labelledBy, renderTrack = _a.renderTrack, renderThumb = _a.renderThumb, _b = _a.renderMark, renderMark = _b === void 0 ? function () { return null; } : _b, values = _a.values, min = _a.min, max = _a.max, allowOverlap = _a.allowOverlap, disabled = _a.disabled;\n        var _c = this.state, draggedThumbIndex = _c.draggedThumbIndex, thumbZIndexes = _c.thumbZIndexes, markOffsets = _c.markOffsets;\n        return renderTrack({\n            props: {\n                style: {\n                    // creates stacking context that prevents z-index applied to thumbs\n                    // interfere with other elements\n                    transform: \"scale(1)\",\n                    cursor: draggedThumbIndex > -1\n                        ? \"grabbing\"\n                        : this.props.draggableTrack\n                            ? (0, utils_1.isVertical)(this.props.direction)\n                                ? \"ns-resize\"\n                                : \"ew-resize\"\n                            : values.length === 1 && !disabled\n                                ? \"pointer\"\n                                : \"inherit\",\n                },\n                onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n                onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n                ref: this.trackRef,\n            },\n            isDragged: this.state.draggedThumbIndex > -1,\n            disabled: disabled,\n            children: __spreadArray(__spreadArray([], markOffsets.map(function (offset, index, arr) {\n                return renderMark({\n                    props: {\n                        style: _this.props.direction === types_1.Direction.Left ||\n                            _this.props.direction === types_1.Direction.Right\n                            ? {\n                                position: \"absolute\",\n                                left: \"\".concat(offset[0], \"px\"),\n                                marginTop: \"\".concat(offset[1], \"px\"),\n                            }\n                            : {\n                                position: \"absolute\",\n                                top: \"\".concat(offset[0], \"px\"),\n                                marginLeft: \"\".concat(offset[1], \"px\"),\n                            },\n                        key: \"mark\".concat(index),\n                        ref: _this.markRefs[index],\n                    },\n                    index: index,\n                });\n            }), true), values.map(function (value, index) {\n                var isDragged = _this.state.draggedThumbIndex === index;\n                return renderThumb({\n                    index: index,\n                    value: value,\n                    isDragged: isDragged,\n                    props: {\n                        style: {\n                            position: \"absolute\",\n                            zIndex: thumbZIndexes[index],\n                            cursor: disabled ? \"inherit\" : isDragged ? \"grabbing\" : \"grab\",\n                            userSelect: \"none\",\n                            touchAction: \"none\",\n                            WebkitUserSelect: \"none\",\n                            MozUserSelect: \"none\",\n                            msUserSelect: \"none\",\n                        },\n                        key: index,\n                        tabIndex: disabled ? undefined : 0,\n                        \"aria-valuemax\": allowOverlap ? max : values[index + 1] || max,\n                        \"aria-valuemin\": allowOverlap ? min : values[index - 1] || min,\n                        \"aria-valuenow\": value,\n                        draggable: false,\n                        ref: _this.thumbRefs[index],\n                        \"aria-label\": label,\n                        \"aria-labelledby\": labelledBy,\n                        role: \"slider\",\n                        onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n                        onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp,\n                    },\n                });\n            }), true),\n        });\n    };\n    Range.defaultProps = {\n        label: \"Accessibility label\",\n        labelledBy: null,\n        step: 1,\n        direction: types_1.Direction.Right,\n        rtl: false,\n        disabled: false,\n        allowOverlap: false,\n        draggableTrack: false,\n        min: 0,\n        max: 100,\n    };\n    return Range;\n}(React.Component));\nexports.default = Range;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkValuesAgainstBoundaries = exports.relativeValue = exports.useThumbOverlap = exports.Direction = exports.getTrackBackground = exports.Range = void 0;\nvar Range_1 = __importDefault(require(\"./Range\"));\nexports.Range = Range_1.default;\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"getTrackBackground\", { enumerable: true, get: function () { return utils_1.getTrackBackground; } });\nObject.defineProperty(exports, \"useThumbOverlap\", { enumerable: true, get: function () { return utils_1.useThumbOverlap; } });\nObject.defineProperty(exports, \"relativeValue\", { enumerable: true, get: function () { return utils_1.relativeValue; } });\nObject.defineProperty(exports, \"checkValuesAgainstBoundaries\", { enumerable: true, get: function () { return utils_1.checkValuesAgainstBoundaries; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"Direction\", { enumerable: true, get: function () { return types_1.Direction; } });\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport { getTrackBackground } from 'react-range';\nimport { styled } from '../styles';\nexport var Root = styled('div', {\n  position: 'relative',\n  width: '100%'\n});\nRoot.displayName = \"Root\";\nRoot.displayName = 'Root';\nRoot.displayName = 'StyledRoot';\nexport var Track = styled('div', function (props) {\n  var $theme = props.$theme,\n      _props$$value = props.$value,\n      $value = _props$$value === void 0 ? [] : _props$$value,\n      $disabled = props.$disabled,\n      $isDragged = props.$isDragged;\n  var sizing = $theme.sizing;\n  var cursor = 'inherit';\n\n  if ($disabled) {\n    cursor = 'not-allowed';\n  } else if ($isDragged) {\n    cursor = 'grabbing';\n  } else if ($value.length === 1) {\n    cursor = 'pointer';\n  }\n\n  return {\n    paddingTop: sizing.scale600,\n    paddingBottom: sizing.scale600,\n    paddingRight: sizing.scale600,\n    paddingLeft: sizing.scale600,\n    display: 'flex',\n    cursor: cursor,\n    backgroundColor: $theme.colors.sliderTrackFill\n  };\n});\nTrack.displayName = \"Track\";\nTrack.displayName = 'Track';\nTrack.displayName = 'StyledTrack';\nexport var InnerTrack = styled('div', function (props) {\n  var $theme = props.$theme,\n      _props$$value2 = props.$value,\n      $value = _props$$value2 === void 0 ? [] : _props$$value2,\n      $min = props.$min,\n      $max = props.$max,\n      $disabled = props.$disabled;\n  var colors = $theme.colors,\n      borders = $theme.borders,\n      direction = $theme.direction;\n  var borderRadius = $theme.borders.useRoundedCorners ? borders.radius100 : 0;\n  return {\n    borderTopLeftRadius: borderRadius,\n    borderTopRightRadius: borderRadius,\n    borderBottomRightRadius: borderRadius,\n    borderBottomLeftRadius: borderRadius,\n    background: getTrackBackground({\n      values: $value,\n      colors: $value.length === 1 ? [$disabled ? colors.borderOpaque : colors.primary, $disabled ? colors.backgroundSecondary : colors.borderOpaque] : [$disabled ? colors.backgroundSecondary : colors.borderOpaque, $disabled ? colors.borderOpaque : colors.primary, $disabled ? colors.backgroundSecondary : colors.borderOpaque],\n      min: $min || 0,\n      max: $max || 0,\n      rtl: direction === 'rtl'\n    }),\n    height: '2px',\n    width: '100%',\n    alignSelf: 'center',\n    cursor: $disabled ? 'not-allowed' : 'inherit'\n  };\n});\nInnerTrack.displayName = \"InnerTrack\";\nInnerTrack.displayName = 'InnerTrack';\nInnerTrack.displayName = 'StyledInnerTrack';\nexport var Mark = styled('div', function (props) {\n  return {\n    width: '4px',\n    height: '2px',\n    backgroundColor: props.$theme.colors.backgroundPrimary,\n    marginLeft: '16px'\n  };\n});\nMark.displayName = \"Mark\";\nMark.displayName = 'Mark';\nMark.displayName = 'StyledMark';\nexport var Tick = styled('div', function (props) {\n  return _objectSpread(_objectSpread({}, props.$theme.typography.font200), {}, {\n    color: props.$theme.colors.contentPrimary\n  });\n});\nTick.displayName = \"Tick\";\nTick.displayName = 'Tick';\nTick.displayName = 'StyledTick';\nexport var TickBar = styled('div', function (props) {\n  var $theme = props.$theme;\n  var sizing = $theme.sizing;\n  return {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: sizing.scale600,\n    paddingLeft: sizing.scale600,\n    paddingBottom: sizing.scale400\n  };\n});\nTickBar.displayName = \"TickBar\";\nTickBar.displayName = 'TickBar';\nTickBar.displayName = 'StyledTickBar';\nexport var Thumb = styled('div', function (props) {\n  var $theme = props.$theme,\n      _props$$value3 = props.$value,\n      $value = _props$$value3 === void 0 ? [] : _props$$value3,\n      $thumbIndex = props.$thumbIndex,\n      $disabled = props.$disabled;\n  var isLeft = $value.length === 2 && $thumbIndex === 0;\n  var isRight = $value.length === 2 && $thumbIndex === 1;\n\n  if ($theme.direction === 'rtl' && (isRight || isLeft)) {\n    isLeft = !isLeft;\n    isRight = !isRight;\n  }\n\n  return {\n    height: '24px',\n    width: '24px',\n    borderTopLeftRadius: '24px',\n    borderTopRightRadius: '24px',\n    borderBottomLeftRadius: '24px',\n    borderBottomRightRadius: '24px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: $disabled ? $theme.colors.sliderHandleFillDisabled : $theme.colors.sliderHandleFill,\n    outline: 'none',\n    boxShadow: props.$isFocusVisible ? \"0 0 0 3px \".concat($theme.colors.accent) : '0 1px 4px rgba(0, 0, 0, 0.12)',\n    cursor: $disabled ? 'not-allowed' : 'inherit'\n  };\n});\nThumb.displayName = \"Thumb\";\nThumb.displayName = 'Thumb';\nThumb.displayName = 'StyledThumb';\nexport var InnerThumb = styled('div', function (props) {\n  var $disabled = props.$disabled,\n      $theme = props.$theme;\n  return {\n    position: 'absolute',\n    top: '-16px',\n    width: '4px',\n    height: '20px',\n    backgroundColor: $disabled ? $theme.colors.sliderHandleFillDisabled : $theme.colors.sliderHandleInnerFill\n  };\n});\nInnerThumb.displayName = \"InnerThumb\";\nInnerThumb.displayName = 'InnerThumb';\nInnerThumb.displayName = 'StyledInnerThumb';\nexport var ThumbValue = styled('div', function (props) {\n  var $disabled = props.$disabled,\n      $theme = props.$theme;\n  return _objectSpread(_objectSpread({\n    position: 'absolute',\n    top: \"-\".concat($theme.sizing.scale1400)\n  }, $theme.typography.font200), {}, {\n    backgroundColor: $disabled ? $theme.colors.sliderHandleFillDisabled : $theme.colors.sliderHandleInnerFill,\n    color: $theme.colors.contentInversePrimary,\n    paddingLeft: $theme.sizing.scale600,\n    paddingRight: $theme.sizing.scale600,\n    paddingTop: $theme.sizing.scale500,\n    paddingBottom: $theme.sizing.scale500,\n    borderBottomLeftRadius: '48px',\n    borderBottomRightRadius: '48px',\n    borderTopLeftRadius: '48px',\n    borderTopRightRadius: '48px',\n    whiteSpace: 'nowrap'\n  });\n});\nThumbValue.displayName = \"ThumbValue\";\nThumbValue.displayName = 'ThumbValue';\nThumbValue.displayName = 'StyledThumbValue';","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { Range } from 'react-range';\nimport { isFocusVisible as focusVisible, forkFocus, forkBlur } from '../utils/focusVisible';\nimport { Root as StyledRoot, Track as StyledTrack, InnerTrack as StyledInnerTrack, Tick as StyledTick, TickBar as StyledTickBar, Thumb as StyledThumb, InnerThumb as StyledInnerThumb, ThumbValue as StyledThumbValue, Mark as StyledMark } from './styled-components';\nimport { getOverrides } from '../helpers/overrides';\nimport { ThemeContext } from '../styles/theme-provider';\n\n// value.length should not be bigger than two\n// because our design doesn't support more than\n// two thumbs\nvar limitValue = function limitValue(value) {\n  if (value.length > 2 || value.length === 0) {\n    throw new Error('the value prop represents positions of thumbs, so its length can be only one or two');\n  }\n\n  return value;\n};\n\nfunction Slider(_ref) {\n  var _ref$overrides = _ref.overrides,\n      overrides = _ref$overrides === void 0 ? {} : _ref$overrides,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$marks = _ref.marks,\n      marks = _ref$marks === void 0 ? false : _ref$marks,\n      _ref$onChange = _ref.onChange,\n      _onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange,\n      _ref$onFinalChange = _ref.onFinalChange,\n      _onFinalChange = _ref$onFinalChange === void 0 ? function () {} : _ref$onFinalChange,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 0 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 100 : _ref$max,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step,\n      _ref$persistentThumb = _ref.persistentThumb,\n      persistentThumb = _ref$persistentThumb === void 0 ? false : _ref$persistentThumb,\n      _ref$valueToLabel = _ref.valueToLabel,\n      valueToLabel = _ref$valueToLabel === void 0 ? function (label) {\n    return label;\n  } : _ref$valueToLabel,\n      providedValue = _ref.value;\n\n  var theme = React.useContext(ThemeContext);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isHovered0 = _React$useState2[0],\n      setIsHovered0 = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isHovered1 = _React$useState4[0],\n      setIsHovered1 = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isFocusVisible = _React$useState6[0],\n      setIsFocusVisible = _React$useState6[1];\n\n  var _React$useState7 = React.useState(-1),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      focusedThumbIndex = _React$useState8[0],\n      setFocusedThumbIndex = _React$useState8[1];\n\n  var handleFocus = React.useCallback(function (event) {\n    if (focusVisible(event)) {\n      setIsFocusVisible(true);\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    var index = event.target.parentNode.firstChild === event.target ? 0 : 1;\n    setFocusedThumbIndex(index);\n  }, []); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  var handleBlur = React.useCallback(function (event) {\n    if (isFocusVisible !== false) {\n      setIsFocusVisible(false);\n    }\n\n    setFocusedThumbIndex(-1);\n  }, []);\n  var value = limitValue(providedValue);\n  var sharedProps = {\n    $disabled: disabled,\n    $step: step,\n    $min: min,\n    $max: max,\n    $marks: marks,\n    $value: value,\n    $isFocusVisible: isFocusVisible\n  };\n\n  var _getOverrides = getOverrides(overrides.Root, StyledRoot),\n      _getOverrides2 = _slicedToArray(_getOverrides, 2),\n      Root = _getOverrides2[0],\n      rootProps = _getOverrides2[1];\n\n  var _getOverrides3 = getOverrides(overrides.Track, StyledTrack),\n      _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n      Track = _getOverrides4[0],\n      trackProps = _getOverrides4[1];\n\n  var _getOverrides5 = getOverrides(overrides.InnerTrack, StyledInnerTrack),\n      _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n      InnerTrack = _getOverrides6[0],\n      innerTrackProps = _getOverrides6[1];\n\n  var _getOverrides7 = getOverrides(overrides.Thumb, StyledThumb),\n      _getOverrides8 = _slicedToArray(_getOverrides7, 2),\n      Thumb = _getOverrides8[0],\n      thumbProps = _getOverrides8[1];\n\n  var _getOverrides9 = getOverrides(overrides.InnerThumb, StyledInnerThumb),\n      _getOverrides10 = _slicedToArray(_getOverrides9, 2),\n      InnerThumb = _getOverrides10[0],\n      innerThumbProps = _getOverrides10[1];\n\n  var _getOverrides11 = getOverrides(overrides.ThumbValue, StyledThumbValue),\n      _getOverrides12 = _slicedToArray(_getOverrides11, 2),\n      ThumbValue = _getOverrides12[0],\n      thumbValueProps = _getOverrides12[1];\n\n  var _getOverrides13 = getOverrides(overrides.Tick, StyledTick),\n      _getOverrides14 = _slicedToArray(_getOverrides13, 2),\n      Tick = _getOverrides14[0],\n      tickProps = _getOverrides14[1];\n\n  var _getOverrides15 = getOverrides(overrides.TickBar, StyledTickBar),\n      _getOverrides16 = _slicedToArray(_getOverrides15, 2),\n      TickBar = _getOverrides16[0],\n      tickBarProps = _getOverrides16[1];\n\n  var _getOverrides17 = getOverrides(overrides.Mark, StyledMark),\n      _getOverrides18 = _slicedToArray(_getOverrides17, 2),\n      Mark = _getOverrides18[0],\n      markProps = _getOverrides18[1];\n\n  return /*#__PURE__*/React.createElement(Root, _extends({\n    \"data-baseweb\": \"slider\"\n  }, sharedProps, rootProps, {\n    onFocus: forkFocus(rootProps, handleFocus),\n    onBlur: forkBlur(rootProps, handleBlur)\n  }), /*#__PURE__*/React.createElement(Range, _extends({\n    step: step,\n    min: min,\n    max: max,\n    values: value,\n    disabled: disabled,\n    onChange: function onChange(value) {\n      return _onChange({\n        value: value\n      });\n    },\n    onFinalChange: function onFinalChange(value) {\n      return _onFinalChange({\n        value: value\n      });\n    },\n    rtl: theme.direction === 'rtl',\n    renderTrack: function renderTrack(_ref2) {\n      var props = _ref2.props,\n          children = _ref2.children,\n          isDragged = _ref2.isDragged;\n      return /*#__PURE__*/React.createElement(Track, _extends({\n        onMouseDown: props.onMouseDown,\n        onTouchStart: props.onTouchStart,\n        $isDragged: isDragged\n      }, sharedProps, trackProps), /*#__PURE__*/React.createElement(InnerTrack, _extends({\n        $isDragged: isDragged,\n        ref: props.ref\n      }, sharedProps, innerTrackProps), children));\n    },\n    renderThumb: function renderThumb(_ref3) {\n      var props = _ref3.props,\n          index = _ref3.index,\n          isDragged = _ref3.isDragged;\n      var displayLabel = persistentThumb ? persistentThumb : (!!index && isHovered1 || !index && isHovered0 || isDragged) && !disabled;\n      return /*#__PURE__*/React.createElement(Thumb, _extends({}, props, {\n        onMouseEnter: function onMouseEnter() {\n          if (index === 0) {\n            setIsHovered0(true);\n          } else {\n            setIsHovered1(true);\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          if (index === 0) {\n            setIsHovered0(false);\n          } else {\n            setIsHovered1(false);\n          }\n        },\n        $thumbIndex: index,\n        $isDragged: isDragged,\n        style: _objectSpread({}, props.style)\n      }, sharedProps, thumbProps, {\n        $isFocusVisible: isFocusVisible && focusedThumbIndex === index\n      }), displayLabel && /*#__PURE__*/React.createElement(ThumbValue, _extends({\n        $thumbIndex: index,\n        $isDragged: isDragged\n      }, sharedProps, thumbValueProps), valueToLabel(value[index])), displayLabel && /*#__PURE__*/React.createElement(InnerThumb, _extends({\n        $thumbIndex: index,\n        $isDragged: isDragged\n      }, sharedProps, innerThumbProps)));\n    }\n  }, marks ? {\n    // eslint-disable-next-line react/display-name\n    renderMark: function renderMark(_ref4) {\n      var props = _ref4.props,\n          index = _ref4.index;\n      return /*#__PURE__*/React.createElement(Mark, _extends({\n        $markIndex: index\n      }, props, sharedProps, markProps));\n    }\n  } : {})), /*#__PURE__*/React.createElement(TickBar, _extends({}, sharedProps, tickBarProps), /*#__PURE__*/React.createElement(Tick, _extends({}, sharedProps, tickProps), valueToLabel(min)), /*#__PURE__*/React.createElement(Tick, _extends({}, sharedProps, tickProps), valueToLabel(max))));\n}\n\nexport default Slider;","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { transparentize } from \"color2k\"\n\nexport const StyledSlider = styled.div({\n  position: \"relative\",\n})\n\nexport interface StyledThumbProps {\n  disabled: boolean\n  isDragged: boolean\n}\n\nexport const StyledThumb = styled.div<StyledThumbProps>(\n  ({ disabled, theme, isDragged }) => ({\n    alignItems: \"center\",\n    backgroundColor: disabled ? theme.colors.gray60 : theme.colors.primary,\n    borderTopLeftRadius: \"100%\",\n    borderTopRightRadius: \"100%\",\n    borderBottomLeftRadius: \"100%\",\n    borderBottomRightRadius: \"100%\",\n    borderTopStyle: \"none\",\n    borderBottomStyle: \"none\",\n    borderRightStyle: \"none\",\n    borderLeftStyle: \"none\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    height: theme.sizes.sliderThumb,\n    width: theme.sizes.sliderThumb,\n    boxShadow: isDragged\n      ? `0 0 0 0.2rem ${transparentize(theme.colors.primary, 0.5)}`\n      : \"none\",\n    \":focus\": {\n      outline: \"none\",\n    },\n    \":focus-visible\": {\n      boxShadow: `0 0 0 0.2rem ${transparentize(theme.colors.primary, 0.5)}`,\n    },\n  })\n)\n\nexport interface StyledThumbValueProps {\n  disabled: boolean\n}\n\nexport const StyledThumbValue = styled.div<StyledThumbValueProps>(\n  ({ disabled, theme }) => ({\n    fontFamily: theme.genericFonts.bodyFont,\n    fontSize: theme.fontSizes.sm,\n    color: disabled ? theme.colors.gray60 : theme.colors.primary,\n    top: \"-1.6em\",\n    position: \"absolute\",\n    whiteSpace: \"nowrap\",\n    backgroundColor: theme.colors.transparent,\n    lineHeight: theme.lineHeights.base,\n    fontWeight: theme.fontWeights.normal,\n    // If values are clickable, it's hard to move the right thumb when they're\n    // very close. So make them unclickable:\n    pointerEvents: \"none\",\n  })\n)\n\nexport interface StyledSliderTickBarProps {\n  isHovered: boolean\n  isDisabled: boolean\n}\n\nexport const StyledSliderTickBar = styled.div<StyledSliderTickBarProps>(\n  ({ theme, isHovered, isDisabled }) => ({\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    pointerEvents: \"none\",\n    marginTop: `-${theme.spacing.md}`,\n    fontSize: theme.fontSizes.sm,\n    lineHeight: theme.lineHeights.base,\n    fontWeight: theme.fontWeights.normal,\n    color: isDisabled ? theme.colors.fadedText40 : theme.colors.fadedText60,\n    opacity: isHovered ? 1 : 0,\n    transition: \"opacity 70ms ease-in-out\",\n  })\n)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n  createRef,\n  forwardRef,\n  memo,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\"\n\nimport { type StyleProps, Slider as UISlider } from \"baseui/slider\"\nimport pick from \"lodash/pick\"\nimport moment from \"moment\"\nimport { sprintf } from \"sprintf-js\"\n\nimport { Slider as SliderProto } from \"@streamlit/protobuf\"\n\nimport { withCalculatedWidth } from \"~lib/components/core/Layout/withCalculatedWidth\"\nimport { Placement } from \"~lib/components/shared/Tooltip\"\nimport TooltipIcon from \"~lib/components/shared/TooltipIcon\"\nimport {\n  StyledWidgetLabelHelp,\n  WidgetLabel,\n} from \"~lib/components/widgets/BaseWidget\"\nimport {\n  useBasicWidgetState,\n  ValueWithSource,\n} from \"~lib/hooks/useBasicWidgetState\"\nimport { useEmotionTheme } from \"~lib/hooks/useEmotionTheme\"\nimport { labelVisibilityProtoValueToEnum } from \"~lib/util/utils\"\nimport { WidgetStateManager } from \"~lib/WidgetStateManager\"\n\nimport {\n  StyledSlider,\n  StyledSliderTickBar,\n  StyledThumb,\n  StyledThumbValue,\n} from \"./styled-components\"\n\ninterface SliderTickBarProps {\n  minLabel: string\n  maxLabel: string\n  isHovered: boolean\n  isDisabled: boolean\n}\n\nfunction SliderTickBar({\n  minLabel,\n  maxLabel,\n  isHovered,\n  isDisabled,\n}: SliderTickBarProps): ReactElement {\n  return (\n    <StyledSliderTickBar\n      data-testid=\"stSliderTickBar\"\n      isHovered={isHovered}\n      isDisabled={isDisabled}\n    >\n      <span>{minLabel}</span>\n      <span>{maxLabel}</span>\n    </StyledSliderTickBar>\n  )\n}\n\nexport interface Props {\n  disabled: boolean\n  element: SliderProto\n  widgetMgr: WidgetStateManager\n  width: number\n  fragmentId?: string\n}\n\nfunction Slider({\n  disabled,\n  element,\n  widgetMgr,\n  fragmentId,\n}: Props): ReactElement {\n  const [value, setValueWithSource] = useBasicWidgetState<\n    number[],\n    SliderProto\n  >({\n    getStateFromWidgetMgr,\n    getDefaultStateFromProto,\n    getCurrStateFromProto,\n    updateWidgetMgrState,\n    element,\n    widgetMgr,\n    fragmentId,\n  })\n\n  // We tie the UI to `uiValue` rather than `value` because `value` only\n  // updates when the user is done interacting with the slider. If we tied\n  // the UI to `value` then the UI would only update when the user is done\n  // interacting. So this keeps the UI smooth.\n  const [uiValue, setUiValue] = useState(value)\n  const [isHovered, setIsHovered] = useState(false)\n  const [isDragging, setIsDragging] = useState(false)\n\n  const handleMouseEnter = useCallback(() => setIsHovered(true), [])\n  const handleMouseLeave = useCallback(() => setIsHovered(false), [])\n\n  const sliderRef = useRef<HTMLDivElement | null>(null)\n  const [thumbRefs] = useState<\n    React.MutableRefObject<HTMLDivElement | null>[]\n  >([])\n  const [thumbValueRefs] = useState<\n    React.MutableRefObject<HTMLDivElement | null>[]\n  >([])\n\n  const theme = useEmotionTheme()\n\n  const formattedValueArr = uiValue.map(v => formatValue(v, element))\n  const formattedMinValue = formatValue(element.min, element)\n  const formattedMaxValue = formatValue(element.max, element)\n\n  const thumbAriaLabel = element.label\n\n  // When resetting a form, `value` will change so we need to change `uiValue`\n  // to match.\n  useEffect(() => {\n    setUiValue(value)\n  }, [value])\n\n  const handleFinalChange = useCallback(\n    ({ value: valueArg }: { value: number[] }): void => {\n      setValueWithSource({ value: valueArg, fromUi: true })\n      setIsDragging(false)\n    },\n    [setValueWithSource]\n  )\n\n  const handleChange = useCallback(\n    ({ value: valueArg }: { value: number[] }): void => {\n      setUiValue(valueArg)\n      setIsDragging(true)\n    },\n    []\n  )\n\n  // TODO: Update to match React best practices\n  // eslint-disable-next-line react-hooks/react-compiler\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const renderThumb = useCallback(\n    forwardRef<HTMLDivElement, StyleProps>(function renderThumb(\n      props: StyleProps,\n      ref\n    ): ReactElement {\n      const { $thumbIndex } = props\n      const thumbIndex = $thumbIndex || 0\n      thumbRefs[thumbIndex] = ref as React.MutableRefObject<HTMLDivElement>\n      // eslint-disable-next-line @eslint-react/no-create-ref\n      thumbValueRefs[thumbIndex] ||= createRef<HTMLDivElement>()\n\n      const passThrough = pick(props, [\n        \"role\",\n        \"style\",\n        \"aria-valuemax\",\n        \"aria-valuemin\",\n        \"aria-valuenow\",\n        \"tabIndex\",\n        \"onKeyUp\",\n        \"onKeyDown\",\n        \"onMouseEnter\",\n        \"onMouseLeave\",\n        \"draggable\",\n      ])\n\n      const formattedValue = formattedValueArr[thumbIndex]\n\n      return (\n        <StyledThumb\n          {...passThrough}\n          disabled={props.$disabled === true}\n          isDragged={props.$isDragged === true}\n          ref={thumbRefs[thumbIndex]}\n          aria-valuetext={formattedValue}\n          aria-label={thumbAriaLabel}\n        >\n          <StyledThumbValue\n            data-testid=\"stSliderThumbValue\"\n            disabled={props.$disabled === true}\n            ref={thumbValueRefs[thumbIndex]}\n          >\n            {formattedValue}\n          </StyledThumbValue>\n        </StyledThumb>\n      )\n    }),\n    // Only run this on first render, to avoid losing the focus state.\n    // Then, when the value written about the thumb needs to change, that\n    // happens with the function below instead.\n    []\n  )\n\n  useEffect(() => {\n    // Update the numbers on the thumb via DOM manipulation to avoid a redraw,\n    // which drops the widget's focus state.\n    thumbValueRefs.map((ref, i) => {\n      if (ref.current) {\n        ref.current.innerText = formattedValueArr[i]\n      }\n    })\n\n    thumbRefs.map((ref, i) => {\n      if (ref.current) {\n        ref.current.setAttribute(\"aria-valuetext\", formattedValueArr[i])\n      }\n    })\n\n    // If, after rendering, the thumb value's is outside the container (too\n    // far left or too far right), bring it inside. Or if there are two\n    // thumbs and their values overlap, fix that.\n    const sliderDiv = sliderRef.current ?? null\n    const thumb1Div = thumbRefs[0].current\n    const thumb2Div = thumbRefs[1]?.current\n    const thumb1ValueDiv = thumbValueRefs[0].current\n    const thumb2ValueDiv = thumbValueRefs[1]?.current\n\n    fixLabelPositions(\n      sliderDiv,\n      thumb1Div,\n      thumb2Div,\n      thumb1ValueDiv,\n      thumb2ValueDiv\n    )\n  })\n\n  const innerTrackStyle = useCallback(\n    ({ $disabled }: StyleProps) => ({\n      height: theme.spacing.twoXS,\n      ...($disabled ? { background: theme.colors.darkenedBgMix25 } : {}),\n    }),\n    [theme.colors.darkenedBgMix25, theme.spacing.twoXS]\n  )\n\n  return (\n    <StyledSlider\n      ref={sliderRef}\n      className=\"stSlider\"\n      data-testid=\"stSlider\"\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <WidgetLabel\n        label={element.label}\n        disabled={disabled}\n        labelVisibility={labelVisibilityProtoValueToEnum(\n          element.labelVisibility?.value\n        )}\n      >\n        {element.help && (\n          <StyledWidgetLabelHelp>\n            <TooltipIcon\n              content={element.help}\n              placement={Placement.TOP_RIGHT}\n            />\n          </StyledWidgetLabelHelp>\n        )}\n      </WidgetLabel>\n      <UISlider\n        min={element.min}\n        max={element.max}\n        step={element.step}\n        value={getValueAsArray(uiValue, element)}\n        onChange={handleChange}\n        onFinalChange={handleFinalChange}\n        disabled={disabled}\n        overrides={{\n          Thumb: renderThumb,\n          Track: {\n            style: {\n              backgroundColor: \"none !important\",\n              paddingLeft: theme.spacing.none,\n              paddingRight: theme.spacing.none,\n              // Set padding so total height equals minElementHeight (40px)\n              // Total height = paddingTop + innerTrack height + paddingBottom\n              paddingTop: `calc((${theme.sizes.minElementHeight} - ${theme.spacing.twoXS}) / 2)`,\n              paddingBottom: `calc((${theme.sizes.minElementHeight} - ${theme.spacing.twoXS}) / 2)`,\n            },\n          },\n          InnerTrack: {\n            style: innerTrackStyle,\n          },\n          // Show min/max labels when hovering the slider or dragging it\n          TickBar: {\n            component: SliderTickBar,\n            props: {\n              minLabel: formattedMinValue,\n              maxLabel: formattedMaxValue,\n              isHovered: isHovered || isDragging,\n              isDisabled: disabled,\n            },\n          },\n        }}\n      />\n    </StyledSlider>\n  )\n}\n\nfunction getStateFromWidgetMgr(\n  widgetMgr: WidgetStateManager,\n  element: SliderProto\n): number[] | undefined {\n  return widgetMgr.getDoubleArrayValue(element)\n}\n\nfunction getDefaultStateFromProto(element: SliderProto): number[] {\n  return element.default\n}\n\nfunction getCurrStateFromProto(element: SliderProto): number[] {\n  return element.value\n}\n\nfunction updateWidgetMgrState(\n  element: SliderProto,\n  widgetMgr: WidgetStateManager,\n  vws: ValueWithSource<number[]>,\n  fragmentId?: string\n): void {\n  widgetMgr.setDoubleArrayValue(\n    element,\n    vws.value,\n    { fromUi: vws.fromUi },\n    fragmentId\n  )\n}\n\nfunction isDateTimeType(element: SliderProto): boolean {\n  const { dataType } = element\n  return (\n    dataType === SliderProto.DataType.DATETIME ||\n    dataType === SliderProto.DataType.DATE ||\n    dataType === SliderProto.DataType.TIME\n  )\n}\n\nfunction formatValue(value: number, element: SliderProto): string {\n  const { format, options } = element\n  if (isDateTimeType(element)) {\n    // Python datetime uses microseconds, but JS & Moment uses milliseconds\n    // The timestamp is always set to the UTC timezone, even so, the actual timezone\n    // for this timestamp in the backend could be different.\n    // However, the frontend component does not need to know about the actual timezone.\n\n    return moment.utc(value / 1000).format(format)\n  }\n\n  if (options.length > 0) {\n    return sprintf(format, options[value])\n  }\n\n  return sprintf(format, value)\n}\n\n/**\n * Return the value of the slider. This will either be an array with\n * one value (for a single value slider), or an array with two\n * values (for a range slider).\n */\nfunction getValueAsArray(value: number[], element: SliderProto): number[] {\n  const { min, max } = element\n  let start = value[0]\n  let end = value.length > 1 ? value[1] : value[0]\n  // Adjust the value if it's out of bounds.\n  if (start > end) {\n    start = end\n  }\n  if (start < min) {\n    start = min\n  }\n  if (start > max) {\n    start = max\n  }\n  if (end < min) {\n    end = min\n  }\n  if (end > max) {\n    end = max\n  }\n  return value.length > 1 ? [start, end] : [start]\n}\n\nfunction fixLabelPositions(\n  sliderDiv: HTMLDivElement | null,\n  thumb1Div: HTMLDivElement | null,\n  thumb2Div: HTMLDivElement | null,\n  thumb1ValueDiv: HTMLDivElement | null,\n  thumb2ValueDiv: HTMLDivElement | null\n): void {\n  if (!sliderDiv || !thumb1Div || !thumb1ValueDiv) {\n    return\n  }\n\n  fixLabelOverflow(sliderDiv, thumb1Div, thumb1ValueDiv)\n\n  if (thumb2Div && thumb2ValueDiv) {\n    fixLabelOverflow(sliderDiv, thumb2Div, thumb2ValueDiv)\n\n    // If two thumbs.\n    fixLabelOverlap(\n      sliderDiv,\n      thumb1Div,\n      thumb2Div,\n      thumb1ValueDiv,\n      thumb2ValueDiv\n    )\n  }\n}\n\nfunction fixLabelOverflow(\n  slider: HTMLDivElement,\n  thumb: HTMLDivElement,\n  thumbValue: HTMLDivElement\n): void {\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const sliderRect = slider.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumbRect = thumb.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumbValueRect = thumbValue.getBoundingClientRect()\n\n  const thumbMidpoint = thumbRect.left + thumbRect.width / 2\n  const thumbValueOverflowsLeft =\n    thumbMidpoint - thumbValueRect.width / 2 < sliderRect.left\n  const thumbValueOverflowsRight =\n    thumbMidpoint + thumbValueRect.width / 2 > sliderRect.right\n\n  thumbValue.style.left = thumbValueOverflowsLeft ? \"0\" : \"\"\n  thumbValue.style.right = thumbValueOverflowsRight ? \"0\" : \"\"\n}\n\n/**\n * Goals:\n * - Keep the thumb values near their respective thumbs.\n * - Keep thumb values within the bounds of the slider.\n * - Avoid visual jank while moving the thumbs\n */\nfunction fixLabelOverlap(\n  sliderDiv: HTMLDivElement,\n  thumb1Div: HTMLDivElement,\n  thumb2Div: HTMLDivElement,\n  thumb1ValueDiv: HTMLDivElement,\n  thumb2ValueDiv: HTMLDivElement\n): void {\n  const labelGap = 24\n\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const sliderRect = sliderDiv.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb1Rect = thumb1Div.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb2Rect = thumb2Div.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb1ValueRect = thumb1ValueDiv.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb2ValueRect = thumb2ValueDiv.getBoundingClientRect()\n\n  const sliderMidpoint = sliderRect.left + sliderRect.width / 2\n  const thumb1MidPoint = thumb1Rect.left + thumb1Rect.width / 2\n  const thumb2MidPoint = thumb2Rect.left + thumb2Rect.width / 2\n\n  const centeredThumb1ValueFitsLeft =\n    thumb1MidPoint - thumb1ValueRect.width / 2 >= sliderRect.left\n\n  const centeredThumb2ValueFitsRight =\n    thumb2MidPoint + thumb2ValueRect.width / 2 <= sliderRect.right\n\n  const leftAlignedThumb1ValueFitsLeft =\n    thumb1Rect.left - thumb1ValueRect.width >= sliderRect.left\n\n  const rightAlignedThumb2ValueFitsRight =\n    thumb2Rect.right + thumb2ValueRect.width <= sliderRect.right\n\n  const thumb1ValueOverhang = centeredThumb1ValueFitsLeft\n    ? thumb1ValueRect.width / 2\n    : thumb1ValueRect.width\n\n  const thumb2ValueOverhang = centeredThumb2ValueFitsRight\n    ? thumb2ValueRect.width / 2\n    : thumb2ValueRect.width\n\n  const thumb1ValueInnerEdge = thumb1MidPoint + thumb1ValueOverhang\n  const thumb2ValueInnerEdge = thumb2MidPoint - thumb2ValueOverhang\n  const thumbsAreFarApart =\n    thumb2ValueInnerEdge - thumb1ValueInnerEdge > labelGap\n\n  // If thumbs are far apart, just handle each separately.\n  //\n  // 1. Center values on their thumbs, like this:\n  //\n  //        [thumb1Value]       [thumb1Value]\n  // |--------[thumb1]-------------[thumb2]-------------------|\n  //\n  //\n  // 2. If one of the thumbs is so close to the edge that centering would cause\n  // the value to overflow past the edge, align the value away from the edge.\n  // (This is the normal fixLabelOverflow() behavior)\n  //\n  // For example, let's say thumb1 moved to the left:\n  //\n  //     [thumb1Value]          [thumb2Value]\n  // |---[thumb1]------------------[thumb2]-------------------|\n  //\n  //\n  if (thumbsAreFarApart) {\n    fixLabelOverflow(sliderDiv, thumb1Div, thumb1ValueDiv)\n    fixLabelOverflow(sliderDiv, thumb2Div, thumb2ValueDiv)\n    return\n  }\n\n  // If thumbs are close, try different things...\n\n  // 3. If thumbs are so close that centering would cause values to\n  // overlap, then place the values to the side of their thumbs, away from\n  // the opposing thumbs:\n  //\n  // For example, if starting from case #1 above we moved thumb1 to the\n  // right:\n  //\n  //      [thumb1Value]                    [thumb2Value]\n  // |-----------------[thumb1]----[thumb2]-------------------|\n  //\n  // Note: round all values to not have weird decimal pixels (that make our Snapshot tests flaky)\n  if (leftAlignedThumb1ValueFitsLeft && rightAlignedThumb2ValueFitsRight) {\n    // Align value1 to the left of its thumb.\n    thumb1ValueDiv.style.left = \"\"\n    thumb1ValueDiv.style.right = `${Math.round(thumb1Rect.width)}px`\n\n    // Align value2 to the right of its thumb.\n    thumb2ValueDiv.style.left = `${Math.round(thumb2Rect.width)}px`\n    thumb2ValueDiv.style.right = \"\"\n\n    return\n  }\n\n  // 4. If one of the thumbs is so close to the edge that doing the outward\n  // alignment from #3 would cause its value to overflow past the edge, then\n  // try centering the value. And place the other thumb's value right next to\n  // it, to avoid overlaps.\n  //\n  // For example, if we moved thumb1 and thumb2 to the left by the same\n  // amount:\n  //\n  //    [thumb1Value][thumb2Value]\n  // |----[thumb1]--[thumb2]----------------------------------|\n  //\n  //\n  // 5. If one of the thumbs is so close to the edge that doing the center\n  // alignment from #4 would cause its value to overflow past the edge, then\n  // align it with its thumb, pointing inward. And, like in #4, place the\n  // other thumb's value right next to it to avoid overlaps.\n  //\n  // For example, if we moved thumb1 to the left, and moved thumb2 even more:\n  //\n  //   [thumb1Value][thumb2Value]\n  // |-[thumb1]--[thumb2]-------------------------------------|\n  //\n\n  const jointThumbsAreOnLeftHalf = thumb1MidPoint < sliderMidpoint\n\n  if (jointThumbsAreOnLeftHalf) {\n    fixLabelOverflow(sliderDiv, thumb1Div, thumb1ValueDiv)\n\n    // Make thumb2Value appear to the right of thumb1Value.\n    thumb2ValueDiv.style.left = `${Math.round(\n      thumb1MidPoint + thumb1ValueOverhang + labelGap - thumb2MidPoint\n    )}px`\n    thumb2ValueDiv.style.right = \"\"\n  } else {\n    fixLabelOverflow(sliderDiv, thumb2Div, thumb2ValueDiv)\n\n    // Make thumb1Value appear to the left of thumb2Value.\n    thumb1ValueDiv.style.left = \"\"\n    thumb1ValueDiv.style.right = `${-Math.round(\n      thumb2MidPoint - thumb2ValueOverhang - labelGap - thumb1MidPoint\n    )}px`\n  }\n}\n\n// Note: we shouldn't need `withCalculatedWidth` here, but there is some custom\n// ref measurement and style setting logic in this component used for fixing\n// overflows that is not properly within the React lifecycle. This leads to race\n// conditions in styles being applied outside of React's knowledge, which can\n// lead to visually incorrect labels in certain scenarios.\nexport default withCalculatedWidth(memo(Slider))\n"],"names":["types","Direction","__spreadArray","this","to","from","pack","i","l","ar","exports","react_1","require$$0","types_1","require$$1","getStepDecimals","step","decimals","isTouchEvent","event","isStepDivisible","min","max","res","precision","roundedRes","normalizeValue","value","index","allowOverlap","values","BIG_NUM","prev","next","remainder","closestLowerNum","rounded","decimalPlaces","relativeValue","isVertical","direction","checkBoundaries","checkValuesAgainstBoundaries","checkInitialOverlap","item","getMargin","element","style","getPaddingAndBorder","translateThumbs","elements","offsets","rtl","inverter","translate","getClosestThumbIndex","thumbs","clientX","clientY","thumbIndex","minThumbDistance","getThumbDistance","thumbDistance","x","y","schd","fn","lastArgs","frameId","wrapperFn","args","_i","replaceAt","ret","getTrackBackground","_a","colors","_b","_c","progress","a","b","middle","acc","point","voidFn","assertUnreachable","getThumbWidth","thumbEl","separator","valueToLabel","width","el","elWidth","elClone","getOverlaps","overlaps","buildOverlaps","thumbXWidth","thumbX","siblingIndex","siblingX","siblingWidth","useThumbOverlap","rangeRef","labelStyle","setLabelStyle","labelValue","setLabelValue","newStyle","offsets_1","labelValue_1","offsetsX","c","s","labelValues_1","thumb","first","last","lastWidth","left","top","height","isIOS","platform","__extends","extendStatics","d","p","__","__createBinding","o","m","k","k2","desc","__setModuleDefault","v","__importStar","mod","result","Range_1","React","utils_1","require$$2","INCREASE_KEYS","DECREASE_KEYS","Range","_super","props","_this","t","trackElement","trackRect","trackPadding","thumbOffsets","thumbRect","thumbMargins","e","child","thumbRef","draggedThumbIndex","isTouch","onChange","isChanged","draggedTrackPos","trackLength","dX","dY","deltaValue","thumbValue","newValues","newValue","onFinalChange","elStyles","trackWidth","trackHeight","paddingLeft","paddingTop","markHeight","markWidth","markRect","prevProps","prevState","options","label","labelledBy","renderTrack","renderThumb","renderMark","disabled","thumbZIndexes","markOffsets","offset","arr","isDragged","__importDefault","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","target","source","key","_defineProperty","obj","Root","styled","Track","$theme","_props$$value","$value","$disabled","$isDragged","sizing","cursor","InnerTrack","_props$$value2","$min","$max","borders","borderRadius","Mark","Tick","TickBar","Thumb","_props$$value3","$thumbIndex","isLeft","isRight","InnerThumb","ThumbValue","_extends","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","len","arr2","_arr","_n","_d","_s","_e","err","limitValue","Slider","_ref","_ref$overrides","overrides","_ref$disabled","_ref$marks","marks","_ref$onChange","_onChange","_ref$onFinalChange","_onFinalChange","_ref$min","_ref$max","_ref$step","_ref$persistentThumb","persistentThumb","_ref$valueToLabel","providedValue","theme","React.useContext","ThemeContext","_React$useState","React.useState","_React$useState2","isHovered0","setIsHovered0","_React$useState3","_React$useState4","isHovered1","setIsHovered1","_React$useState5","_React$useState6","isFocusVisible","setIsFocusVisible","_React$useState7","_React$useState8","focusedThumbIndex","setFocusedThumbIndex","handleFocus","React.useCallback","focusVisible","handleBlur","sharedProps","_getOverrides","getOverrides","StyledRoot","_getOverrides2","rootProps","_getOverrides3","StyledTrack","_getOverrides4","trackProps","_getOverrides5","StyledInnerTrack","_getOverrides6","innerTrackProps","_getOverrides7","StyledThumb","_getOverrides8","thumbProps","_getOverrides9","StyledInnerThumb","_getOverrides10","innerThumbProps","_getOverrides11","StyledThumbValue","_getOverrides12","thumbValueProps","_getOverrides13","StyledTick","_getOverrides14","tickProps","_getOverrides15","StyledTickBar","_getOverrides16","tickBarProps","_getOverrides17","StyledMark","_getOverrides18","markProps","React.createElement","forkFocus","forkBlur","_ref2","children","_ref3","displayLabel","_ref4","StyledSlider","_styled","name","styles","alignItems","backgroundColor","gray60","primary","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopStyle","borderBottomStyle","borderRightStyle","borderLeftStyle","display","justifyContent","sizes","sliderThumb","boxShadow","transparentize","outline","fontFamily","genericFonts","bodyFont","fontSize","fontSizes","sm","color","position","whiteSpace","transparent","lineHeight","lineHeights","base","fontWeight","fontWeights","normal","pointerEvents","StyledSliderTickBar","isHovered","isDisabled","right","marginTop","spacing","md","fadedText40","fadedText60","opacity","transition","SliderTickBar","minLabel","maxLabel","jsxs","jsx","widgetMgr","fragmentId","setValueWithSource","useBasicWidgetState","getStateFromWidgetMgr","getDefaultStateFromProto","getCurrStateFromProto","updateWidgetMgrState","uiValue","setUiValue","useState","setIsHovered","isDragging","setIsDragging","handleMouseEnter","useCallback","handleMouseLeave","sliderRef","useRef","thumbRefs","thumbValueRefs","useEmotionTheme","formattedValueArr","map","formatValue","formattedMinValue","formattedMaxValue","thumbAriaLabel","useEffect","handleFinalChange","valueArg","fromUi","handleChange","forwardRef","ref","createRef","passThrough","pick","formattedValue","current","innerText","setAttribute","sliderDiv","thumb1Div","thumb2Div","thumb1ValueDiv","thumb2ValueDiv","fixLabelPositions","innerTrackStyle","twoXS","background","darkenedBgMix25","WidgetLabel","labelVisibilityProtoValueToEnum","labelVisibility","help","StyledWidgetLabelHelp","TooltipIcon","Placement","TOP_RIGHT","UISlider","getValueAsArray","none","paddingRight","minElementHeight","paddingBottom","component","getDoubleArrayValue","default","vws","setDoubleArrayValue","isDateTimeType","dataType","SliderProto","DataType","DATETIME","DATE","TIME","format","moment","utc","length","sprintf","start","end","fixLabelOverflow","fixLabelOverlap","slider","sliderRect","getBoundingClientRect","thumbValueRect","thumbMidpoint","thumbValueOverflowsLeft","thumbValueOverflowsRight","thumb1Rect","thumb2Rect","thumb1ValueRect","thumb2ValueRect","sliderMidpoint","thumb1MidPoint","thumb2MidPoint","centeredThumb1ValueFitsLeft","centeredThumb2ValueFitsRight","leftAlignedThumb1ValueFitsLeft","rightAlignedThumb2ValueFitsRight","thumb1ValueOverhang","thumb2ValueOverhang","thumb1ValueInnerEdge","labelGap","Math","round","Slider_default","withCalculatedWidth","memo"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}