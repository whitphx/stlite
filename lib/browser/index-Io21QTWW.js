import{r as d,E as ms,_ as $e,f as Vy,g as lr,i as vs,h as hi,m as Ny,n as By,o as Wy,p as Ph,q as Fh,R as Bt,s as $y,t as Hh,v as jy,w as Uy,x as Xy,y as Gy,z as Yy,A as Ky,e as Ir,B as qy,C as Zy,D as _e,F as Ah,G as st,H as fi,I as Zr,J as bs,j as ye,c as Un,K as Qy,M as Jy,N as ex,O as Lh,Q as tx,S as nx,T as rx,U as ox,V as zh,W as ix,X as ax,Y as ws,Z as _h,$ as Vh,a0 as lx,a1 as sx,a2 as cx,a3 as ux,a4 as dx,a5 as hx,a6 as fx,a7 as px,a8 as gx,a9 as Nh,aa as mx,ab as vx,ac as bx,ad as wx,ae as yx,af as xx,ag as Cx,ah as kx,ai as Sx,aj as Mx,ak as Rx,al as Ex,am as Ix,an as Tx,ao as Qr,ap as cn,aq as xn,l as ba,ar as pi,as as sr,at as Ox,au as Dx,av as Px,aw as Fx,ax as Hx,ay as Ax,az as wa,aA as gi,aB as Ht,aC as Lx,aD as zx,aE as _x,aF as Vx,aG as Jr,aH as St,aI as vn,aJ as Bh,aK as Wh,aL as ya,aM as Nx,aN as $h,aO as jh,aP as Bx,aQ as ys,aR as Wx,aS as $x,aT as Uh,aU as jx,aV as Xh,aW as Ux,aX as Gh,aY as Xx,aZ as Gx,a_ as Yx,d as Yh,a$ as xs,b0 as So,b1 as Kx,b2 as qx,b3 as Cs,b4 as xa,b5 as Ca,b6 as Kh,b7 as ka,b8 as Xn,b9 as qh,ba as Zx,bb as Qx,bc as Zh,bd as Jx,be as eC,L as tC,bf as nC,__tla as rC}from"./index-D5xVZhML.js";import{w as oC,E as iC}from"./withFullScreenWrapper-CCnTW770.js";import{T as aC,a as Mo}from"./Toolbar-BIkUynGe.js";import{u as lC}from"./FormClearHelper-CxNhuxHz.js";import{m as sC}from"./mergeWith-Da0KcY-Z.js";import{s as cC}from"./sprintf-CQZ7AWXD.js";import{S as uC,L as dC,a as hC}from"./checkbox-qhlA1AaD.js";import{c as fC}from"./createDownloadLinkElement-CbRjLJ8e.js";import{_ as cr,C as pC}from"./slicedToArray-GP75PWYi.js";import{_ as gC,a as mC,b as vC}from"./inherits-B7Spbi6p.js";import{_ as bC}from"./createSuper-Ui79W1BU.js";import{D as wC,F as yC}from"./FileDownload.esm-DDXT7jpx.js";let ks,Sa,Tr,Ss,Qh,Or,Ms,rn,xC=Promise.all([(()=>{try{return rC}catch{}})()]).then(async()=>{var Rs=d.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement(ms,$e({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),d.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),d.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))});Rs.displayName="Add";var Es=d.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement(ms,$e({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),d.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),d.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))});Es.displayName="Search";var Is=d.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement(ms,$e({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),d.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),d.createElement("path",{d:"M12 6a9.77 9.77 0 018.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0112 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 010 5 2.5 2.5 0 010-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}))});Is.displayName="Visibility";var Ma,Ts;function Jh(){if(Ts)return Ma;Ts=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,o){return r!=null&&t.call(r,o)}return Ma=n,Ma}var Ra,Os;function ef(){if(Os)return Ra;Os=1;var e=Jh(),t=Vy();function n(r,o){return r!=null&&t(r,o,e)}return Ra=n,Ra}var tf=ef();const nf=lr(tf);function Ds(e="This should not happen"){throw new Error(e)}function En(e,t="Assertion failed"){if(!e)return Ds(t)}function Ro(e,t){return Ds(t??"Hell froze over")}function rf(e,t){try{return e()}catch{return t}}const Ps=Object.prototype.hasOwnProperty;function eo(e,t){let n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&eo(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Ps.call(e,n)&&++r&&!Ps.call(t,n)||!(n in t)||!eo(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const mi=null,Ea=void 0;var Z;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(Z||(Z={}));var Fs;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(Fs||(Fs={}));var vi;(function(e){e.Triangle="triangle",e.Dots="dots"})(vi||(vi={}));function bi(e){return"width"in e&&typeof e.width=="number"}async function Hs(e){return typeof e=="object"?e:await e()}Or=function(e){return!(e.kind===Z.Loading||e.kind===Z.Bubble||e.kind===Z.RowID||e.kind===Z.Protected||e.kind===Z.Drilldown)},Tr=function(e){return e.kind===An.Marker||e.kind===An.NewRow};function to(e){if(!Or(e)||e.kind===Z.Image)return!1;switch(e.kind){case Z.Text:case Z.Number:case Z.Markdown:case Z.Uri:case Z.Custom:case Z.Boolean:return e.readonly!==!0;default:Ro(e,"A cell was passed with an invalid kind")}}Ss=function(e){return nf(e,"editor")};function Ia(e){return!(e.readonly??!1)}var An;(function(e){e.NewRow="new-row",e.Marker="marker"})(An||(An={}));function of(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(r,o){return r[0]-o[0]}),n.push([...t[0]]);for(const r of t.slice(1)){const o=n[n.length-1];o[1]<r[0]?n.push([...r]):o[1]<r[1]&&(o[1]=r[1])}return n}let As;class ot{items;constructor(t){this.items=t}static empty=()=>As??(As=new ot([]));static fromSingleSelection=t=>ot.empty().add(t);offset(t){if(t===0)return this;const n=this.items.map(r=>[r[0]+t,r[1]+t]);return new ot(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,r=of([...this.items,n]);return new ot(r)}remove(t){const n=[...this.items],r=typeof t=="number"?t:t[0],o=typeof t=="number"?t+1:t[1];for(const[i,l]of n.entries()){const[a,s]=l;if(a<=o&&r<=s){const c=[];a<r&&c.push([a,r]),o<s&&c.push([o,s]),n.splice(i,1,...c)}}return new ot(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[r,o]=this.items[n];if(t>=r&&t<o)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const r=t.items[n],o=this.items[n];if(r[0]!==o[0]||r[1]!==o[1])return!1}return!0}toArray(){const t=[];for(const[n,r]of this.items)for(let o=n;o<r;o++)t.push(o);return t}get length(){let t=0;for(const[n,r]of this.items)t+=r-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let r=t;r<n;r++)yield r}}var af=function(){const e=Array.prototype.slice.call(arguments).filter(Boolean),t={},n=[];e.forEach(o=>{(o?o.split(" "):[]).forEach(i=>{if(i.startsWith("atm_")){const[,l]=i.split("_");t[l]=i}else n.push(i)})});const r=[];for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.push(t[o]);return r.push(...n),r.join(" ")},Ls=af,lf=e=>e.toUpperCase()===e,sf=e=>t=>e.indexOf(t)===-1,zs=(e,t)=>{const n={};return Object.keys(e).filter(sf(t)).forEach(r=>{n[r]=e[r]}),n};function cf(e,t,n){const r=zs(t,n);if(!e){const o=typeof vs=="function"?{default:vs}:vs;Object.keys(r).forEach(i=>{o.default(i)||delete r[i]})}return r}var uf=(e,t)=>{};function df(e){let t="";return n=>{const r=(i,l)=>{const{as:a=e,class:s=t}=i,c=n.propsAsIs===void 0?!(typeof a=="string"&&a.indexOf("-")===-1&&!lf(a[0])):n.propsAsIs,u=cf(c,i,["as","class"]);u.ref=l,u.className=n.atomic?Ls(n.class,u.className||s):Ls(u.className||s,n.class);const{vars:h}=n;if(h){const p={};for(const m in h){const b=h[m],y=b[0],w=b[1]||"",k=typeof y=="function"?y(i):y;uf(k,n.name),p[`--${m}`]=`${k}${w}`}const f=u.style||{},g=Object.keys(f);g.length>0&&g.forEach(m=>{p[m]=f[m]}),u.style=p}return e.__wyw_meta&&e!==a?(u.as=a,d.createElement(e,u)):d.createElement(a,u)},o=d.forwardRef?d.forwardRef(r):i=>{const l=zs(i,["innerRef"]);return r(l,i.innerRef)};return o.displayName=n.name,o.__wyw_meta={className:n.class||t,extends:e},o}}rn=df;const hf=rn("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var _s={},Eo={},Ta={},Oa={},Vs;function ff(){return Vs||(Vs=1,function(e){(function(t,n){n(e,hi(),Ny())})(Oa,function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=g;var o=l(n),i=l(r);function l(w){return w&&w.__esModule?w:{default:w}}var a=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var I=arguments[k];for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&(w[E]=I[E])}return w};function s(w,k){var I={};for(var E in w)k.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(w,E)&&(I[E]=w[E]);return I}function c(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}var u=function(){function w(k,I){for(var E=0;E<I.length;E++){var x=I[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(k,x.key,x)}}return function(k,I,E){return I&&w(k.prototype,I),E&&w(k,E),k}}();function h(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function p(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}var f=!1;function g(w){f=w}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){g(!0)}}))}catch{}function m(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return f?w:w.capture}function b(w){if("touches"in w){var k=w.touches[0],I=k.pageX,E=k.pageY;return{x:I,y:E}}var x=w.screenX,F=w.screenY;return{x,y:F}}var y=function(w){p(k,w);function k(){var I;c(this,k);for(var E=arguments.length,x=Array(E),F=0;F<E;F++)x[F]=arguments[F];var O=h(this,(I=k.__proto__||Object.getPrototypeOf(k)).call.apply(I,[this].concat(x)));return O._handleSwipeStart=O._handleSwipeStart.bind(O),O._handleSwipeMove=O._handleSwipeMove.bind(O),O._handleSwipeEnd=O._handleSwipeEnd.bind(O),O._onMouseDown=O._onMouseDown.bind(O),O._onMouseMove=O._onMouseMove.bind(O),O._onMouseUp=O._onMouseUp.bind(O),O._setSwiperRef=O._setSwiperRef.bind(O),O}return u(k,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(I){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(I))}},{key:"_onMouseMove",value:function(I){this.mouseDown&&this._handleSwipeMove(I)}},{key:"_onMouseUp",value:function(I){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(I)}},{key:"_handleSwipeStart",value:function(I){var E=b(I),x=E.x,F=E.y;this.moveStart={x,y:F},this.props.onSwipeStart(I)}},{key:"_handleSwipeMove",value:function(I){if(this.moveStart){var E=b(I),x=E.x,F=E.y,O=x-this.moveStart.x,M=F-this.moveStart.y;this.moving=!0;var H=this.props.onSwipeMove({x:O,y:M},I);H&&I.cancelable&&I.preventDefault(),this.movePosition={deltaX:O,deltaY:M}}}},{key:"_handleSwipeEnd",value:function(I){this.props.onSwipeEnd(I);var E=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-E?this.props.onSwipeLeft(1,I):this.movePosition.deltaX>E&&this.props.onSwipeRight(1,I),this.movePosition.deltaY<-E?this.props.onSwipeUp(1,I):this.movePosition.deltaY>E&&this.props.onSwipeDown(1,I)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(I){this.swiper=I,this.props.innerRef(I)}},{key:"render",value:function(){var I=this.props;I.tagName;var E=I.className,x=I.style,F=I.children;I.allowMouseEvents,I.onSwipeUp,I.onSwipeDown,I.onSwipeLeft,I.onSwipeRight,I.onSwipeStart,I.onSwipeMove,I.onSwipeEnd,I.innerRef,I.tolerance;var O=s(I,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return o.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:E,style:x},O),F)}}]),k}(n.Component);y.displayName="ReactSwipe",y.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},y.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=y})}(Oa)),Oa}var Ns;function Bs(){return Ns||(Ns=1,function(e){(function(t,n){n(e,ff())})(Ta,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}t.default=r.default})}(Ta)),Ta}var Io={},Ws;function $s(){if(Ws)return Io;Ws=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.default=void 0;var e=t(By());function t(o){return o&&o.__esModule?o:{default:o}}function n(o,i,l){return i in o?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,o}var r={ROOT:function(o){return(0,e.default)(n({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,e.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,i){return(0,e.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":i==="horizontal","axis-vertical":i!=="horizontal"})},SLIDER:function(o,i){return(0,e.default)({thumbs:!o,slider:o,animated:!i})},ITEM:function(o,i,l){return(0,e.default)({thumb:!o,slide:o,selected:i,previous:l})},ARROW_PREV:function(o){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,e.default)({dot:!0,selected:o})}};return Io.default=r,Io}var To={},Oo={},js;function pf(){if(js)return Oo;js=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.outerWidth=void 0;var e=function(t){var n=t.offsetWidth,r=getComputedStyle(t);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};return Oo.outerWidth=e,Oo}var Do={},Us;function Da(){if(Us)return Do;Us=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.default=void 0;var e=function(t,n,r){var o=t===0?t:t+n,i=r==="horizontal"?[o,0,0]:[0,o,0],l="translate3d",a="("+i.join(",")+")";return l+a};return Do.default=e,Do}var Po={},Xs;function Gs(){if(Xs)return Po;Xs=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=void 0;var e=function(){return window};return Po.default=e,Po}var Ys;function Ks(){if(Ys)return To;Ys=1,Object.defineProperty(To,"__esModule",{value:!0}),To.default=void 0;var e=s(hi()),t=l($s()),n=pf(),r=l(Da()),o=l(Bs()),i=l(Gs());function l(O){return O&&O.__esModule?O:{default:O}}function a(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return a=function(){return O},O}function s(O){if(O&&O.__esModule)return O;if(O===null||c(O)!=="object"&&typeof O!="function")return{default:O};var M=a();if(M&&M.has(O))return M.get(O);var H={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in O)if(Object.prototype.hasOwnProperty.call(O,C)){var R=T?Object.getOwnPropertyDescriptor(O,C):null;R&&(R.get||R.set)?Object.defineProperty(H,C,R):H[C]=O[C]}return H.default=O,M&&M.set(O,H),H}function c(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(M){return typeof M}:c=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},c(O)}function u(){return u=Object.assign||function(O){for(var M=1;M<arguments.length;M++){var H=arguments[M];for(var T in H)Object.prototype.hasOwnProperty.call(H,T)&&(O[T]=H[T])}return O},u.apply(this,arguments)}function h(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function p(O,M){for(var H=0;H<M.length;H++){var T=M[H];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,T.key,T)}}function f(O,M,H){return M&&p(O.prototype,M),O}function g(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),M&&m(O,M)}function m(O,M){return m=Object.setPrototypeOf||function(H,T){return H.__proto__=T,H},m(O,M)}function b(O){var M=k();return function(){var H=I(O),T;if(M){var C=I(this).constructor;T=Reflect.construct(H,arguments,C)}else T=H.apply(this,arguments);return y(this,T)}}function y(O,M){return M&&(c(M)==="object"||typeof M=="function")?M:w(O)}function w(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function I(O){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},I(O)}function E(O,M,H){return M in O?Object.defineProperty(O,M,{value:H,enumerable:!0,configurable:!0,writable:!0}):O[M]=H,O}var x=function(O){return O.hasOwnProperty("key")},F=function(O){g(H,O);var M=b(H);function H(T){var C;return h(this,H),C=M.call(this,T),E(w(C),"itemsWrapperRef",void 0),E(w(C),"itemsListRef",void 0),E(w(C),"thumbsRef",void 0),E(w(C),"setItemsWrapperRef",function(R){C.itemsWrapperRef=R}),E(w(C),"setItemsListRef",function(R){C.itemsListRef=R}),E(w(C),"setThumbsRef",function(R,D){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[D]=R}),E(w(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var R=e.Children.count(C.props.children),D=C.itemsWrapperRef.clientWidth,S=C.props.thumbWidth?C.props.thumbWidth:(0,n.outerWidth)(C.thumbsRef[0]),Q=Math.floor(D/S),$=Q<R,q=$?R-Q:0;C.setState(function(ie,ee){return{itemSize:S,visibleItems:Q,firstItem:$?C.getFirstItem(ee.selectedItem):0,lastPosition:q,showArrows:$}})}}),E(w(C),"handleClickItem",function(R,D,S){if(!x(S)||S.key==="Enter"){var Q=C.props.onSelectItem;typeof Q=="function"&&Q(R,D)}}),E(w(C),"onSwipeStart",function(){C.setState({swiping:!0})}),E(w(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),E(w(C),"onSwipeMove",function(R){var D=R.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var S=0,Q=e.Children.count(C.props.children),$=-(C.state.firstItem*100)/C.state.visibleItems,q=Math.max(Q-C.state.visibleItems,0),ie=-q*100/C.state.visibleItems;$===S&&D>0&&(D=0),$===ie&&D<0&&(D=0);var ee=C.itemsWrapperRef.clientWidth,K=$+100/(ee/D);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(se){C.itemsListRef.style[se]=(0,r.default)(K,"%",C.props.axis)}),!0}),E(w(C),"slideRight",function(R){C.moveTo(C.state.firstItem-(typeof R=="number"?R:1))}),E(w(C),"slideLeft",function(R){C.moveTo(C.state.firstItem+(typeof R=="number"?R:1))}),E(w(C),"moveTo",function(R){R=R<0?0:R,R=R>=C.state.lastPosition?C.state.lastPosition:R,C.setState({firstItem:R})}),C.state={selectedItem:T.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return f(H,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(T){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==T.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,i.default)().addEventListener("resize",this.updateSizes),(0,i.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,i.default)().removeEventListener("resize",this.updateSizes),(0,i.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(T){var C=T;return T>=this.state.lastPosition&&(C=this.state.lastPosition),T<this.state.firstItem+this.state.visibleItems&&(C=this.state.firstItem),T<this.state.firstItem&&(C=T),C}},{key:"renderItems",value:function(){var T=this;return this.props.children.map(function(C,R){var D=t.default.ITEM(!1,R===T.state.selectedItem),S={key:R,ref:function(Q){return T.setThumbsRef(Q,R)},className:D,onClick:T.handleClickItem.bind(T,R,T.props.children[R]),onKeyDown:T.handleClickItem.bind(T,R,T.props.children[R]),"aria-label":"".concat(T.props.labels.item," ").concat(R+1),style:{width:T.props.thumbWidth}};return e.default.createElement("li",u({},S,{role:"button",tabIndex:0}),C)})}},{key:"render",value:function(){var T=this;if(!this.props.children)return null;var C=e.Children.count(this.props.children)>1,R=this.state.showArrows&&this.state.firstItem>0,D=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,S={},Q=-this.state.firstItem*(this.state.itemSize||0),$=(0,r.default)(Q,"px",this.props.axis),q=this.props.transitionTime+"ms";return S={WebkitTransform:$,MozTransform:$,MsTransform:$,OTransform:$,transform:$,msTransform:$,WebkitTransitionDuration:q,MozTransitionDuration:q,MsTransitionDuration:q,OTransitionDuration:q,transitionDuration:q,msTransitionDuration:q},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!R),onClick:function(){return T.slideRight()},"aria-label":this.props.labels.leftArrow}),C?e.default.createElement(o.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:S,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(ie){return T.setItemsListRef(ie)},style:S},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!D),onClick:function(){return T.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),H}(e.Component);return To.default=F,E(F,"displayName","Thumbs"),E(F,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),To}var Fo={},qs;function gf(){if(qs)return Fo;qs=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.default=void 0;var e=function(){return document};return Fo.default=e,Fo}var In={},Zs;function Qs(){if(Zs)return In;Zs=1,Object.defineProperty(In,"__esModule",{value:!0}),In.setPosition=In.getPosition=In.isKeyboardEvent=In.defaultStatusFormatter=In.noop=void 0;var e=hi(),t=n(Da());function n(s){return s&&s.__esModule?s:{default:s}}var r=function(){};In.noop=r;var o=function(s,c){return"".concat(s," of ").concat(c)};In.defaultStatusFormatter=o;var i=function(s){return s?s.hasOwnProperty("key"):!1};In.isKeyboardEvent=i;var l=function(s,c){if(c.infiniteLoop&&++s,s===0)return 0;var u=e.Children.count(c.children);if(c.centerMode&&c.axis==="horizontal"){var h=-s*c.centerSlidePercentage,p=u-1;return s&&(s!==p||c.infiniteLoop)?h+=(100-c.centerSlidePercentage)/2:s===p&&(h+=100-c.centerSlidePercentage),h}return-s*100};In.getPosition=l;var a=function(s,c){var u={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(h){u[h]=(0,t.default)(s,"%",c)}),u};return In.setPosition=a,In}var Vn={},Js;function mf(){if(Js)return Vn;Js=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.fadeAnimationHandler=Vn.slideStopSwipingHandler=Vn.slideSwipeAnimationHandler=Vn.slideAnimationHandler=void 0;var e=hi(),t=r(Da()),n=Qs();function r(h){return h&&h.__esModule?h:{default:h}}function o(h,p){var f=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);p&&(g=g.filter(function(m){return Object.getOwnPropertyDescriptor(h,m).enumerable})),f.push.apply(f,g)}return f}function i(h){for(var p=1;p<arguments.length;p++){var f=arguments[p]!=null?arguments[p]:{};p%2?o(Object(f),!0).forEach(function(g){l(h,g,f[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(f)):o(Object(f)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(f,g))})}return h}function l(h,p,f){return p in h?Object.defineProperty(h,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[p]=f,h}var a=function(h,p){var f={},g=p.selectedItem,m=g,b=e.Children.count(h.children)-1,y=h.infiniteLoop&&(g<0||g>b);if(y)return m<0?h.centerMode&&h.centerSlidePercentage&&h.axis==="horizontal"?f.itemListStyle=(0,n.setPosition)(-(b+2)*h.centerSlidePercentage-(100-h.centerSlidePercentage)/2,h.axis):f.itemListStyle=(0,n.setPosition)(-(b+2)*100,h.axis):m>b&&(f.itemListStyle=(0,n.setPosition)(0,h.axis)),f;var w=(0,n.getPosition)(g,h),k=(0,t.default)(w,"%",h.axis),I=h.transitionTime+"ms";return f.itemListStyle={WebkitTransform:k,msTransform:k,OTransform:k,transform:k},p.swiping||(f.itemListStyle=i(i({},f.itemListStyle),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),f};Vn.slideAnimationHandler=a;var s=function(h,p,f,g){var m={},b=p.axis==="horizontal",y=e.Children.count(p.children),w=0,k=(0,n.getPosition)(f.selectedItem,p),I=p.infiniteLoop?(0,n.getPosition)(y-1,p)-100:(0,n.getPosition)(y-1,p),E=b?h.x:h.y,x=E;k===w&&E>0&&(x=0),k===I&&E<0&&(x=0);var F=k+100/(f.itemSize/x),O=Math.abs(E)>p.swipeScrollTolerance;return p.infiniteLoop&&O&&(f.selectedItem===0&&F>-100?F-=y*100:f.selectedItem===y-1&&F<-y*100&&(F+=y*100)),(!p.preventMovementUntilSwipeScrollTolerance||O||f.swipeMovementStarted)&&(f.swipeMovementStarted||g({swipeMovementStarted:!0}),m.itemListStyle=(0,n.setPosition)(F,p.axis)),O&&!f.cancelClick&&g({cancelClick:!0}),m};Vn.slideSwipeAnimationHandler=s;var c=function(h,p){var f=(0,n.getPosition)(p.selectedItem,h),g=(0,n.setPosition)(f,h.axis);return{itemListStyle:g}};Vn.slideStopSwipingHandler=c;var u=function(h,p){var f=h.transitionTime+"ms",g="ease-in-out",m={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:g,msTransitionTimingFunction:g,MozTransitionTimingFunction:g,WebkitTransitionTimingFunction:g,OTransitionTimingFunction:g};return p.swiping||(m=i(i({},m),{},{WebkitTransitionDuration:f,MozTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f})),{slideStyle:m,selectedStyle:i(i({},m),{},{opacity:1,position:"relative"}),prevStyle:i({},m)}};return Vn.fadeAnimationHandler=u,Vn}var ec;function vf(){if(ec)return Eo;ec=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=void 0;var e=u(hi()),t=s(Bs()),n=s($s()),r=s(Ks()),o=s(gf()),i=s(Gs()),l=Qs(),a=mf();function s(T){return T&&T.__esModule?T:{default:T}}function c(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return c=function(){return T},T}function u(T){if(T&&T.__esModule)return T;if(T===null||h(T)!=="object"&&typeof T!="function")return{default:T};var C=c();if(C&&C.has(T))return C.get(T);var R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in T)if(Object.prototype.hasOwnProperty.call(T,S)){var Q=D?Object.getOwnPropertyDescriptor(T,S):null;Q&&(Q.get||Q.set)?Object.defineProperty(R,S,Q):R[S]=T[S]}return R.default=T,C&&C.set(T,R),R}function h(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(C){return typeof C}:h=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},h(T)}function p(){return p=Object.assign||function(T){for(var C=1;C<arguments.length;C++){var R=arguments[C];for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(T[D]=R[D])}return T},p.apply(this,arguments)}function f(T,C){var R=Object.keys(T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);C&&(D=D.filter(function(S){return Object.getOwnPropertyDescriptor(T,S).enumerable})),R.push.apply(R,D)}return R}function g(T){for(var C=1;C<arguments.length;C++){var R=arguments[C]!=null?arguments[C]:{};C%2?f(Object(R),!0).forEach(function(D){M(T,D,R[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(R)):f(Object(R)).forEach(function(D){Object.defineProperty(T,D,Object.getOwnPropertyDescriptor(R,D))})}return T}function m(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}function b(T,C){for(var R=0;R<C.length;R++){var D=C[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}function y(T,C,R){return C&&b(T.prototype,C),T}function w(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),C&&k(T,C)}function k(T,C){return k=Object.setPrototypeOf||function(R,D){return R.__proto__=D,R},k(T,C)}function I(T){var C=F();return function(){var R=O(T),D;if(C){var S=O(this).constructor;D=Reflect.construct(R,arguments,S)}else D=R.apply(this,arguments);return E(this,D)}}function E(T,C){return C&&(h(C)==="object"||typeof C=="function")?C:x(T)}function x(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function O(T){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},O(T)}function M(T,C,R){return C in T?Object.defineProperty(T,C,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[C]=R,T}var H=function(T){w(R,T);var C=I(R);function R(D){var S;m(this,R),S=C.call(this,D),M(x(S),"thumbsRef",void 0),M(x(S),"carouselWrapperRef",void 0),M(x(S),"listRef",void 0),M(x(S),"itemsRef",void 0),M(x(S),"timer",void 0),M(x(S),"animationHandler",void 0),M(x(S),"setThumbsRef",function($){S.thumbsRef=$}),M(x(S),"setCarouselWrapperRef",function($){S.carouselWrapperRef=$}),M(x(S),"setListRef",function($){S.listRef=$}),M(x(S),"setItemsRef",function($,q){S.itemsRef||(S.itemsRef=[]),S.itemsRef[q]=$}),M(x(S),"autoPlay",function(){e.Children.count(S.props.children)<=1||(S.clearAutoPlay(),S.props.autoPlay&&(S.timer=setTimeout(function(){S.increment()},S.props.interval)))}),M(x(S),"clearAutoPlay",function(){S.timer&&clearTimeout(S.timer)}),M(x(S),"resetAutoPlay",function(){S.clearAutoPlay(),S.autoPlay()}),M(x(S),"stopOnHover",function(){S.setState({isMouseEntered:!0},S.clearAutoPlay)}),M(x(S),"startOnLeave",function(){S.setState({isMouseEntered:!1},S.autoPlay)}),M(x(S),"isFocusWithinTheCarousel",function(){return S.carouselWrapperRef?!!((0,o.default)().activeElement===S.carouselWrapperRef||S.carouselWrapperRef.contains((0,o.default)().activeElement)):!1}),M(x(S),"navigateWithKeyboard",function($){if(S.isFocusWithinTheCarousel()){var q=S.props.axis,ie=q==="horizontal",ee={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},K=ie?ee.ArrowRight:ee.ArrowDown,se=ie?ee.ArrowLeft:ee.ArrowUp;K===$.keyCode?S.increment():se===$.keyCode&&S.decrement()}}),M(x(S),"updateSizes",function(){if(!(!S.state.initialized||!S.itemsRef||S.itemsRef.length===0)){var $=S.props.axis==="horizontal",q=S.itemsRef[0];if(q){var ie=$?q.clientWidth:q.clientHeight;S.setState({itemSize:ie}),S.thumbsRef&&S.thumbsRef.updateSizes()}}}),M(x(S),"setMountState",function(){S.setState({hasMount:!0}),S.updateSizes()}),M(x(S),"handleClickItem",function($,q){if(e.Children.count(S.props.children)!==0){if(S.state.cancelClick){S.setState({cancelClick:!1});return}S.props.onClickItem($,q),$!==S.state.selectedItem&&S.setState({selectedItem:$})}}),M(x(S),"handleOnChange",function($,q){e.Children.count(S.props.children)<=1||S.props.onChange($,q)}),M(x(S),"handleClickThumb",function($,q){S.props.onClickThumb($,q),S.moveTo($)}),M(x(S),"onSwipeStart",function($){S.setState({swiping:!0}),S.props.onSwipeStart($)}),M(x(S),"onSwipeEnd",function($){S.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),S.props.onSwipeEnd($),S.clearAutoPlay(),S.state.autoPlay&&S.autoPlay()}),M(x(S),"onSwipeMove",function($,q){S.props.onSwipeMove(q);var ie=S.props.swipeAnimationHandler($,S.props,S.state,S.setState.bind(x(S)));return S.setState(g({},ie)),!!Object.keys(ie).length}),M(x(S),"decrement",function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;S.moveTo(S.state.selectedItem-(typeof $=="number"?$:1))}),M(x(S),"increment",function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;S.moveTo(S.state.selectedItem+(typeof $=="number"?$:1))}),M(x(S),"moveTo",function($){if(typeof $=="number"){var q=e.Children.count(S.props.children)-1;$<0&&($=S.props.infiniteLoop?q:0),$>q&&($=S.props.infiniteLoop?0:q),S.selectItem({selectedItem:$}),S.state.autoPlay&&S.state.isMouseEntered===!1&&S.resetAutoPlay()}}),M(x(S),"onClickNext",function(){S.increment(1)}),M(x(S),"onClickPrev",function(){S.decrement(1)}),M(x(S),"onSwipeForward",function(){S.increment(1),S.props.emulateTouch&&S.setState({cancelClick:!0})}),M(x(S),"onSwipeBackwards",function(){S.decrement(1),S.props.emulateTouch&&S.setState({cancelClick:!0})}),M(x(S),"changeItem",function($){return function(q){(!(0,l.isKeyboardEvent)(q)||q.key==="Enter")&&S.moveTo($)}}),M(x(S),"selectItem",function($){S.setState(g({previousItem:S.state.selectedItem},$),function(){S.setState(S.animationHandler(S.props,S.state))}),S.handleOnChange($.selectedItem,e.Children.toArray(S.props.children)[$.selectedItem])}),M(x(S),"getInitialImage",function(){var $=S.props.selectedItem,q=S.itemsRef&&S.itemsRef[$],ie=q&&q.getElementsByTagName("img")||[];return ie[0]}),M(x(S),"getVariableItemHeight",function($){var q=S.itemsRef&&S.itemsRef[$];if(S.state.hasMount&&q&&q.children.length){var ie=q.children[0].getElementsByTagName("img")||[];if(ie.length>0){var ee=ie[0];if(!ee.complete){var K=function ue(){S.forceUpdate(),ee.removeEventListener("load",ue)};ee.addEventListener("load",K)}}var se=ie[0]||q.children[0],te=se.clientHeight;return te>0?te:null}return null});var Q={initialized:!1,previousItem:D.selectedItem,selectedItem:D.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:D.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return S.animationHandler=typeof D.animationHandler=="function"&&D.animationHandler||D.animationHandler==="fade"&&a.fadeAnimationHandler||a.slideAnimationHandler,S.state=g(g({},Q),S.animationHandler(D,Q)),S}return y(R,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(D,S){!D.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!D.autoFocus&&this.props.autoFocus&&this.forceFocus(),S.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),(D.selectedItem!==this.props.selectedItem||D.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),D.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var D=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var S=D.getInitialImage();S&&!S.complete?S.addEventListener("load",D.setMountState):D.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var D=this.carouselWrapperRef;this.props.stopOnHover&&D&&(D.addEventListener("mouseenter",this.stopOnHover),D.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var D=this.carouselWrapperRef;this.props.stopOnHover&&D&&(D.removeEventListener("mouseenter",this.stopOnHover),D.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,i.default)().addEventListener("resize",this.updateSizes),(0,i.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,o.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,i.default)().removeEventListener("resize",this.updateSizes),(0,i.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var D=this.getInitialImage();D&&D.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,o.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var D;(D=this.carouselWrapperRef)===null||D===void 0||D.focus()}},{key:"renderItems",value:function(D){var S=this;return this.props.children?e.Children.map(this.props.children,function(Q,$){var q=$===S.state.selectedItem,ie=$===S.state.previousItem,ee=q&&S.state.selectedStyle||ie&&S.state.prevStyle||S.state.slideStyle||{};S.props.centerMode&&S.props.axis==="horizontal"&&(ee=g(g({},ee),{},{minWidth:S.props.centerSlidePercentage+"%"})),S.state.swiping&&S.state.swipeMovementStarted&&(ee=g(g({},ee),{},{pointerEvents:"none"}));var K={ref:function(se){return S.setItemsRef(se,$)},key:"itemKey"+$+(D?"clone":""),className:n.default.ITEM(!0,$===S.state.selectedItem,$===S.state.previousItem),onClick:S.handleClickItem.bind(S,$,Q),style:ee};return e.default.createElement("li",K,S.props.renderItem(Q,{isSelected:$===S.state.selectedItem,isPrevious:$===S.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var D=this,S=this.props,Q=S.showIndicators,$=S.labels,q=S.renderIndicator,ie=S.children;return Q?e.default.createElement("ul",{className:"control-dots"},e.Children.map(ie,function(ee,K){return q&&q(D.changeItem(K),K===D.state.selectedItem,K,$.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var D=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var S=this.props.swipeable&&e.Children.count(this.props.children)>1,Q=this.props.axis==="horizontal",$=this.props.showArrows&&e.Children.count(this.props.children)>1,q=$&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,ie=$&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ee=this.renderItems(!0),K=ee.shift(),se=ee.pop(),te={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ue={};if(Q){if(te.onSwipeLeft=this.onSwipeForward,te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var fe=this.getVariableItemHeight(this.state.selectedItem);ue.height=fe||"auto"}}else te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,te.style=g(g({},te.style),{},{height:this.state.itemSize}),ue.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,q,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:ue},S?e.default.createElement(t.default,p({tagName:"ul",innerRef:this.setListRef},te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&se,this.renderItems(),this.props.infiniteLoop&&K):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(ae){return D.setListRef(ae)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&se,this.renderItems(),this.props.infiniteLoop&&K)),this.props.renderArrowNext(this.onClickNext,ie,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),R}(e.default.Component);return Eo.default=H,M(H,"displayName","Carousel"),M(H,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(T,C,R){return e.default.createElement("button",{type:"button","aria-label":R,className:n.default.ARROW_PREV(!C),onClick:T})},renderArrowNext:function(T,C,R){return e.default.createElement("button",{type:"button","aria-label":R,className:n.default.ARROW_NEXT(!C),onClick:T})},renderIndicator:function(T,C,R,D){return e.default.createElement("li",{className:n.default.DOT(C),onClick:T,onKeyDown:T,value:R,key:R,role:"button",tabIndex:0,"aria-label":"".concat(D," ").concat(R+1)})},renderItem:function(T){return T},renderThumbs:function(T){var C=e.Children.map(T,function(R){var D=R;if(R.type!=="img"&&(D=e.Children.toArray(R.props.children).find(function(S){return S.type==="img"})),!!D)return D});return C.filter(function(R){return R}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):C},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:a.slideSwipeAnimationHandler,stopSwipingHandler:a.slideStopSwipingHandler}),Eo}var bf={},tc;function wf(){return tc||(tc=1),bf}var nc;function yf(){return nc||(nc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return r.default}});var t=o(vf()),n=wf(),r=o(Ks());function o(i){return i&&i.__esModule?i:{default:i}}}(_s)),_s}var xf=yf(),Pa,rc;function Cf(){if(rc)return Pa;rc=1;var e=Wy(),t=function(){return e.Date.now()};return Pa=t,Pa}var Fa,oc;function ic(){if(oc)return Fa;oc=1;var e=Ph(),t=Cf(),n=Fh(),r="Expected a function",o=Math.max,i=Math.min;function l(a,s,c){var u,h,p,f,g,m,b=0,y=!1,w=!1,k=!0;if(typeof a!="function")throw new TypeError(r);s=n(s)||0,e(c)&&(y=!!c.leading,w="maxWait"in c,p=w?o(n(c.maxWait)||0,s):p,k="trailing"in c?!!c.trailing:k);function I(R){var D=u,S=h;return u=h=void 0,b=R,f=a.apply(S,D),f}function E(R){return b=R,g=setTimeout(O,s),y?I(R):f}function x(R){var D=R-m,S=R-b,Q=s-D;return w?i(Q,p-S):Q}function F(R){var D=R-m,S=R-b;return m===void 0||D>=s||D<0||w&&S>=p}function O(){var R=t();if(F(R))return M(R);g=setTimeout(O,x(R))}function M(R){return g=void 0,k&&u?I(R):(u=h=void 0,f)}function H(){g!==void 0&&clearTimeout(g),b=0,u=m=h=g=void 0}function T(){return g===void 0?f:M(t())}function C(){var R=t(),D=F(R);if(u=arguments,h=this,m=R,D){if(g===void 0)return E(m);if(w)return clearTimeout(g),g=setTimeout(O,s),I(m)}return g===void 0&&(g=setTimeout(O,s)),f}return C.cancel=H,C.flush=T,C}return Fa=l,Fa}var kf=ic();const ac=lr(kf);function bn(e,t,n,r,o=!1){const i=d.useRef();i.current=t,d.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const l=n,a=s=>{i.current?.call(l,s)};return l.addEventListener(e,a,{passive:r,capture:o}),()=>{l.removeEventListener(e,a,{capture:o})}},[e,n,r,o])}function ur(e,t){return e===void 0?void 0:t}const Sf=Math.PI;function lc(e){return e*Sf/180}const sc=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),cc=(e,t,n,r,o)=>{switch(e){case"left":return Math.floor(t)+r+o/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-o/2}},uc=(e,t,n)=>Math.min(e,t-n*2),dc=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Ha=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),d.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Mf=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function Rf(e,t,n){const[r,o]=d.useState(e),i=d.useRef(!0);d.useEffect(()=>()=>{i.current=!1},[]);const l=d.useRef(ac(a=>{i.current&&o(a)},n));return d.useLayoutEffect(()=>{i.current&&l.current(()=>e())},t),r}const Ef="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",If="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",Tf=new RegExp("^[^"+If+"]*["+Ef+"]");function Aa(e){return Tf.test(e)?"rtl":"not-rtl"}let wi;function La(){if(typeof document>"u")return 0;if(wi!==void 0)return wi;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),wi=n-r,wi}const Dr=Symbol();function Of(e){const t=d.useRef([Dr,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=d.useState(e),[,o]=d.useState(),i=d.useCallback(a=>{const s=t.current[0];s!==Dr&&(a=typeof a=="function"?a(s):a,a===s)||(s!==Dr&&o({}),r(c=>typeof a=="function"?a(s===Dr?c:s):a),t.current[0]=Dr)},[]),l=d.useCallback(()=>{t.current[0]=Dr,o({})},[]);return[t.current[0]===Dr?n:t.current[0],i,l]}function hc(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function Df(e){const t=d.useRef(e);return eo(e,t.current)||(t.current=e),t.current}const Pf=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:o}=e,i=t.filter(a=>a!=="");if(i.length===0)return null;const l=i.length>1;return d.createElement(hf,{"data-testid":"GDG-default-image-overlay-editor"},d.createElement(xf.Carousel,{showArrows:l,showThumbs:!1,swipeable:l,emulateTouch:l,infiniteLoop:l},i.map(a=>{const s=o?.(a)??d.createElement("img",{draggable:!1,src:a});return d.createElement("div",{className:"gdg-centering-container",key:a},s)})),n&&r&&d.createElement("button",{className:"gdg-edit-icon",onClick:r},d.createElement(Ha,null)))};function fc(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Pr=fc();function Ff(e){Pr=e}const pc=/[&<>"']/,Hf=new RegExp(pc.source,"g"),gc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Af=new RegExp(gc.source,"g"),Lf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mc=e=>Lf[e];function hn(e,t){if(t){if(pc.test(e))return e.replace(Hf,mc)}else if(gc.test(e))return e.replace(Af,mc);return e}const zf=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function vc(e){return e.replace(zf,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const _f=/(^|[^\[])\^/g;function Pt(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(r,o)=>(o=o.source||o,o=o.replace(_f,"$1"),e=e.replace(r,o),n),getRegex:()=>new RegExp(e,t)};return n}const Vf=/[^\w:]/g,Nf=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function bc(e,t,n){if(e){let r;try{r=decodeURIComponent(vc(n)).replace(Vf,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!Nf.test(n)&&(n=jf(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const yi={},Bf=/^[^:]+:\/*[^/]*$/,Wf=/^([^:]+:)[\s\S]*$/,$f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function jf(e,t){yi[" "+e]||(Bf.test(e)?yi[" "+e]=e+"/":yi[" "+e]=Ci(e,"/",!0)),e=yi[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(Wf,"$1")+t:t.charAt(0)==="/"?n?t:e.replace($f,"$1")+t:e+t}const xi={exec:function(){}};function wc(e,t){const n=e.replace(/\|/g,(i,l,a)=>{let s=!1,c=l;for(;--c>=0&&a[c]==="\\";)s=!s;return s?"|":" |"}),r=n.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Ci(e,t,n){const r=e.length;if(r===0)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i===t&&!n)o++;else if(i!==t&&n)o++;else break}return e.slice(0,r-o)}function Uf(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if(e[o]==="\\")o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1}function Xf(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function yc(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function xc(e,t,n,r){const o=t.href,i=t.title?hn(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:o,title:i,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:i,text:hn(l)}}function Gf(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(o=>{const i=o.match(/^\s+/);if(i===null)return o;const[l]=i;return l.length>=r.length?o.slice(r.length):o}).join(`
`)}class za{constructor(t){this.options=t||Pr}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ci(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],o=Gf(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:o}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=Ci(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:i,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r,o,i,l,a,s,c,u,h,p,f,g,m=n[1].trim();const b=m.length>1,y={type:"list",raw:"",ordered:b,start:b?+m.slice(0,-1):"",loose:!1,items:[]};m=b?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=b?m:"[*+-]");const w=new RegExp(`^( {0,3}${m})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(g=!1,!(!(n=w.exec(t))||this.rules.block.hr.test(t)));){if(r=n[0],t=t.substring(r.length),u=n[2].split(`
`,1)[0].replace(/^\t+/,I=>" ".repeat(3*I.length)),h=t.split(`
`,1)[0],this.options.pedantic?(l=2,f=u.trimLeft()):(l=n[2].search(/[^ ]/),l=l>4?1:l,f=u.slice(l),l+=n[1].length),s=!1,!u&&/^ *$/.test(h)&&(r+=h+`
`,t=t.substring(h.length+1),g=!0),!g){const I=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),E=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),F=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;t&&(p=t.split(`
`,1)[0],h=p,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(x.test(h)||F.test(h)||I.test(h)||E.test(t)));){if(h.search(/[^ ]/)>=l||!h.trim())f+=`
`+h.slice(l);else{if(s||u.search(/[^ ]/)>=4||x.test(u)||F.test(u)||E.test(u))break;f+=`
`+h}!s&&!h.trim()&&(s=!0),r+=p+`
`,t=t.substring(p.length+1),u=h.slice(l)}}y.loose||(c?y.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(f),o&&(i=o[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:f}),y.raw+=r}y.items[y.items.length-1].raw=r.trimRight(),y.items[y.items.length-1].text=f.trimRight(),y.raw=y.raw.trimRight();const k=y.items.length;for(a=0;a<k;a++)if(this.lexer.state.top=!1,y.items[a].tokens=this.lexer.blockTokens(y.items[a].text,[]),!y.loose){const I=y.items[a].tokens.filter(x=>x.type==="space"),E=I.length>0&&I.some(x=>/\n.*\n/.test(x.raw));y.loose=E}if(y.loose)for(a=0;a<k;a++)y.items[a].loose=!0;return y}}html(t){const n=this.rules.block.html.exec(t);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(n[0]):hn(n[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:i}}}table(t){const n=this.rules.block.table.exec(t);if(n){const r={type:"table",header:wc(n[1]).map(o=>({text:o})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let o=r.align.length,i,l,a,s;for(i=0;i<o;i++)/^ *-+: *$/.test(r.align[i])?r.align[i]="right":/^ *:-+: *$/.test(r.align[i])?r.align[i]="center":/^ *:-+ *$/.test(r.align[i])?r.align[i]="left":r.align[i]=null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=wc(r.rows[i],r.header.length).map(c=>({text:c}));for(o=r.header.length,l=0;l<o;l++)r.header[l].tokens=this.lexer.inline(r.header[l].text);for(o=r.rows.length,l=0;l<o;l++)for(s=r.rows[l],a=0;a<s.length;a++)s[a].tokens=this.lexer.inline(s[a].text);return r}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:hn(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):hn(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const l=Ci(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{const l=Uf(n[2],"()");if(l>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],i="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],i=l[3])}else i=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),xc(n,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=n[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return xc(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(r===""||this.rules.inline.punctuation.exec(r))){const l=o[0].length-1;let a,s,c=l,u=0;const h=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,n=n.slice(-1*t.length+l);(o=h.exec(n))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(s=a.length,o[3]||o[4]){c+=s;continue}else if((o[5]||o[6])&&l%3&&!((l+s)%3)){u+=s;continue}if(c-=s,c>0)continue;s=Math.min(s,s+c+u);const p=t.slice(0,l+o.index+(o[0].length-a.length)+s);if(Math.min(l,s)%2){const g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}const f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=hn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const r=this.rules.inline.autolink.exec(t);if(r){let o,i;return r[2]==="@"?(o=hn(this.options.mangle?n(r[1]):r[1]),i="mailto:"+o):(o=hn(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(t,n){let r;if(r=this.rules.inline.url.exec(t)){let o,i;if(r[2]==="@")o=hn(this.options.mangle?n(r[0]):r[0]),i="mailto:"+o;else{let l;do l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(l!==r[0]);o=hn(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t,n){const r=this.rules.inline.text.exec(t);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):hn(r[0]):r[0]:o=hn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const Fe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xi,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Fe._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Fe._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Fe.def=Pt(Fe.def).replace("label",Fe._label).replace("title",Fe._title).getRegex(),Fe.bullet=/(?:[*+-]|\d{1,9}[.)])/,Fe.listItemStart=Pt(/^( *)(bull) */).replace("bull",Fe.bullet).getRegex(),Fe.list=Pt(Fe.list).replace(/bull/g,Fe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Fe.def.source+")").getRegex(),Fe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Fe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Fe.html=Pt(Fe.html,"i").replace("comment",Fe._comment).replace("tag",Fe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Fe.paragraph=Pt(Fe._paragraph).replace("hr",Fe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fe._tag).getRegex(),Fe.blockquote=Pt(Fe.blockquote).replace("paragraph",Fe.paragraph).getRegex(),Fe.normal={...Fe},Fe.gfm={...Fe.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Fe.gfm.table=Pt(Fe.gfm.table).replace("hr",Fe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fe._tag).getRegex(),Fe.gfm.paragraph=Pt(Fe._paragraph).replace("hr",Fe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Fe.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fe._tag).getRegex(),Fe.pedantic={...Fe.normal,html:Pt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Fe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pt(Fe.normal._paragraph).replace("hr",Fe.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Fe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const be={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};be._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",be.punctuation=Pt(be.punctuation).replace(/punctuation/g,be._punctuation).getRegex(),be.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,be.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,be._comment=Pt(Fe._comment).replace("(?:-->|$)","-->").getRegex(),be.emStrong.lDelim=Pt(be.emStrong.lDelim).replace(/punct/g,be._punctuation).getRegex(),be.emStrong.rDelimAst=Pt(be.emStrong.rDelimAst,"g").replace(/punct/g,be._punctuation).getRegex(),be.emStrong.rDelimUnd=Pt(be.emStrong.rDelimUnd,"g").replace(/punct/g,be._punctuation).getRegex(),be._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,be._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,be._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,be.autolink=Pt(be.autolink).replace("scheme",be._scheme).replace("email",be._email).getRegex(),be._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,be.tag=Pt(be.tag).replace("comment",be._comment).replace("attribute",be._attribute).getRegex(),be._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,be._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,be._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,be.link=Pt(be.link).replace("label",be._label).replace("href",be._href).replace("title",be._title).getRegex(),be.reflink=Pt(be.reflink).replace("label",be._label).replace("ref",Fe._label).getRegex(),be.nolink=Pt(be.nolink).replace("ref",Fe._label).getRegex(),be.reflinkSearch=Pt(be.reflinkSearch,"g").replace("reflink",be.reflink).replace("nolink",be.nolink).getRegex(),be.normal={...be},be.pedantic={...be.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pt(/^!?\[(label)\]\((.*?)\)/).replace("label",be._label).getRegex(),reflink:Pt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",be._label).getRegex()},be.gfm={...be.normal,escape:Pt(be.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},be.gfm.url=Pt(be.gfm.url,"i").replace("email",be.gfm._extended_email).getRegex(),be.breaks={...be.gfm,br:Pt(be.br).replace("{2,}","*").getRegex(),text:Pt(be.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Yf(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Cc(e){let t="",n,r;const o=e.length;for(n=0;n<o;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}class dr{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Pr,this.options.tokenizer=this.options.tokenizer||new za,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Fe.normal,inline:be.normal};this.options.pedantic?(n.block=Fe.pedantic,n.inline=be.pedantic):this.options.gfm&&(n.block=Fe.gfm,this.options.breaks?n.inline=be.breaks:n.inline=be.gfm),this.tokenizer.rules=n}static get rules(){return{block:Fe,inline:be}}static lex(t,n){return new dr(n).lex(t)}static lexInline(t,n){return new dr(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,s,c)=>s+"    ".repeat(c.length));let r,o,i,l;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const s=t.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},s),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=n[n.length-1],l&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),l=i.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,o,i,l=t,a,s,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+yc("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,a.index)+"["+yc("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,a.index+a[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(s||(c=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,l,c)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t,Cc)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,Cc))){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const h=t.slice(1);let p;this.options.extensions.startInline.forEach(function(f){p=f.call({lexer:this},h),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(i=t.substring(0,u+1))}if(r=this.tokenizer.inlineText(i,Yf)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),s=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class _a{constructor(t){this.options=t||Pr}code(t,n,r){const o=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(t,o);i!=null&&i!==t&&(r=!0,t=i)}return t=t.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+hn(o)+'">'+(r?t:hn(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:hn(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,r,o){if(this.options.headerIds){const i=this.options.headerPrefix+o.slug(r);return`<h${n} id="${i}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,r){const o=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+t+"</"+o+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,r){if(t=bc(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(t,n,r){if(t=bc(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o=`<img src="${t}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=this.options.xhtml?"/>":">",o}text(t){return t}}class kc{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}}class Sc{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let r=t,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[t];do o++,r=t+"-"+o;while(this.seen.hasOwnProperty(r))}return n||(this.seen[t]=o,this.seen[r]=0),r}slug(t,n={}){const r=this.serialize(t);return this.getNextSafeSlug(r,n.dryrun)}}class hr{constructor(t){this.options=t||Pr,this.options.renderer=this.options.renderer||new _a,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new kc,this.slugger=new Sc}static parse(t,n){return new hr(n).parse(t)}static parseInline(t,n){return new hr(n).parseInline(t)}parse(t,n=!0){let r="",o,i,l,a,s,c,u,h,p,f,g,m,b,y,w,k,I,E,x;const F=t.length;for(o=0;o<F;o++){if(f=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(x=this.options.extensions.renderers[f.type].call({parser:this},f),x!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){r+=x||"";continue}switch(f.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,vc(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(h="",u="",a=f.header.length,i=0;i<a;i++)u+=this.renderer.tablecell(this.parseInline(f.header[i].tokens),{header:!0,align:f.align[i]});for(h+=this.renderer.tablerow(u),p="",a=f.rows.length,i=0;i<a;i++){for(c=f.rows[i],u="",s=c.length,l=0;l<s;l++)u+=this.renderer.tablecell(this.parseInline(c[l].tokens),{header:!1,align:f.align[l]});p+=this.renderer.tablerow(u)}r+=this.renderer.table(h,p);continue}case"blockquote":{p=this.parse(f.tokens),r+=this.renderer.blockquote(p);continue}case"list":{for(g=f.ordered,m=f.start,b=f.loose,a=f.items.length,p="",i=0;i<a;i++)w=f.items[i],k=w.checked,I=w.task,y="",w.task&&(E=this.renderer.checkbox(k),b?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=E+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=E+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:E}):y+=E),y+=this.parse(w.tokens,b),p+=this.renderer.listitem(y,I,k);r+=this.renderer.list(p,g,m);continue}case"html":{r+=this.renderer.html(f.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(p=f.tokens?this.parseInline(f.tokens):f.text;o+1<F&&t[o+1].type==="text";)f=t[++o],p+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);r+=n?this.renderer.paragraph(p):p;continue}default:{const O='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(O);return}else throw new Error(O)}}}return r}parseInline(t,n){n=n||this.renderer;let r="",o,i,l;const a=t.length;for(o=0;o<a;o++){if(i=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(l=this.options.extensions.renderers[i.type].call({parser:this},i),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){r+=l||"";continue}switch(i.type){case"escape":{r+=n.text(i.text);break}case"html":{r+=n.html(i.text);break}case"link":{r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{r+=n.image(i.href,i.title,i.text);break}case"strong":{r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{r+=n.codespan(i.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(i.tokens,n));break}case"text":{r+=n.text(i.text);break}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(s);return}else throw new Error(s)}}}return r}}class Va{constructor(t){this.options=t||Pr}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(t){return t}postprocess(t){return t}}function Kf(e,t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const o="<p>An error occurred:</p><pre>"+hn(r.message+"",!0)+"</pre>";if(t)return Promise.resolve(o);if(n){n(null,o);return}return o}if(t)return Promise.reject(r);if(n){n(r);return}throw r}}function Mc(e,t){return(n,r,o)=>{typeof r=="function"&&(o=r,r=null);const i={...r};r={...Ve.defaults,...i};const l=Kf(r.silent,r.async,o);if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(Xf(r),r.hooks&&(r.hooks.options=r),o){const a=r.highlight;let s;try{r.hooks&&(n=r.hooks.preprocess(n)),s=e(n,r)}catch(h){return l(h)}const c=function(h){let p;if(!h)try{r.walkTokens&&Ve.walkTokens(s,r.walkTokens),p=t(s,r),r.hooks&&(p=r.hooks.postprocess(p))}catch(f){h=f}return r.highlight=a,h?l(h):o(null,p)};if(!a||a.length<3||(delete r.highlight,!s.length))return c();let u=0;Ve.walkTokens(s,function(h){h.type==="code"&&(u++,setTimeout(()=>{a(h.text,h.lang,function(p,f){if(p)return c(p);f!=null&&f!==h.text&&(h.text=f,h.escaped=!0),u--,u===0&&c()})},0))}),u===0&&c();return}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(a=>e(a,r)).then(a=>r.walkTokens?Promise.all(Ve.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>t(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(l);try{r.hooks&&(n=r.hooks.preprocess(n));const a=e(n,r);r.walkTokens&&Ve.walkTokens(a,r.walkTokens);let s=t(a,r);return r.hooks&&(s=r.hooks.postprocess(s)),s}catch(a){return l(a)}}}function Ve(e,t,n){return Mc(dr.lex,hr.parse)(e,t,n)}Ve.options=Ve.setOptions=function(e){return Ve.defaults={...Ve.defaults,...e},Ff(Ve.defaults),Ve},Ve.getDefaults=fc,Ve.defaults=Pr,Ve.use=function(...e){const t=Ve.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const r={...n};if(r.async=Ve.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=t.renderers[o.name];i?t.renderers[o.name]=function(...l){let a=o.renderer.apply(this,l);return a===!1&&(a=i.apply(this,l)),a}:t.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[o.level]?t[o.level].unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){const o=Ve.defaults.renderer||new _a;for(const i in n.renderer){const l=o[i];o[i]=(...a)=>{let s=n.renderer[i].apply(o,a);return s===!1&&(s=l.apply(o,a)),s}}r.renderer=o}if(n.tokenizer){const o=Ve.defaults.tokenizer||new za;for(const i in n.tokenizer){const l=o[i];o[i]=(...a)=>{let s=n.tokenizer[i].apply(o,a);return s===!1&&(s=l.apply(o,a)),s}}r.tokenizer=o}if(n.hooks){const o=Ve.defaults.hooks||new Va;for(const i in n.hooks){const l=o[i];Va.passThroughHooks.has(i)?o[i]=a=>{if(Ve.defaults.async)return Promise.resolve(n.hooks[i].call(o,a)).then(c=>l.call(o,c));const s=n.hooks[i].call(o,a);return l.call(o,s)}:o[i]=(...a)=>{let s=n.hooks[i].apply(o,a);return s===!1&&(s=l.apply(o,a)),s}}r.hooks=o}if(n.walkTokens){const o=Ve.defaults.walkTokens;r.walkTokens=function(i){let l=[];return l.push(n.walkTokens.call(this,i)),o&&(l=l.concat(o.call(this,i))),l}}Ve.setOptions(r)})},Ve.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(Ve,r)),r.type){case"table":{for(const o of r.header)n=n.concat(Ve.walkTokens(o.tokens,t));for(const o of r.rows)for(const i of o)n=n.concat(Ve.walkTokens(i.tokens,t));break}case"list":{n=n.concat(Ve.walkTokens(r.items,t));break}default:Ve.defaults.extensions&&Ve.defaults.extensions.childTokens&&Ve.defaults.extensions.childTokens[r.type]?Ve.defaults.extensions.childTokens[r.type].forEach(function(o){n=n.concat(Ve.walkTokens(r[o],t))}):r.tokens&&(n=n.concat(Ve.walkTokens(r.tokens,t)))}return n},Ve.parseInline=Mc(dr.lexInline,hr.parseInline),Ve.Parser=hr,Ve.parser=hr.parse,Ve.Renderer=_a,Ve.TextRenderer=kc,Ve.Lexer=dr,Ve.lexer=dr.lex,Ve.Tokenizer=za,Ve.Slugger=Sc,Ve.Hooks=Va,Ve.parse=Ve,Ve.options,Ve.setOptions,Ve.use,Ve.walkTokens,Ve.parseInline,hr.parse,dr.lex;const qf=rn("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class Zf extends Bt.PureComponent{targetElement=null;renderMarkdownIntoDiv(){const{targetElement:t,props:n}=this;if(t===null)return;const{contents:r,createNode:o}=n,i=Ve(r),l=document.createRange();l.selectNodeContents(t),l.deleteContents();let a=o?.(i);if(a===void 0){const c=document.createElement("template");c.innerHTML=i,a=c.content}t.append(a);const s=t.getElementsByTagName("a");for(const c of s)c.target="_blank",c.rel="noreferrer noopener"}containerRefHook=t=>{this.targetElement=t,this.renderMarkdownIntoDiv()};render(){return this.renderMarkdownIntoDiv(),Bt.createElement(qf,{ref:this.containerRefHook})}}const Qf=rn("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),Jf=rn("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),ep=rn("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let Rc=0;const Fr=e=>{const{placeholder:t,value:n,onKeyDown:r,highlight:o,altNewline:i,validatedSelection:l,...a}=e,{onChange:s,className:c}=a,u=d.useRef(null),h=n??"";En(s!==void 0,"GrowingEntry must be a controlled input area");const[p]=d.useState(()=>"input-box-"+(Rc=(Rc+1)%1e7));d.useEffect(()=>{const g=u.current;if(g===null||g.disabled)return;const m=h.toString().length;g.focus(),g.setSelectionRange(o?0:m,m)},[]),d.useLayoutEffect(()=>{if(l!==void 0){const g=typeof l=="number"?[l,null]:l;u.current?.setSelectionRange(g[0],g[1])}},[l]);const f=d.useCallback(g=>{g.key==="Enter"&&g.shiftKey&&i===!0||r?.(g)},[i,r]);return d.createElement(ep,{className:"gdg-growing-entry"},d.createElement(Jf,{className:c},h+`
`),d.createElement(Qf,{...a,className:(c??"")+" gdg-input",id:p,ref:u,onKeyDown:f,value:h,placeholder:t,dir:"auto"}))},Na={};let fr=null;function tp(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function ki(e){const t=e.toLowerCase().trim();if(Na[t]!==void 0)return Na[t];fr=fr||tp(),fr.style.color="#000",fr.style.color=t;const n=getComputedStyle(fr).color;fr.style.color="#fff",fr.style.color=t;const r=getComputedStyle(fr).color;if(r!==n)return[0,0,0,1];let o=r.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return o.length<4&&o.push(1),o=o.map(i=>Number.isNaN(i)?0:i),Na[t]=o,o}function Hr(e,t){const[n,r,o]=ki(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const Ec=new Map;function Ic(e,t){const n=`${e}-${t}`,r=Ec.get(n);if(r!==void 0)return r;const o=Tn(e,t);return Ec.set(n,o),o}function Tn(e,t){if(t===void 0)return e;const[n,r,o,i]=ki(e);if(i===1)return e;const[l,a,s,c]=ki(t),u=i+c*(1-i),h=(i*n+c*l*(1-i))/u,p=(i*r+c*a*(1-i))/u,f=(i*o+c*s*(1-i))/u;return`rgba(${h}, ${p}, ${f}, ${u})`}var no=new Map,ro=new Map,Ba=new Map;function np(){no.clear(),Ba.clear(),ro.clear()}function rp(e,t,n,r,o){var i,l,a;let s=0,c={};for(let h of e)s+=(i=n.get(h))!=null?i:o,c[h]=((l=c[h])!=null?l:0)+1;let u=t-s;for(let h of Object.keys(c)){let p=c[h],f=(a=n.get(h))!=null?a:o,g=f*p/s,m=u*g*r/p,b=f+m;n.set(h,b)}}function op(e,t){var n;let r=new Map,o=0;for(let c of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let u=e.measureText(c).width;r.set(c,u),o+=u}let i=o/r.size,l=3,a=(t/i+l)/(l+1),s=r.keys();for(let c of s)r.set(c,((n=r.get(c))!=null?n:i)*a);return r}function Ho(e,t,n,r){var o,i;let l=ro.get(n);if(r&&l!==void 0&&l.count>2e4){let c=Ba.get(n);if(c===void 0&&(c=op(e,l.size),Ba.set(n,c)),l.count>5e5){let h=0;for(let p of t)h+=(o=c.get(p))!=null?o:l.size;return h*1.01}let u=e.measureText(t);return rp(t,u.width,c,Math.max(.05,1-l.count/2e5),l.size),ro.set(n,{count:l.count+t.length,size:l.size}),u.width}let a=e.measureText(t),s=a.width/t.length;if(((i=l?.count)!=null?i:0)>2e4)return a.width;if(l===void 0)ro.set(n,{count:t.length,size:s});else{let c=s-l.size,u=t.length/(l.count+t.length),h=l.size+c*u;ro.set(n,{count:l.count+t.length,size:h})}return a.width}function ip(e,t,n,r,o,i,l,a){if(t.length<=1)return t.length;if(o<n)return-1;let s=Math.floor(n/o*i),c=Ho(e,t.slice(0,Math.max(0,s)),r,l);if(c!==n)if(c<n){for(;c<n;)s++,c=Ho(e,t.slice(0,Math.max(0,s)),r,l);s--}else for(;c>n;){let u=t.lastIndexOf(" ",s-1);u>0?s=u:s--,c=Ho(e,t.slice(0,Math.max(0,s)),r,l)}if(t[s]!==" "){let u=0;u=t.lastIndexOf(" ",s),u>0&&(s=u)}return s}function ap(e,t,n,r,o,i){let l=`${t}_${n}_${r}px`,a=no.get(l);if(a!==void 0)return a;if(r<=0)return[];let s=[],c=t.split(`
`),u=ro.get(n),h=u===void 0?t.length:r/u.size*1.5,p=o&&u!==void 0&&u.count>2e4;for(let f of c){let g=Ho(e,f.slice(0,Math.max(0,h)),n,p),m=Math.min(f.length,h);if(g<=r)s.push(f);else{for(;g>r;){let b=ip(e,f,r,n,g,m,p),y=f.slice(0,Math.max(0,b));f=f.slice(y.length),s.push(y),g=Ho(e,f.slice(0,Math.max(0,h)),n,p),m=Math.min(f.length,h)}g>0&&s.push(f)}}return s=s.map((f,g)=>g===0?f.trimEnd():f.trim()),no.set(l,s),no.size>500&&no.delete(no.keys().next().value),s}function lp(e,t){return Bt.useMemo(()=>e.map((n,r)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:r,sticky:r<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled})),[e,t])}function sp(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if(Lo(e.current.cell,t))return!0;const o=[e.current.range,...e.current.rangeStack];for(const i of o)if(n>=i.x&&n<i.x+i.width&&r>=i.y&&r<i.y+i.height)return!0}return!1}function Ao(e,t){return(e??"")===(t??"")}function cp(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Tc(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function Lo(e,t){return e?.[0]===t?.[0]&&e?.[1]===t?.[1]}function Oc(e){return[e.x+e.width-1,e.y+e.height-1]}function Dc(e,t,n){const r=n.x,o=n.x+n.width-1,i=n.y,l=n.y+n.height-1,[a,s]=e;if(s<i||s>l)return!1;if(t.span===void 0)return a>=r&&a<=o;const[c,u]=t.span;return c>=r&&c<=o||u>=r&&c<=o||c<r&&u>o}function up(e,t,n,r){let o=0;if(n.current===void 0)return o;const i=n.current.range;(r||i.height*i.width>1)&&Dc(e,t,i)&&o++;for(const l of n.current.rangeStack)Dc(e,t,l)&&o++;return o}function Pc(e,t){let n=e;if(t!==void 0){let r=[...e];const o=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,o)):(r.splice(t.dest+1,0,o),r.splice(t.src,1)),r=r.map((i,l)=>({...i,sticky:e[l].sticky})),n=r}return n}function oo(e,t){let n=0;const r=Pc(e,t);for(let o=0;o<r.length;o++){const i=r[o];if(i.sticky)n+=i.width;else break}return n}function Ar(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let o=e-t;o<e;o++)r+=n(o);return r}}function Wa(e,t,n,r,o){const i=Pc(e,r),l=[];for(const c of i)if(c.sticky)l.push(c);else break;if(l.length>0)for(const c of l)n-=c.width;let a=t,s=o??0;for(;s<=n&&a<i.length;)s+=i[a].width,a++;for(let c=t;c<a;c++){const u=i[c];u.sticky||l.push(u)}return l}function dp(e,t,n){let r=0;for(const o of t){const i=o.sticky?r:r+(n??0);if(e<=i+o.width)return o.sourceIndex;r+=o.width}return-1}function hp(e,t,n,r,o,i,l,a,s,c){const u=r+o;if(n&&e<=o)return-2;if(e<=u)return-1;let h=t;for(let g=0;g<c;g++){const m=i-1-g,b=typeof l=="number"?l:l(m);if(h-=b,e>=h)return m}const p=i-c,f=e-(s??0);if(typeof l=="number"){const g=Math.floor((f-u)/l)+a;return g>=p?void 0:g}else{let g=u;for(let m=a;m<p;m++){const b=l(m);if(f<=g+b)return m;g+=b}return}}let Si=0,zo={};const fp=typeof window>"u";async function pp(){fp||document?.fonts?.ready===void 0||(await document.fonts.ready,Si=0,zo={},np())}pp();function Fc(e,t,n,r){return`${e}_${r??t?.font}_${n}`}function Lr(e,t,n,r="middle"){const o=Fc(e,t,r,n);let i=zo[o];return i===void 0&&(i=t.measureText(e),zo[o]=i,Si++),Si>1e4&&(zo={},Si=0),i}function Hc(e,t){const n=Fc(e,void 0,"middle",t);return zo[n]}function Gn(e,t){return typeof t!="string"&&(t=t.baseFontFull),gp(e,t)}function Ac(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const Lc=[];function gp(e,t){for(const o of Lc)if(o.key===t)return o.val;const n=Ac(e,"alphabetic"),r=-(Ac(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return Lc.push({key:t,val:r}),r}function mp(e,t,n,r,o,i){const{ctx:l,rect:a,theme:s}=e;let c=Number.MAX_SAFE_INTEGER;const u=500;if(t!==void 0&&(c=n-t,c<u)){const h=1-c/u;l.globalAlpha=h,l.fillStyle=s.bgSearchResult,l.fillRect(a.x+1,a.y+1,a.width-(o?2:1),a.height-(i?2:1)),l.globalAlpha=1,r!==void 0&&(r.fillStyle=s.bgSearchResult)}return c<u}function _o(e,t,n){const{ctx:r,theme:o}=e,i=t??{},l=n??o.textDark;return l!==i.fillStyle&&(r.fillStyle=l,i.fillStyle=l),i}function $a(e,t,n,r,o){const{rect:i,ctx:l,theme:a}=e;l.fillStyle=a.textDark,Yn({ctx:l,rect:i,theme:a},t,n,r,o)}function zc(e,t,n,r,o,i,l,a,s){s==="right"?e.fillText(t,n+o-(a.cellHorizontalPadding+.5),r+i/2+l):s==="center"?e.fillText(t,n+o/2,r+i/2+l):e.fillText(t,n+a.cellHorizontalPadding+.5,r+i/2+l)}function ja(e,t){const n=Lr("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function vp(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function bp(e,t,n,r,o,i,l,a,s,c){const u=a.baseFontFull,h=ap(e,t,u,o-a.cellHorizontalPadding*2,c??!1),p=ja(e,u),f=a.lineHeight*p,g=p+f*(h.length-1),m=g+a.cellVerticalPadding>i;m&&(e.save(),e.rect(n,r,o,i),e.clip());const b=r+i/2-g/2;let y=Math.max(r+a.cellVerticalPadding,b);for(const w of h)if(zc(e,w,n,y,o,p,l,a,s),y+=f,y>r+i)break;m&&e.restore()}function Yn(e,t,n,r,o){const{ctx:i,rect:l,theme:a}=e,{x:s,y:c,width:u,height:h}=l;r=r??!1,r||(t=vp(t,u));const p=Gn(i,a),f=Aa(t)==="rtl";if(n===void 0&&f&&(n="right"),f&&(i.direction="rtl"),t.length>0){let g=!1;n==="right"?(i.textAlign="right",g=!0):n!==void 0&&n!=="left"&&(i.textAlign=n,g=!0),r?bp(i,t,s,c,u,h,p,a,n,o):zc(i,t,s,c,u,h,p,a,n),g&&(i.textAlign="start"),f&&(i.direction="inherit")}}function Kn(e,t,n,r,o,i){typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.max(0,Math.min(i.tl,o/2,r/2)),tr:Math.max(0,Math.min(i.tr,o/2,r/2)),bl:Math.max(0,Math.min(i.bl,o/2,r/2)),br:Math.max(0,Math.min(i.br,o/2,r/2))},e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}function wp(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function yp(e,t,n){const r=function(a,s){const c=s.x-a.x,u=s.y-a.y,h=Math.sqrt(c*c+u*u),p=c/h,f=u/h;return{x:c,y:s.y-a.y,len:h,nx:p,ny:f,ang:Math.atan2(f,p)}};let o;const i=t.length;let l=t[i-1];for(let a=0;a<i;a++){let s=t[a%i];const c=t[(a+1)%i],u=r(s,l),h=r(s,c),p=u.nx*h.ny-u.ny*h.nx,f=u.nx*h.nx-u.ny*-h.ny;let g=Math.asin(p<-1?-1:p>1?1:p),m=1,b=!1;f<0?g<0?g=Math.PI+g:(g=Math.PI-g,m=-1,b=!0):g>0&&(m=-1,b=!0),o=s.radius!==void 0?s.radius:n;const y=g/2;let w=Math.abs(Math.cos(y)*o/Math.sin(y)),k;w>Math.min(u.len/2,h.len/2)?(w=Math.min(u.len/2,h.len/2),k=Math.abs(w*Math.sin(y)/Math.cos(y))):k=o;let I=s.x+h.nx*w,E=s.y+h.ny*w;I+=-h.ny*k*m,E+=h.nx*k*m,e.arc(I,E,k,u.ang+Math.PI/2*m,h.ang-Math.PI/2*m,b),l=s,s=c}e.closePath()}function Ua(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g){const m={x:0,y:i+c,width:0,height:0};if(e>=f.length||t>=u||t<-2||e<0)return m;const b=i-o;if(e>=h){const y=l>e?-1:1,w=oo(f);m.x+=w+s;for(let k=l;k!==e;k+=y)m.x+=f[y===1?k:k-1].width*y}else for(let y=0;y<e;y++)m.x+=f[y].width;if(m.width=f[e].width+1,t===-1)m.y=o,m.height=b;else if(t===-2){m.y=0,m.height=o;let y=e;const w=f[e].group,k=f[e].sticky;for(;y>0&&Ao(f[y-1].group,w)&&f[y-1].sticky===k;){const E=f[y-1];m.x-=E.width,m.width+=E.width,y--}let I=e;for(;I+1<f.length&&Ao(f[I+1].group,w)&&f[I+1].sticky===k;){const E=f[I+1];m.width+=E.width,I++}if(!k){const E=oo(f),x=m.x-E;x<0&&(m.x-=x,m.width+=x),m.x+m.width>n&&(m.width=n-m.x)}}else if(t>=u-p){let y=u-t;for(m.y=r;y>0;){const w=t+y-1;m.height=typeof g=="number"?g:g(w),m.y-=m.height,y--}m.height+=1}else{const y=a>t?-1:1;if(typeof g=="number"){const w=t-a;m.y+=w*g}else for(let w=a;w!==t;w+=y)m.y+=g(w)*y;m.height=(typeof g=="number"?g:g(t))+1}return m}const Xa=1<<21;function Nn(e,t){return(t+2)*Xa+e}function _c(e){return e%Xa}function Ga(e){return Math.floor(e/Xa)-2}function Ya(e){const t=_c(e),n=Ga(e);return[t,n]}class Vc{visibleWindow={x:0,y:0,width:0,height:0};freezeCols=0;freezeRows=[];isInWindow=t=>{const n=_c(t),r=Ga(t),o=this.visibleWindow,i=n>=o.x&&n<=o.x+o.width||n<this.freezeCols,l=r>=o.y&&r<=o.y+o.height||this.freezeRows.includes(r);return i&&l};setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&eo(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class xp extends Vc{cache=new Map;setValue=(t,n)=>{this.cache.set(Nn(t[0],t[1]),n)};getValue=t=>this.cache.get(Nn(t[0],t[1]));clearOutOfWindow=()=>{for(const[t]of this.cache.entries())this.isInWindow(t)||this.cache.delete(t)}}class Vo{cells;constructor(t=[]){this.cells=new Set(t.map(n=>Nn(n[0],n[1])))}add(t){this.cells.add(Nn(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(Nn(t[0],t[1]))}remove(t){this.cells.delete(Nn(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(Ga(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(Nn(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield Ya(t)}}Ms=function(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-bg-group-header":e.bgGroupHeader??e.bgHeader,"--gdg-bg-group-header-hovered":e.bgGroupHeaderHovered??e.bgHeaderHovered,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bubble-height":`${e.bubbleHeight}px`,"--gdg-bubble-padding":`${e.bubblePadding}px`,"--gdg-bubble-margin":`${e.bubbleMargin}px`,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,"--gdg-checkbox-max-size":`${e.checkboxMaxSize}px`,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}};const Nc={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bubbleHeight:20,bubblePadding:6,bubbleMargin:4,bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4,checkboxMaxSize:18};function Bc(){return Nc}Sa=Bt.createContext(Nc);function Cp(){return Bt.useContext(Sa)}function tr(e,...t){const n={...e};for(const r of t)if(r!==void 0)for(const o in r)r.hasOwnProperty(o)&&(o==="bgCell"?n[o]=Tn(r[o],n[o]):n[o]=r[o]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const Ka=150;function kp(e,t,n,r){return r(t)?.measure?.(e,t,n)??Ka}function Wc(e,t,n,r,o,i,l,a,s){let c=0;const u=o===void 0?[]:o.map(f=>{const g=kp(e,f[r],t,s);return c=Math.max(c,g),g});if(u.length>5&&a){c=0;let f=0;for(const m of u)f+=m;const g=f/u.length;for(let m=0;m<u.length;m++)u[m]>=g*2?u[m]=0:c=Math.max(c,u[m])}const h=e.font;e.font=t.headerFontFull,c=Math.max(c,e.measureText(n.title).width+t.cellHorizontalPadding*2+(n.icon===void 0?0:28)),e.font=h;const p=Math.max(Math.ceil(i),Math.min(Math.floor(l),Math.ceil(c)));return{...n,width:p}}function Sp(e,t,n,r,o,i,l,a,s){const c=d.useRef(t),u=d.useRef(n),h=d.useRef(l);c.current=t,u.current=n,h.current=l;const[p,f]=d.useMemo(()=>{if(typeof window>"u")return[null,null];const w=document.createElement("canvas");return w.style.display="none",w.style.opacity="0",w.style.position="fixed",[w,w.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>(p&&document.documentElement.append(p),()=>{p?.remove()}),[p]);const g=d.useRef({}),m=d.useRef(),[b,y]=d.useState();return d.useLayoutEffect(()=>{const w=u.current;if(w===void 0||e.every(bi))return;let k=Math.max(1,10-Math.floor(e.length/1e4)),I=0;k<c.current&&k>1&&(k--,I=1);const E={x:0,y:0,width:e.length,height:Math.min(c.current,k)},x={x:0,y:c.current-1,width:e.length,height:1};(async()=>{const F=w(E,s.signal),O=I>0?w(x,s.signal):void 0;let M;typeof F=="object"?M=F:M=await Hs(F),O!==void 0&&(typeof O=="object"?M=[...M,...O]:M=[...M,...await Hs(O)]),m.current=e,y(M)})()},[s.signal,e]),d.useMemo(()=>{let w=e.every(bi)?e:f===null?e.map(x=>bi(x)?x:{...x,width:Ka}):(f.font=h.current.baseFontFull,e.map((x,F)=>{if(bi(x))return x;if(g.current[x.id]!==void 0)return{...x,width:g.current[x.id]};if(b===void 0||m.current!==e||x.id===void 0)return{...x,width:Ka};const O=Wc(f,l,x,F,b,o,i,!0,a);return g.current[x.id]=O.width,O})),k=0,I=0;const E=[];for(const[x,F]of w.entries())k+=F.width,F.grow!==void 0&&F.grow>0&&(I+=F.grow,E.push(x));if(k<r&&E.length>0){const x=[...w],F=r-k;let O=F;for(let M=0;M<E.length;M++){const H=E[M],T=(w[H].grow??0)/I,C=M===E.length-1?O:Math.min(O,Math.floor(F*T));x[H]={...w[H],growOffset:C,width:w[H].width+C},O-=C}w=x}return{sizedColumns:w,nonGrowWidth:k}},[r,e,f,b,l,o,i,a])}var qa,$c;function Mp(){if($c)return qa;$c=1;function e(t,n,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),n!==void 0&&(t=t>=n?t:n)),t}return qa=e,qa}var Za,jc;function Rp(){if(jc)return Za;jc=1;var e=Mp(),t=Fh();function n(r,o,i){return i===void 0&&(i=o,o=void 0),i!==void 0&&(i=t(i),i=i===i?i:0),o!==void 0&&(o=t(o),o=o===o?o:0),e(t(r),o,i)}return Za=n,Za}var Ep=Rp();const Ln=lr(Ep);var Qa,Uc;function Ip(){if(Uc)return Qa;Uc=1;function e(){}return Qa=e,Qa}var Ja,Xc;function Tp(){if(Xc)return Ja;Xc=1;var e=$y(),t=Ip(),n=Hh(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return Ja=o,Ja}var el,Gc;function Op(){if(Gc)return el;Gc=1;var e=jy(),t=Uy(),n=Gy(),r=Xy(),o=Tp(),i=Hh(),l=200;function a(s,c,u){var h=-1,p=t,f=s.length,g=!0,m=[],b=m;if(u)g=!1,p=n;else if(f>=l){var y=c?null:o(s);if(y)return i(y);g=!1,p=r,b=new e}else b=c?[]:m;e:for(;++h<f;){var w=s[h],k=c?c(w):w;if(w=u||w!==0?w:0,g&&k===k){for(var I=b.length;I--;)if(b[I]===k)continue e;c&&b.push(k),m.push(w)}else p(b,k,u)||(b!==m&&b.push(k),m.push(w))}return m}return el=a,el}var tl,Yc;function Dp(){if(Yc)return tl;Yc=1;var e=Op();function t(n){return n&&n.length?e(n):[]}return tl=t,tl}var Pp=Dp();const Fp=lr(Pp);var Hp=Yy();const Kc=lr(Hp),At='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Ap=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},Lp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},zp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},_p=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},Vp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},qc=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},Np=e=>{const t=e.bgColor;return`${At}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},Bp=qc,Wp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},$p=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},jp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},Up=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},Xp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},Gp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},Yp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},Kp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},qp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},Zp=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},Qp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},Jp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},eg=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},tg=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},ng=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},rg=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},og=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${At}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},ig=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},ag=e=>{const t=e.fgColor,n=e.bgColor;return`${At}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},lg=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},sg=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},cg={headerRowID:Ap,headerNumber:zp,headerCode:Lp,headerString:_p,headerBoolean:Vp,headerAudioUri:Bp,headerVideoUri:Wp,headerEmoji:$p,headerImage:jp,headerUri:qc,headerPhone:Up,headerMarkdown:Xp,headerDate:Gp,headerTime:Yp,headerEmail:Kp,headerReference:qp,headerIfThenElse:Zp,headerSingleValue:Qp,headerLookup:Jp,headerTextTemplate:eg,headerMath:tg,headerRollup:ng,headerJoinStrings:rg,headerSplitString:og,headerGeoDistance:ig,headerArray:ag,rowOwnerOverlay:lg,protectedColumnOverlay:sg,renameIcon:Np};function ug(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class dg{onSettled;spriteMap=new Map;headerIcons;inFlight=0;constructor(t,n){this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,r,o,i,l,a,s=1){const[c,u]=ug(n,a),h=l*Math.ceil(window.devicePixelRatio),p=`${c}_${u}_${h}_${t}`;let f=this.spriteMap.get(p);if(f===void 0){const g=this.headerIcons[t];if(g===void 0)return;f=document.createElement("canvas");const m=f.getContext("2d");if(m===null)return;const b=new Image;b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(g({fgColor:u,bgColor:c}))}`,this.spriteMap.set(p,f);const y=b.decode();if(y===void 0)return;this.inFlight++,y.then(()=>{m.drawImage(b,0,0,h,h)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else s<1&&(r.globalAlpha=s),r.drawImage(f,0,0,h,h,o,i,l,l),s<1&&(r.globalAlpha=1)}}function Zc(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y)}function Mi(e,t,n,r,o,i,l,a,s){a=a??t;let c=t,u=e;const h=r-i;let p=!1;for(;c<n&&u<h;){const f=o(u);if(c+f>a&&s(c,u,f,!1,l&&u===r-1)===!0){p=!0;break}c+=f,u++}if(!p){c=n;for(let f=0;f<i;f++){u=r-1-f;const g=o(u);c-=g,s(c,u,g,!0,l&&u===r-1)}}}function pr(e,t,n,r,o,i){let l=0,a=0;const s=o+r;for(const c of e){const u=c.sticky?a:l+n;if(i(c,u,s,c.sticky?0:a,t)===!0)break;l+=c.width,a+=c.sticky?c.width:0}}function Qc(e,t,n,r,o){let i=0,l=0;for(let a=0;a<e.length;a++){const s=e[a];let c=a+1,u=s.width;for(s.sticky&&(l+=u);c<e.length&&Ao(e[c].group,s.group)&&e[c].sticky===e[a].sticky;){const m=e[c];u+=m.width,c++,a++,m.sticky&&(l+=m.width)}const h=s.sticky?0:n,p=i+h,f=s.sticky?0:Math.max(0,l-p),g=Math.min(u-f,t-(p+f));o([s.sourceIndex,e[c-1].sourceIndex],s.group??"",p+f,0,g,r),i+=u}}function Jc(e,t,n,r,o,i,l){const[a,s]=e;let c,u;const h=l.find(p=>!p.sticky)?.sourceIndex??0;if(s>h){const p=Math.max(a,h);let f=t,g=r;for(let m=i.sourceIndex-1;m>=p;m--)f-=l[m].width,g+=l[m].width;for(let m=i.sourceIndex+1;m<=s;m++)g+=l[m].width;u={x:f,y:n,width:g,height:o}}if(h>a){const p=Math.min(s,h-1);let f=t,g=r;for(let m=i.sourceIndex-1;m>=a;m--)f-=l[m].width,g+=l[m].width;for(let m=i.sourceIndex+1;m<=p;m++)g+=l[m].width;c={x:f,y:n,width:g,height:o}}return[c,u]}function hg(e,t,n,r){if(r==="any")return eu(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),Tc([t,n],e))return;const o=t-e.x,i=e.x+e.width-t,l=n-e.y+1,a=e.y+e.height-n,s=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:o,r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="horizontal"?Number.MAX_SAFE_INTEGER:l,r==="horizontal"?Number.MAX_SAFE_INTEGER:a);return s===a?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:s===l?{x:e.x,y:n,width:e.width,height:e.y-n}:s===i?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function No(e,t,n,r,o,i,l,a){return e<=o+l&&o<=e+n&&t<=i+a&&i<=t+r}function zr(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function eu(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.x+e.width,t.x+t.width)-n,i=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:o,height:i}}function fg(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function pg(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const o=-4,i=-4,l=t+4,a=n+4,s=o-e.x,c=e.x+e.width-l,u=i-e.y,h=e.y+e.height-a,p=s>0?e.x+Math.floor(s/r)*r:e.x,f=c>0?e.x+e.width-Math.floor(c/r)*r:e.x+e.width,g=u>0?e.y+Math.floor(u/r)*r:e.y,m=h>0?e.y+e.height-Math.floor(h/r)*r:e.y+e.height;return{x:p,y:g,width:f-p,height:m-g}}function gg(e,t,n,r,o){const[i,l,a,s]=t,[c,u,h,p]=o,{x:f,y:g,width:m,height:b}=e,y=[];if(m<=0||b<=0)return y;const w=f+m,k=g+b,I=f<i,E=g<l,x=f+m>a,F=g+b>s,O=f>=i&&f<a||w>i&&w<=a||f<i&&w>a,M=g>=l&&g<s||k>l&&k<=s||g<l&&k>s;if(O&&M){const H=Math.max(f,i),T=Math.max(g,l),C=Math.min(w,a),R=Math.min(k,s);y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:c,y:u,width:h-c+1,height:p-u+1}})}if(I&&E){const H=f,T=g,C=Math.min(w,i),R=Math.min(k,l);y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:0,y:0,width:c+1,height:u+1}})}if(E&&O){const H=Math.max(f,i),T=g,C=Math.min(w,a),R=Math.min(k,l);y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:c,y:0,width:h-c+1,height:u+1}})}if(E&&x){const H=Math.max(f,a),T=g,C=w,R=Math.min(k,l);y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:h,y:0,width:n-h+1,height:u+1}})}if(I&&M){const H=f,T=Math.max(g,l),C=Math.min(w,i),R=Math.min(k,s);y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:0,y:u,width:c+1,height:p-u+1}})}if(x&&M){const H=Math.max(f,a),T=Math.max(g,l),C=w,R=Math.min(k,s);y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:h,y:u,width:n-h+1,height:p-u+1}})}if(I&&F){const H=f,T=Math.max(g,s),C=Math.min(w,i),R=k;y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:0,y:p,width:c+1,height:r-p+1}})}if(F&&O){const H=Math.max(f,i),T=Math.max(g,s),C=Math.min(w,a),R=k;y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:c,y:p,width:h-c+1,height:r-p+1}})}if(x&&F){const H=Math.max(f,a),T=Math.max(g,s),C=w,R=k;y.push({rect:{x:H,y:T,width:C-H,height:R-T},clip:{x:h,y:p,width:n-h+1,height:r-p+1}})}return y}const mg={kind:Z.Loading,allowOverlay:!1};function tu(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b,y,w,k,I,E,x,F,O,M,H,T,C,R,D,S,Q,$,q){let ie=k?.size??Number.MAX_SAFE_INTEGER;const ee=performance.now();let K=R.baseFontFull;e.font=K;const se={ctx:e},te=[0,0],ue=b>0?Ar(s,b,c):0;let fe,ae;const z=Zc(w);return pr(t,a,i,l,o,(P,G,le,de,Oe)=>{const ge=Math.max(0,de-G),it=G+ge,Re=o+1,Lt=P.width-ge,Ye=r-o-1;if(w.length>0){let Ie=!1;for(let Ae=0;Ae<w.length;Ae++){const et=w[Ae];if(No(it,Re,Lt,Ye,et.x,et.y,et.width,et.height)){Ie=!0;break}}if(!Ie)return}const Xe=()=>{e.save(),e.beginPath(),e.rect(it,Re,Lt,Ye),e.clip()},ne=I.columns.hasIndex(P.sourceIndex),pe=h(P.group??"").overrideTheme,Ce=P.themeOverride===void 0&&pe===void 0?R:tr(R,pe,P.themeOverride),ce=Ce.baseFontFull;ce!==K&&(K=ce,e.font=ce),Xe();let xe;return Mi(Oe,le,r,s,c,b,y,z,(Ie,Ae,et,Pe,je)=>{if(Ae<0||(te[0]=P.sourceIndex,te[1]=Ae,k!==void 0&&!k.has(te)))return;if(w.length>0){let Le=!1;for(let Rt=0;Rt<w.length;Rt++){const _t=w[Rt];if(No(G,Ie,P.width,et,_t.x,_t.y,_t.width,_t.height)){Le=!0;break}}if(!Le)return}const Ne=I.rows.hasIndex(Ae),Te=f.hasIndex(Ae),Ee=Ae<s?u(te):mg;let mt=G,pt=P.width,Ke=!1,Ct=!1;if(Ee.span!==void 0){const[Le,Rt]=Ee.span,_t=`${Ae},${Le},${Rt},${P.sticky}`;if(ae===void 0&&(ae=new Set),ae.has(_t)){ie--;return}else{const On=Jc(Ee.span,G,Ie,P.width,et,P,n),Ut=P.sticky?On[0]:On[1];if(!P.sticky&&On[0]!==void 0&&(Ct=!0),Ut!==void 0){mt=Ut.x,pt=Ut.width,ae.add(_t),e.restore(),xe=void 0,e.save(),e.beginPath();const pn=Math.max(0,de-Ut.x);e.rect(Ut.x+pn,Ie,Ut.width-pn,et),fe===void 0&&(fe=[]),fe.push({x:Ut.x+pn,y:Ie,width:Ut.width-pn,height:et}),e.clip(),Ke=!0}}}const qt=p?.(Ae),zt=je&&P.trailingRowOptions?.themeOverride!==void 0?P.trailingRowOptions?.themeOverride:void 0,Mt=Ee.themeOverride===void 0&&qt===void 0&&zt===void 0?Ce:tr(Ce,qt,zt,Ee.themeOverride);e.beginPath();const fn=cp(te,Ee,I);let jt=up(te,Ee,I,m);const on=Ee.span!==void 0&&I.columns.some(Le=>Ee.span!==void 0&&Le>=Ee.span[0]&&Le<=Ee.span[1]);fn&&!g&&m?jt=0:fn&&m&&(jt=Math.max(jt,1)),on&&jt++,fn||(Ne&&jt++,ne&&!je&&jt++);const Tt=Ee.kind===Z.Protected?Mt.bgCellMedium:Mt.bgCell;let wt;if((Pe||Tt!==R.bgCell)&&(wt=Tn(Tt,wt)),jt>0||Te){Te&&(wt=Tn(Mt.bgHeader,wt));for(let Le=0;Le<jt;Le++)wt=Tn(Mt.accentLight,wt)}else if(E!==void 0){for(const Le of E)if(Le[0]===P.sourceIndex&&Le[1]===Ae){wt=Tn(Mt.bgSearchResult,wt);break}}if(x!==void 0)for(let Le=0;Le<x.length;Le++){const Rt=x[Le],_t=Rt.range;Rt.style!=="solid-outline"&&_t.x<=P.sourceIndex&&P.sourceIndex<_t.x+_t.width&&_t.y<=Ae&&Ae<_t.y+_t.height&&(wt=Tn(Rt.color,wt))}let an=!1;if(k!==void 0){const Le=Ie+1,Rt=(Pe?Le+et-1:Math.min(Le+et-1,r-ue))-Le;(Rt!==et-1||mt+1<=de)&&(an=!0,e.save(),e.beginPath(),e.rect(mt+1,Le,pt-1,Rt),e.clip()),wt=wt===void 0?Mt.bgCell:Tn(wt,Mt.bgCell)}const ct=P.sourceIndex===n.length-1,ln=Ae===s-1;wt!==void 0&&(e.fillStyle=wt,xe!==void 0&&(xe.fillStyle=wt),k!==void 0?e.fillRect(mt+1,Ie+1,pt-(ct?2:1),et-(ln?2:1)):e.fillRect(mt,Ie,pt,et)),Ee.style==="faded"&&(e.globalAlpha=.6);let Wt;for(let Le=0;Le<M.length;Le++){const Rt=M[Le];if(Rt.item[0]===P.sourceIndex&&Rt.item[1]===Ae){Wt=Rt;break}}if(pt>q&&!Ct){const Le=Mt.baseFontFull;Le!==K&&(e.font=Le,K=Le),xe=nu(e,Ee,P.sourceIndex,Ae,ct,ln,mt,Ie,pt,et,jt>0,Mt,wt??Mt.bgCell,F,O,Wt?.hoverAmount??0,H,C,ee,T,xe,D,S,Q,$)}return an&&e.restore(),Ee.style==="faded"&&(e.globalAlpha=1),ie--,Ke&&(e.restore(),xe?.deprep?.(se),xe=void 0,Xe(),K=ce,e.font=ce),ie<=0}),e.restore(),ie<=0}),fe}const Bo=[0,0],Wo={x:0,y:0,width:0,height:0},nl=[void 0,()=>{}];let rl=!1;function vg(){rl=!0}function nu(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b,y,w,k,I,E,x,F,O){let M,H;b!==void 0&&b[0][0]===n&&b[0][1]===r&&(M=b[1][0],H=b[1][1]);let T;Bo[0]=n,Bo[1]=r,Wo.x=l,Wo.y=a,Wo.width=s,Wo.height=c,nl[0]=x.getValue(Bo),nl[1]=S=>x.setValue(Bo,S),rl=!1;const C={ctx:e,theme:h,col:n,row:r,cell:t,rect:Wo,highlighted:u,cellFillColor:p,hoverAmount:m,frameTime:w,hoverX:M,drawState:nl,hoverY:H,imageLoader:f,spriteManager:g,hyperWrapping:y,overrideCursor:M!==void 0?O:void 0,requestAnimationFrame:vg},R=mp(C,t.lastUpdated,w,I,o,i),D=F(t);if(D!==void 0){I?.renderer!==D&&(I?.deprep?.(C),I=void 0);const S=D.drawPrep?.(C,I);k!==void 0&&!Tr(C.cell)?k(C,()=>D.draw(C,t)):D.draw(C,t),T=S===void 0?void 0:{deprep:S?.deprep,fillStyle:S?.fillStyle,font:S?.font,renderer:D}}return(R||rl)&&E?.(Bo),T}function ol(e,t,n,r,o,i,l,a,s=-20,c=-20,u=void 0,h="center",p="square"){const f=Math.floor(o+l/2),g=p==="circle"?1e4:t.roundingRadius??4;let m=uc(u??t.checkboxMaxSize,l,t.cellVerticalPadding),b=m/2;const y=cc(h,r,i,t.cellHorizontalPadding,m),w=sc(y,f,m),k=dc(r+s,o+c,w);switch(n){case!0:{e.beginPath(),Kn(e,y-m/2,f-m/2,m,m,g),p==="circle"&&(b*=.8,m*=.8),e.fillStyle=a?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(y-b+m/4.23,f-b+m/1.97),e.lineTo(y-b+m/2.42,f-b+m/1.44),e.lineTo(y-b+m/1.29,f-b+m/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case mi:case!1:{e.beginPath(),Kn(e,y-m/2+.5,f-m/2+.5,m-1,m-1,g),e.lineWidth=1,e.strokeStyle=k?t.textDark:t.textMedium,e.stroke();break}case Ea:{e.beginPath(),Kn(e,y-m/2,f-m/2,m,m,g),e.fillStyle=k?t.textMedium:t.textLight,e.fill(),p==="circle"&&(b*=.8,m*=.8),e.beginPath(),e.moveTo(y-m/3,f),e.lineTo(y+m/3,f),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:Ro()}}function bg(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b,y,w){const k=l+a;if(k<=0)return;e.fillStyle=h.bgHeader,e.fillRect(0,0,o,k);const I=r?.[0]?.[0],E=r?.[0]?.[1],x=r?.[1]?.[0],F=r?.[1]?.[1],O=h.headerFontFull;e.font=O,pr(t,0,i,0,k,(M,H,T,C)=>{if(b!==void 0&&!b.has([M.sourceIndex,-1]))return;const R=Math.max(0,C-H);e.save(),e.beginPath(),e.rect(H+R,a,M.width-R,l),e.clip();const D=m(M.group??"").overrideTheme,S=M.themeOverride===void 0&&D===void 0?h:tr(h,D,M.themeOverride);S.bgHeader!==h.bgHeader&&(e.fillStyle=S.bgHeader,e.fill()),S!==h&&(e.font=S.headerFontFull);const Q=u.columns.hasIndex(M.sourceIndex),$=s!==void 0||c||M.headerRowMarkerDisabled===!0,q=!$&&E===-1&&I===M.sourceIndex,ie=$?0:f.find(ue=>ue.item[0]===M.sourceIndex&&ue.item[1]===-1)?.hoverAmount??0,ee=u?.current!==void 0&&u.current.cell[0]===M.sourceIndex,K=Q?S.accentColor:ee?S.bgHeaderHasFocus:S.bgHeader,se=n?a:0,te=M.sourceIndex===0?0:1;Q?(e.fillStyle=K,e.fillRect(H+te,se,M.width-te,l)):(ee||ie>0)&&(e.beginPath(),e.rect(H+te,se,M.width-te,l),ee&&(e.fillStyle=S.bgHeaderHasFocus,e.fill()),ie>0&&(e.globalAlpha=ie,e.fillStyle=S.bgHeaderHovered,e.fill(),e.globalAlpha=1)),au(e,H,se,M.width,l,M,Q,S,q,q?x:void 0,q?F:void 0,ee,ie,p,y,w),e.restore()}),n&&wg(e,t,o,i,a,r,h,p,f,g,m,b)}function wg(e,t,n,r,o,i,l,a,s,c,u,h){const[p,f]=i?.[0]??[];let g=0;Qc(t,n,r,o,(m,b,y,w,k,I)=>{if(h!==void 0&&!h.hasItemInRectangle({x:m[0],y:-2,width:m[1]-m[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(y,w,k,I),e.clip();const E=u(b),x=E?.overrideTheme===void 0?l:tr(l,E.overrideTheme),F=f===-2&&p!==void 0&&p>=m[0]&&p<=m[1],O=F?x.bgGroupHeaderHovered??x.bgHeaderHovered:x.bgGroupHeader??x.bgHeader;if(O!==l.bgHeader&&(e.fillStyle=O,e.fill()),e.fillStyle=x.textGroupHeader??x.textHeader,E!==void 0){let M=y;if(E.icon!==void 0&&(a.drawSprite(E.icon,"normal",e,M+8,(o-20)/2,20,x),M+=26),e.fillText(E.name,M+8,o/2+Gn(e,l.headerFontFull)),E.actions!==void 0&&F){const H=ru({x:y,y:w,width:k,height:I},E.actions);e.beginPath();const T=H[0].x-10,C=y+k-T;e.rect(T,0,C,o);const R=e.createLinearGradient(T,0,T+C,0),D=Hr(O,0);R.addColorStop(0,D),R.addColorStop(10/C,O),R.addColorStop(1,O),e.fillStyle=R,e.fill(),e.globalAlpha=.6;const[S,Q]=i?.[1]??[-1,-1];for(let $=0;$<E.actions.length;$++){const q=E.actions[$],ie=H[$],ee=zr(ie,S+y,Q);ee&&(e.globalAlpha=1),a.drawSprite(q.icon,"normal",e,ie.x+ie.width/2-10,ie.y+ie.height/2-10,20,x),ee&&(e.globalAlpha=.6)}e.globalAlpha=1}}y!==0&&c(m[0])&&(e.beginPath(),e.moveTo(y+.5,0),e.lineTo(y+.5,o),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()),e.restore(),g=y+k}),e.beginPath(),e.moveTo(g+.5,0),e.lineTo(g+.5,o),e.moveTo(0,o+.5),e.lineTo(n,o+.5),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()}const Ri=30;function yg(e,t,n,r,o){return{x:e+n-Ri,y:Math.max(t,t+r/2-Ri/2),width:Ri,height:Math.min(Ri,r)}}function ru(e,t){const n=[];let r=e.x+e.width-26*t.length;const o=e.y+e.height/2-13,i=26,l=26;for(let a=0;a<t.length;a++)n.push({x:r,y:o,width:l,height:i}),r+=26;return n}function $o(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function ou(e,t,n,r,o,i,l,a){const s=l.cellHorizontalPadding,c=l.headerIconSize,u=yg(n,r,o,i);let h=n+s;const p=t.icon===void 0?void 0:{x:h,y:r+(i-c)/2,width:c,height:c},f=p===void 0||t.overlayIcon===void 0?void 0:{x:p.x+9,y:p.y+6,width:18,height:18};p!==void 0&&(h+=Math.ceil(c*1.3));const g={x:h,y:r,width:o-h,height:i};let m;if(t.indicatorIcon!==void 0){const y=e===void 0?Hc(t.title,l.headerFontFull)?.width??0:Lr(t.title,e,l.headerFontFull).width;g.width=y,h+=y+s,m={x:h,y:r+(i-c)/2,width:c,height:c}}const b=n+o/2;return{menuBounds:$o(u,b,a),iconBounds:$o(p,b,a),iconOverlayBounds:$o(f,b,a),textBounds:$o(g,b,a),indicatorIconBounds:$o(m,b,a)}}function iu(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m){if(i.rowMarker!==void 0&&i.headerRowMarkerDisabled!==!0){const w=i.rowMarkerChecked;w!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=h);const k=i.headerRowMarkerTheme!==void 0?tr(a,i.headerRowMarkerTheme):a;ol(e,k,w,t,n,r,o,!1,void 0,void 0,a.checkboxMaxSize,"center",i.rowMarker),w!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const b=l?a.textHeaderSelected:a.textHeader,y=i.hasMenu===!0&&(s||f&&l)&&m.menuBounds!==void 0;if(i.icon!==void 0&&m.iconBounds!==void 0){let w=l?"selected":"normal";i.style==="highlight"&&(w=l?"selected":"special"),p.drawSprite(i.icon,w,e,m.iconBounds.x,m.iconBounds.y,m.iconBounds.width,a),i.overlayIcon!==void 0&&m.iconOverlayBounds!==void 0&&p.drawSprite(i.overlayIcon,l?"selected":"special",e,m.iconOverlayBounds.x,m.iconOverlayBounds.y,m.iconOverlayBounds.width,a)}if(y&&r>35){const w=g?35:r-35,k=g?35*.7:r-35*.7,I=w/r,E=k/r,x=e.createLinearGradient(t,0,t+r,0),F=Hr(b,0);x.addColorStop(g?1:0,b),x.addColorStop(I,b),x.addColorStop(E,F),x.addColorStop(g?0:1,F),e.fillStyle=x}else e.fillStyle=b;if(g&&(e.textAlign="right"),m.textBounds!==void 0&&e.fillText(i.title,g?m.textBounds.x+m.textBounds.width:m.textBounds.x,n+o/2+Gn(e,a.headerFontFull)),g&&(e.textAlign="left"),i.indicatorIcon!==void 0&&m.indicatorIconBounds!==void 0&&(!y||!No(m.menuBounds.x,m.menuBounds.y,m.menuBounds.width,m.menuBounds.height,m.indicatorIconBounds.x,m.indicatorIconBounds.y,m.indicatorIconBounds.width,m.indicatorIconBounds.height))){let w=l?"selected":"normal";i.style==="highlight"&&(w=l?"selected":"special"),p.drawSprite(i.indicatorIcon,w,e,m.indicatorIconBounds.x,m.indicatorIconBounds.y,m.indicatorIconBounds.width,a)}if(y&&m.menuBounds!==void 0){const w=m.menuBounds,k=c!==void 0&&u!==void 0&&zr(w,c+t,u+n);if(k||(e.globalAlpha=.7),i.menuIcon===void 0||i.menuIcon===vi.Triangle){e.beginPath();const I=w.x+w.width/2-5.5,E=w.y+w.height/2-3;yp(e,[{x:I,y:E},{x:I+11,y:E},{x:I+5.5,y:E+6}],1),e.fillStyle=b,e.fill()}else if(i.menuIcon===vi.Dots){e.beginPath();const I=w.x+w.width/2,E=w.y+w.height/2;wp(e,I,E),e.fillStyle=b,e.fill()}else{const I=w.x+(w.width-a.headerIconSize)/2,E=w.y+(w.height-a.headerIconSize)/2;p.drawSprite(i.menuIcon,"normal",e,I,E,a.headerIconSize,a)}k||(e.globalAlpha=1)}}function au(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m){const b=Aa(i.title)==="rtl",y=ou(e,i,t,n,r,o,a,b);g!==void 0?g({ctx:e,theme:a,rect:{x:t,y:n,width:r,height:o},column:i,columnIndex:i.sourceIndex,isSelected:l,hoverAmount:p,isHovered:s,hasSelectedCell:h,spriteManager:f,menuBounds:y?.menuBounds??{x:0,y:0,height:0,width:0},hoverX:c,hoverY:u},()=>iu(e,t,n,r,o,i,l,a,s,c,u,p,f,m,b,y)):iu(e,t,n,r,o,i,l,a,s,c,u,p,f,m,b,y)}function xg(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b,y,w){if(y!==void 0||t[t.length-1]!==n[t.length-1])return;const k=Zc(b);pr(t,s,l,a,i,(I,E,x,F,O)=>{if(I!==t[t.length-1])return;E+=I.width;const M=Math.max(E,F);M>r||(e.save(),e.beginPath(),e.rect(M,i+1,1e4,o-i-1),e.clip(),Mi(O,x,o,c,u,g,m,k,(H,T,C,R)=>{if(!R&&b.length>0&&!b.some(q=>No(E,H,1e4,C,q.x,q.y,q.width,q.height)))return;const D=p.hasIndex(T),S=f.hasIndex(T);e.beginPath();const Q=h?.(T),$=Q===void 0?w:tr(w,Q);$.bgCell!==w.bgCell&&(e.fillStyle=$.bgCell,e.fillRect(E,H,1e4,C)),S&&(e.fillStyle=$.bgHeader,e.fillRect(E,H,1e4,C)),D&&(e.fillStyle=$.accentLight,e.fillRect(E,H,1e4,C))}),e.restore())})}function Cg(e,t,n,r,o,i,l,a,s){let c=!1;for(const g of t)if(!g.sticky){c=l(g.sourceIndex);break}const u=s.horizontalBorderColor??s.borderColor,h=s.borderColor,p=c?oo(t):0;let f;if(p!==0&&(f=Ic(h,s.bgCell),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,r),e.strokeStyle=f,e.stroke()),o>0){const g=h===u&&f!==void 0?f:Ic(u,s.bgCell),m=Ar(i,o,a);e.beginPath(),e.moveTo(0,r-m+.5),e.lineTo(n,r-m+.5),e.strokeStyle=g,e.stroke()}}const lu=(e,t,n)=>{let r=0,o=t,i=0,l=n;if(e!==void 0&&e.length>0){r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(const a of e)r=Math.min(r,a.x-1),o=Math.max(o,a.x+a.width+1),i=Math.min(i,a.y-1),l=Math.max(l,a.y+a.height+1)}return{minX:r,maxX:o,minY:i,maxY:l}};function kg(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g){const m=g.bgCell,{minX:b,maxX:y,minY:w,maxY:k}=lu(a,i,l),I=[],E=l-Ar(f,p,c);let x=s,F=n,O=0;for(;x+o<E;){const C=x+o,R=c(F);if(C>=w&&C<=k-1){const D=u?.(F)?.bgCell;D!==void 0&&D!==m&&F>=f-p&&I.push({x:b,y:C,w:y-b,h:R,color:D})}x+=R,F<f-p&&(O=x),F++}let M=0;const H=Math.min(E,k)-O;if(H>0)for(let C=0;C<t.length;C++){const R=t[C];if(R.width===0)continue;const D=R.sticky?M:M+r,S=R.themeOverride?.bgCell;S!==void 0&&S!==m&&D>=b&&D<=y&&h(C+1)&&I.push({x:D,y:O,w:R.width,h:H,color:S}),M+=R.width}if(I.length===0)return;let T;e.beginPath();for(let C=I.length-1;C>=0;C--){const R=I[C];T===void 0?T=R.color:R.color!==T&&(e.fillStyle=T,e.fill(),e.beginPath(),T=R.color),e.rect(R.x,R.y,R.w,R.h)}T!==void 0&&(e.fillStyle=T,e.fill()),e.beginPath()}function su(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b,y=!1){if(s!==void 0){e.beginPath(),e.save(),e.rect(0,0,i,l);for(const C of s)e.rect(C.x+1,C.y+1,C.width-1,C.height-1);e.clip("evenodd")}const w=b.horizontalBorderColor??b.borderColor,k=b.borderColor,{minX:I,maxX:E,minY:x,maxY:F}=lu(a,i,l),O=[];e.beginPath();let M=.5;for(let C=0;C<t.length;C++){const R=t[C];if(R.width===0)continue;M+=R.width;const D=R.sticky?M:M+r;D>=I&&D<=E&&f(C+1)&&O.push({x1:D,y1:Math.max(c,x),x2:D,y2:Math.min(l,F),color:k})}let H=l+.5;for(let C=m-g;C<m;C++){const R=h(C);H-=R,O.push({x1:I,y1:H,x2:E,y2:H,color:w})}if(y!==!0){let C=u+.5,R=n;const D=H;for(;C+o<D;){const S=C+o;if(S>=x&&S<=F-1){const Q=p?.(R);O.push({x1:I,y1:S,x2:E,y2:S,color:Q?.horizontalBorderColor??Q?.borderColor??w})}C+=h(R),R++}}const T=Ky(O,C=>C.color);for(const C of Object.keys(T)){e.strokeStyle=C;for(const R of T[C])e.moveTo(R.x1,R.y1),e.lineTo(R.x2,R.y2);e.stroke(),e.beginPath()}s!==void 0&&e.restore()}function Sg(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b,y,w){const k=[];e.imageSmoothingEnabled=!1;const I=Math.min(o.cellYOffset,l),E=Math.max(o.cellYOffset,l);let x=0;if(typeof y=="number")x+=(E-I)*y;else for(let D=I;D<E;D++)x+=y(D);l>o.cellYOffset&&(x=-x),x+=s-o.translateY;const F=Math.min(o.cellXOffset,i),O=Math.max(o.cellXOffset,i);let M=0;for(let D=F;D<O;D++)M+=m[D].width;i>o.cellXOffset&&(M=-M),M+=a-o.translateX;const H=oo(b);if(M!==0&&x!==0)return{regions:[]};const T=c>0?Ar(p,c,y):0,C=u-H-Math.abs(M),R=h-f-T-Math.abs(x)-1;if(C>150&&R>150){const D={sx:0,sy:0,sw:u*g,sh:h*g,dx:0,dy:0,dw:u*g,dh:h*g};if(x>0?(D.sy=(f+1)*g,D.sh=R*g,D.dy=(x+f+1)*g,D.dh=R*g,k.push({x:0,y:f,width:u,height:x+1})):x<0&&(D.sy=(-x+f+1)*g,D.sh=R*g,D.dy=(f+1)*g,D.dh=R*g,k.push({x:0,y:h+x-T,width:u,height:-x+T})),M>0?(D.sx=H*g,D.sw=C*g,D.dx=(M+H)*g,D.dw=C*g,k.push({x:H-1,y:0,width:M+2,height:h})):M<0&&(D.sx=(H-M)*g,D.sw=C*g,D.dx=H*g,D.dw=C*g,k.push({x:u+M,y:0,width:-M,height:h})),e.setTransform(1,0,0,1,0,0),w){if(H>0&&M!==0&&x===0&&(r===void 0||n?.[1]!==!1)){const S=H*g,Q=h*g;e.drawImage(t,0,0,S,Q,0,0,S,Q)}if(T>0&&M===0&&x!==0&&(r===void 0||n?.[0]!==!1)){const S=(h-T)*g,Q=u*g,$=T*g;e.drawImage(t,0,S,Q,$,0,S,Q,$)}}e.drawImage(t,D.sx,D.sy,D.sw,D.sh,D.dx,D.dy,D.dw,D.dh),e.scale(g,g)}return e.imageSmoothingEnabled=!0,{regions:k}}function Mg(e,t,n,r,o,i,l,a,s,c){const u=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||o!==e.translateY||pr(s,n,r,o,a,(h,p,f,g)=>{if(h.sourceIndex===c){const m=Math.max(p,g)+1;return u.push({x:m,y:0,width:i-m,height:l}),!0}}),u}function Rg(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let r=0;r<e.mappedColumns.length;r++){const o=e.mappedColumns[r],i=t.mappedColumns[r];if(eo(o,i))continue;if(n!==void 0||o.width===i.width)return!1;const{width:l,...a}=o,{width:s,...c}=i;if(!eo(a,c))return!1;n=r}return n===void 0?!0:n}return!0}function cu(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m){const b=g?.filter(F=>F.style!=="no-outline");if(b===void 0||b.length===0)return;const y=oo(a),w=Ar(f,p,h),k=[s,0,a.length,f-p],I=[y,0,t,n-w],E=b.map(F=>{const O=F.range,M=F.style??"dashed";return gg(O,k,t,n,I).map(H=>{const T=H.rect,C=Ua(T.x,T.y,t,n,u,c+u,r,o,i,l,f,s,p,a,h),R=T.width===1&&T.height===1?C:Ua(T.x+T.width-1,T.y+T.height-1,t,n,u,c+u,r,o,i,l,f,s,p,a,h);return T.x+T.width>=a.length&&(R.width-=1),T.y+T.height>=f&&(R.height-=1),{color:F.color,style:M,clip:H.clip,rect:pg({x:C.x,y:C.y,width:R.x+R.width-C.x,height:R.y+R.height-C.y},t,n,8)}})}),x=()=>{e.lineWidth=1;let F=!1;for(const O of E)for(const M of O)if(M?.rect!==void 0&&No(0,0,t,n,M.rect.x,M.rect.y,M.rect.width,M.rect.height)){const H=F,T=!fg(M.clip,M.rect);e.beginPath(),T&&(e.save(),e.rect(M.clip.x,M.clip.y,M.clip.width,M.clip.height),e.clip()),M.style==="dashed"&&!F?(e.setLineDash([5,3]),F=!0):(M.style==="solid"||M.style==="solid-outline")&&F&&(e.setLineDash([]),F=!1),e.strokeStyle=M.style==="solid-outline"?Tn(Tn(M.color,m.borderColor),m.bgCell):Hr(M.color,1),e.closePath(),e.strokeRect(M.rect.x+.5,M.rect.y+.5,M.rect.width-1,M.rect.height-1),T&&(e.restore(),F=H)}F&&e.setLineDash([])};return x(),x}function uu(e,t,n,r,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=o,e.stroke(),e.globalAlpha=1}function il(e,t,n,r,o,i,l,a,s,c,u,h,p,f,g,m,b){if(u.current===void 0)return;const y=u.current.range,w=u.current.cell,k=[y.x+y.width-1,y.y+y.height-1];if(w[1]>=b&&k[1]>=b||!l.some(R=>R.sourceIndex===w[0]||R.sourceIndex===k[0]))return;const[I,E]=u.current.cell,x=p(u.current.cell),F=x.span??[I,I],O=E>=b-f,M=f>0&&!O?Ar(b,f,h)-1:0,H=k[1];let T;if(pr(l,r,o,i,c,(R,D,S,Q,$)=>{if(R.sticky&&I>R.sourceIndex)return;const q=R.sourceIndex<F[0],ie=R.sourceIndex>F[1],ee=R.sourceIndex===k[0];if(!(!ee&&(q||ie)))return Mi($,S,n,b,h,f,g,void 0,(K,se,te)=>{if(se!==E&&se!==H)return;let ue=D,fe=R.width;if(x.span!==void 0){const ae=Jc(x.span,D,K,R.width,te,R,a),z=R.sticky?ae[0]:ae[1];z!==void 0&&(ue=z.x,fe=z.width)}return se===H&&ee&&m&&(T=()=>{Q>ue&&!R.sticky&&(e.beginPath(),e.rect(Q,0,t-Q,n),e.clip()),e.beginPath(),e.rect(ue+fe-4,K+te-4,4,4),e.fillStyle=R.themeOverride?.accentColor??s.accentColor,e.fill()}),T!==void 0}),T!==void 0}),T===void 0)return;const C=()=>{e.save(),e.beginPath(),e.rect(0,c,t,n-c-M),e.clip(),T?.(),e.restore()};return C(),C}function Eg(e,t,n,r,o,i,l,a,s){s===void 0||s.size===0||(e.beginPath(),Qc(t,n,i,r,(c,u,h,p,f,g)=>{s.hasItemInRectangle({x:c[0],y:-2,width:c[1]-c[0]+1,height:1})&&e.rect(h,p,f,g)}),pr(t,a,i,l,o,(c,u,h,p)=>{const f=Math.max(0,p-u),g=u+f+1,m=c.width-f-1;s.has([c.sourceIndex,-1])&&e.rect(g,r,m,o-r)}),e.clip())}function Ig(e,t,n,r,o,i,l,a,s,c){let u=0;return pr(e,i,r,o,n,(h,p,f,g,m)=>(Mi(m,f,t,l,a,s,c,void 0,(b,y,w,k)=>{k||(u=Math.max(y,u))}),!0)),u}function du(e,t){const{canvasCtx:n,headerCanvasCtx:r,width:o,height:i,cellXOffset:l,cellYOffset:a,translateX:s,translateY:c,mappedColumns:u,enableGroups:h,freezeColumns:p,dragAndDropState:f,theme:g,drawFocus:m,headerHeight:b,groupHeaderHeight:y,disabledRows:w,rowHeight:k,verticalBorder:I,overrideCursor:E,isResizing:x,selection:F,fillHandle:O,freezeTrailingRows:M,rows:H,getCellContent:T,getGroupDetails:C,getRowThemeOverride:R,isFocused:D,drawHeaderCallback:S,prelightCells:Q,drawCellCallback:$,highlightRegions:q,resizeCol:ie,imageLoader:ee,lastBlitData:K,hoverValues:se,hyperWrapping:te,hoverInfo:ue,spriteManager:fe,maxScaleFactor:ae,hasAppendRow:z,touchMode:P,enqueue:G,renderStateProvider:le,getCellRenderer:de,renderStrategy:Oe,bufferACtx:ge,bufferBCtx:it,damage:Re,minimumCellWidth:Lt,resizeIndicator:Ye}=e;if(o===0||i===0)return;const Xe=Oe==="double-buffer",ne=Math.min(ae,Math.ceil(window.devicePixelRatio??1)),pe=Oe!=="direct"&&Rg(e,t),Ce=n.canvas;(Ce.width!==o*ne||Ce.height!==i*ne)&&(Ce.width=o*ne,Ce.height=i*ne,Ce.style.width=o+"px",Ce.style.height=i+"px");const ce=r.canvas,xe=h?y+b:b,Ie=xe+1;(ce.width!==o*ne||ce.height!==Ie*ne)&&(ce.width=o*ne,ce.height=Ie*ne,ce.style.width=o+"px",ce.style.height=Ie+"px");const Ae=ge.canvas,et=it.canvas;Xe&&(Ae.width!==o*ne||Ae.height!==i*ne)&&(Ae.width=o*ne,Ae.height=i*ne,K.current!==void 0&&(K.current.aBufferScroll=void 0)),Xe&&(et.width!==o*ne||et.height!==i*ne)&&(et.width=o*ne,et.height=i*ne,K.current!==void 0&&(K.current.bBufferScroll=void 0));const Pe=K.current;if(pe===!0&&l===Pe?.cellXOffset&&a===Pe?.cellYOffset&&s===Pe?.translateX&&c===Pe?.translateY)return;let je=null;Xe&&(je=n);const Ne=r;let Te;Xe?Re!==void 0?Te=Pe?.lastBuffer==="b"?it:ge:Te=Pe?.lastBuffer==="b"?ge:it:Te=n;const Ee=Te.canvas,mt=Xe?Ee===Ae?et:Ae:Ce,pt=typeof k=="number"?()=>k:k;Ne.save(),Te.save(),Ne.beginPath(),Te.beginPath(),Ne.textBaseline="middle",Te.textBaseline="middle",ne!==1&&(Ne.scale(ne,ne),Te.scale(ne,ne));const Ke=Wa(u,l,o,f,s);let Ct=[];const qt=m&&F.current?.cell[1]===a&&c===0;let zt=!1;if(q!==void 0){for(const ct of q)if(ct.style!=="no-outline"&&ct.range.y===a&&c===0){zt=!0;break}}const Mt=()=>{bg(Ne,Ke,h,ue,o,s,b,y,f,x,F,g,fe,se,I,C,Re,S,P),su(Ne,Ke,a,s,c,o,i,void 0,void 0,y,xe,pt,R,I,M,H,g,!0),Ne.beginPath(),Ne.moveTo(0,Ie-.5),Ne.lineTo(o,Ie-.5),Ne.strokeStyle=Tn(g.headerBottomBorderColor??g.horizontalBorderColor??g.borderColor,g.bgHeader),Ne.stroke(),zt&&cu(Ne,o,i,l,a,s,c,u,p,b,y,k,M,H,q,g),qt&&il(Ne,o,i,a,s,c,Ke,u,g,xe,F,pt,T,M,z,O,H)};if(Re!==void 0){const ct=Ke[Ke.length-1].sourceIndex+1,ln=Re.hasItemInRegion([{x:l,y:-2,width:ct,height:2},{x:l,y:a,width:ct,height:300},{x:0,y:a,width:p,height:300},{x:0,y:-2,width:p,height:2},{x:l,y:H-M,width:ct,height:M,when:M>0}]),Wt=Le=>{tu(Le,Ke,u,i,xe,s,c,a,H,pt,T,C,R,w,D,m,M,z,Ct,Re,F,Q,q,ee,fe,se,ue,$,te,g,G,le,de,E,Lt);const Rt=F.current;O&&m&&Rt!==void 0&&Re.has(Oc(Rt.range))&&il(Le,o,i,a,s,c,Ke,u,g,xe,F,pt,T,M,z,O,H)};ln&&(Wt(Te),je!==null&&(je.save(),je.scale(ne,ne),je.textBaseline="middle",Wt(je),je.restore()),Re.hasHeader()&&(Eg(Ne,Ke,o,y,xe,s,c,a,Re),Mt())),Te.restore(),Ne.restore();return}if((pe!==!0||l!==Pe?.cellXOffset||s!==Pe?.translateX||qt!==Pe?.mustDrawFocusOnHeader||zt!==Pe?.mustDrawHighlightRingsOnHeader)&&Mt(),pe===!0){En(mt!==void 0&&Pe!==void 0);const{regions:ct}=Sg(Te,mt,mt===Ae?Pe.aBufferScroll:Pe.bBufferScroll,mt===Ae?Pe.bBufferScroll:Pe.aBufferScroll,Pe,l,a,s,c,M,o,i,H,xe,ne,u,Ke,k,Xe);Ct=ct}else pe!==!1&&(En(Pe!==void 0),Ct=Mg(Pe,l,a,s,c,o,i,xe,Ke,pe));Cg(Te,Ke,o,i,M,H,I,pt,g);const fn=cu(Te,o,i,l,a,s,c,u,p,b,y,k,M,H,q,g),jt=m?il(Te,o,i,a,s,c,Ke,u,g,xe,F,pt,T,M,z,O,H):void 0;if(Te.fillStyle=g.bgCell,Ct.length>0){Te.beginPath();for(const ct of Ct)Te.rect(ct.x,ct.y,ct.width,ct.height);Te.clip(),Te.fill(),Te.beginPath()}else Te.fillRect(0,0,o,i);const on=tu(Te,Ke,u,i,xe,s,c,a,H,pt,T,C,R,w,D,m,M,z,Ct,Re,F,Q,q,ee,fe,se,ue,$,te,g,G,le,de,E,Lt);xg(Te,Ke,u,o,i,xe,s,c,a,H,pt,R,F.rows,w,M,z,Ct,Re,g),kg(Te,Ke,a,s,c,o,i,Ct,xe,pt,R,I,M,H,g),su(Te,Ke,a,s,c,o,i,Ct,on,y,xe,pt,R,I,M,H,g),fn?.(),jt?.(),x&&Ye!=="none"&&pr(Ke,0,s,0,xe,(ct,ln)=>ct.sourceIndex===ie?(uu(Ne,ln+ct.width,0,xe+1,Tn(g.resizeIndicatorColor??g.accentLight,g.bgHeader)),Ye==="full"&&uu(Te,ln+ct.width,xe,i,Tn(g.resizeIndicatorColor??g.accentLight,g.bgCell)),!0):!1),je!==null&&(je.fillStyle=g.bgCell,je.fillRect(0,0,o,i),je.drawImage(Te.canvas,0,0));const Tt=Ig(Ke,i,xe,s,c,a,H,pt,M,z);ee?.setWindow({x:l,y:a,width:Ke.length,height:Tt-a},p,Array.from({length:M},(ct,ln)=>H-1-ln));const wt=Pe!==void 0&&(l!==Pe.cellXOffset||s!==Pe.translateX),an=Pe!==void 0&&(a!==Pe.cellYOffset||c!==Pe.translateY);K.current={cellXOffset:l,cellYOffset:a,translateX:s,translateY:c,mustDrawFocusOnHeader:qt,mustDrawHighlightRingsOnHeader:zt,lastBuffer:Xe?Ee===Ae?"a":"b":void 0,aBufferScroll:Ee===Ae?[wt,an]:Pe?.aBufferScroll,bBufferScroll:Ee===et?[wt,an]:Pe?.bBufferScroll},Te.restore(),Ne.restore()}const Tg=80;function Og(e){const t=e-1;return t*t*t+1}class Dg{callback;constructor(t){this.callback=t}currentHoveredItem=void 0;leavingItems=[];lastAnimationTime;addToLeavingItems=t=>{this.leavingItems.some(n=>Lo(n.item,t.item))||this.leavingItems.push(t)};removeFromLeavingItems=t=>{const n=this.leavingItems.find(r=>Lo(r.item,t));return this.leavingItems=this.leavingItems.filter(r=>r!==n),n?.hoverAmount??0};cleanUpLeavingElements=()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)};shouldStep=()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n};getAnimatingItems=()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:Og(t.hoverAmount)}));step=t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const n=(t-this.lastAnimationTime)/Tg;for(const o of this.leavingItems)o.hoverAmount=Ln(o.hoverAmount-n,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=Ln(this.currentHoveredItem.hoverAmount+n,0,1));const r=this.getAnimatingItems();this.callback(r),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0};setHovered=t=>{if(!Lo(this.currentHoveredItem?.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const n=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:n}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}}}class Pg{fn;val;constructor(t){this.fn=t}get value(){return this.val??(this.val=this.fn())}}function al(e){return new Pg(e)}const Fg=al(()=>window.navigator.userAgent.includes("Firefox")),Ei=al(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Ii=al(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Hg(e){const t=d.useRef([]),n=d.useRef(0),r=d.useRef(e);r.current=e;const o=d.useCallback(()=>{const i=()=>window.requestAnimationFrame(l),l=()=>{const a=t.current.map(Ya);t.current=[],r.current(new Vo(a)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?i:l)},[]);return d.useCallback(i=>{t.current.length===0&&o();const l=Nn(i[0],i[1]);t.current.includes(l)||t.current.push(l)},[o])}const gr="header",zn="group-header",Ti="out-of-bounds";var io;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(io||(io={}));function hu(e,t){return e===t?!0:e?.kind==="out-of-bounds"?e?.kind===t?.kind&&e?.location[0]===t?.location[0]&&e?.location[1]===t?.location[1]&&e?.region[0]===t?.region[0]&&e?.region[1]===t?.region[1]:e?.kind===t?.kind&&e?.location[0]===t?.location[0]&&e?.location[1]===t?.location[1]}const fu=6,Ag=(e,t)=>e.kind===Z.Custom?e.copyData:t?.(e)?.getAccessibilityString(e)??"",Lg=(e,t)=>{const{width:n,height:r,accessibilityHeight:o,columns:i,cellXOffset:l,cellYOffset:a,headerHeight:s,fillHandle:c=!1,groupHeaderHeight:u,rowHeight:h,rows:p,getCellContent:f,getRowThemeOverride:g,onHeaderMenuClick:m,onHeaderIndicatorClick:b,enableGroups:y,isFilling:w,onCanvasFocused:k,onCanvasBlur:I,isFocused:E,selection:x,freezeColumns:F,onContextMenu:O,freezeTrailingRows:M,fixedShadowX:H=!0,fixedShadowY:T=!0,drawFocusRing:C,onMouseDown:R,onMouseUp:D,onMouseMoveRaw:S,onMouseMove:Q,onItemHovered:$,dragAndDropState:q,firstColAccessible:ie,onKeyDown:ee,onKeyUp:K,highlightRegions:se,canvasRef:te,onDragStart:ue,onDragEnd:fe,eventTargetRef:ae,isResizing:z,resizeColumn:P,isDragging:G,isDraggable:le=!1,allowResize:de,disabledRows:Oe,hasAppendRow:ge,getGroupDetails:it,theme:Re,prelightCells:Lt,headerIcons:Ye,verticalBorder:Xe,drawCell:ne,drawHeader:pe,onCellFocused:Ce,onDragOverCell:ce,onDrop:xe,onDragLeave:Ie,imageWindowLoader:Ae,smoothScrollX:et=!1,smoothScrollY:Pe=!1,experimental:je,getCellRenderer:Ne,resizeIndicator:Te="full"}=e,Ee=e.translateX??0,mt=e.translateY??0,pt=Math.max(F,Math.min(i.length-1,l)),Ke=d.useRef(null),Ct=d.useRef(je?.eventTarget??window),qt=Ct.current,zt=Ae,Mt=d.useRef(),[fn,jt]=d.useState(!1),on=d.useRef([]),Tt=d.useRef(),[wt,an]=d.useState(),[ct,ln]=d.useState(),Wt=d.useRef(null),[Le,Rt]=d.useState(),[_t,On]=d.useState(!1),Ut=d.useRef(_t);Ut.current=_t;const pn=d.useMemo(()=>new dg(Ye,()=>{un.current=void 0,Zt.current()}),[Ye]),Dn=y?u+s:s,Jt=d.useRef(-1),en=(je?.enableFirefoxRescaling??!1)&&Fg.value,Ue=(je?.enableSafariRescaling??!1)&&Ei.value;d.useLayoutEffect(()=>{window.devicePixelRatio===1||!en&&!Ue||(Jt.current!==-1&&jt(!0),window.clearTimeout(Jt.current),Jt.current=window.setTimeout(()=>{jt(!1),Jt.current=-1},200))},[a,pt,Ee,mt,en,Ue]);const Ot=lp(i,F),Cn=d.useMemo(()=>H?oo(Ot,q):0,[Ot,q,H]),vt=d.useCallback((V,re,ke)=>{const Me=V.getBoundingClientRect();if(re>=Ot.length||ke>=p)return;const oe=Me.width/n,me=Ua(re,ke,n,r,u,Dn,pt,a,Ee,mt,p,F,M,Ot,h);return oe!==1&&(me.x*=oe,me.y*=oe,me.width*=oe,me.height*=oe),me.x+=Me.x,me.y+=Me.y,me},[n,r,u,Dn,pt,a,Ee,mt,p,F,M,Ot,h]),Ft=d.useCallback((V,re,ke,Me)=>{const oe=V.getBoundingClientRect(),me=oe.width/n,Qe=(re-oe.left)/me,we=(ke-oe.top)/me,Ze=5,dt=Wa(Ot,pt,n,void 0,Ee);let tn=0,gt=0;const It=typeof PointerEvent<"u"&&Me instanceof PointerEvent&&Me.pointerType==="mouse"||typeof MouseEvent<"u"&&Me instanceof MouseEvent,tt=typeof PointerEvent<"u"&&Me instanceof PointerEvent&&Me.pointerType==="touch"||typeof TouchEvent<"u"&&Me instanceof TouchEvent;It&&(tn=Me.button,gt=Me.buttons);const Je=dp(Qe,dt,Ee),Nt=hp(we,r,y,s,u,p,h,a,mt,M),Gt=Me?.shiftKey===!0,jr=Me?.ctrlKey===!0,nn=Me?.metaKey===!0,sn=[Qe<0?-1:n<Qe?1:0,we<Dn?-1:r<we?1:0];let kr;if(Je===-1||we<0||Qe<0||Nt===void 0||Qe>n||we>r){const Dt=Qe>n?1:Qe<0?-1:0,Rn=we>r?1:we<0?-1:0;let Fn=Dt*2,Sr=Rn*2;Dt===0&&(Fn=Je===-1?io.EndPadding:io.Center),Rn===0&&(Sr=Nt===void 0?io.EndPadding:io.Center);let nt=!1;if(Je===-1&&Nt===-1){const Qn=vt(V,Ot.length-1,-1);En(Qn!==void 0),nt=re<Qn.x+Qn.width+Ze}const dn=Qe>n&&Qe<n+La()||we>r&&we<r+La();kr={kind:Ti,location:[Je!==-1?Je:Qe<0?0:Ot.length-1,Nt??p-1],region:[Fn,Sr],shiftKey:Gt,ctrlKey:jr,metaKey:nn,isEdge:nt,isTouch:tt,button:tn,buttons:gt,scrollEdge:sn,isMaybeScrollbar:dn}}else if(Nt<=-1){let Dt=vt(V,Je,Nt);En(Dt!==void 0);let Rn=Dt!==void 0&&Dt.x+Dt.width-re<=Ze;const Fn=Je-1;re-Dt.x<=Ze&&Fn>=0?(Rn=!0,Dt=vt(V,Fn,Nt),En(Dt!==void 0),kr={kind:y&&Nt===-2?zn:gr,location:[Fn,Nt],bounds:Dt,group:Ot[Fn].group??"",isEdge:Rn,shiftKey:Gt,ctrlKey:jr,metaKey:nn,isTouch:tt,localEventX:re-Dt.x,localEventY:ke-Dt.y,button:tn,buttons:gt,scrollEdge:sn}):kr={kind:y&&Nt===-2?zn:gr,group:Ot[Je].group??"",location:[Je,Nt],bounds:Dt,isEdge:Rn,shiftKey:Gt,ctrlKey:jr,metaKey:nn,isTouch:tt,localEventX:re-Dt.x,localEventY:ke-Dt.y,button:tn,buttons:gt,scrollEdge:sn}}else{const Dt=vt(V,Je,Nt);En(Dt!==void 0);const Rn=Dt!==void 0&&Dt.x+Dt.width-re<Ze;let Fn=!1;if(c&&x.current!==void 0){const Sr=Oc(x.current.range),nt=vt(V,Sr[0],Sr[1]);if(nt!==void 0){const dn=nt.x+nt.width-2,Qn=nt.y+nt.height-2;Fn=Math.abs(dn-re)<fu&&Math.abs(Qn-ke)<fu}}kr={kind:"cell",location:[Je,Nt],bounds:Dt,isEdge:Rn,shiftKey:Gt,ctrlKey:jr,isFillHandle:Fn,metaKey:nn,isTouch:tt,localEventX:re-Dt.x,localEventY:ke-Dt.y,button:tn,buttons:gt,scrollEdge:sn}}return kr},[n,Ot,pt,Ee,r,y,s,u,p,h,a,mt,M,vt,c,x,Dn]),[kn]=wt??[],rr=d.useRef(()=>{}),Bn=d.useRef(wt);Bn.current=wt;const[N,Be]=d.useMemo(()=>{const V=document.createElement("canvas"),re=document.createElement("canvas");return V.style.display="none",V.style.opacity="0",V.style.position="fixed",re.style.display="none",re.style.opacity="0",re.style.position="fixed",[V.getContext("2d",{alpha:!1}),re.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>{if(!(N===null||Be===null))return document.documentElement.append(N.canvas),document.documentElement.append(Be.canvas),()=>{N.canvas.remove(),Be.canvas.remove()}},[N,Be]);const Ge=d.useMemo(()=>new xp,[]),yt=en&&fn?1:Ue&&fn?2:5,wn=je?.disableMinimumCellWidth===!0?1:10,un=d.useRef(),ve=d.useRef(null),ut=d.useRef(null),bt=d.useCallback(()=>{const V=Ke.current,re=Wt.current;if(V===null||re===null||(ve.current===null&&(ve.current=V.getContext("2d",{alpha:!1}),V.width=0,V.height=0),ut.current===null&&(ut.current=re.getContext("2d",{alpha:!1}),re.width=0,re.height=0),ve.current===null||ut.current===null||N===null||Be===null))return;let ke=!1;const Me=Qe=>{ke=!0,Rt(Qe)},oe=un.current,me={headerCanvasCtx:ut.current,canvasCtx:ve.current,bufferACtx:N,bufferBCtx:Be,width:n,height:r,cellXOffset:pt,cellYOffset:a,translateX:Math.round(Ee),translateY:Math.round(mt),mappedColumns:Ot,enableGroups:y,freezeColumns:F,dragAndDropState:q,theme:Re,headerHeight:s,groupHeaderHeight:u,disabledRows:Oe??ot.empty(),rowHeight:h,verticalBorder:Xe,isResizing:z,resizeCol:P,isFocused:E,selection:x,fillHandle:c,drawCellCallback:ne,hasAppendRow:ge,overrideCursor:Me,maxScaleFactor:yt,freezeTrailingRows:M,rows:p,drawFocus:C,getCellContent:f,getGroupDetails:it??(Qe=>({name:Qe})),getRowThemeOverride:g,drawHeaderCallback:pe,prelightCells:Lt,highlightRegions:se,imageLoader:zt,lastBlitData:Tt,damage:Mt.current,hoverValues:on.current,hoverInfo:Bn.current,spriteManager:pn,scrolling:fn,hyperWrapping:je?.hyperWrapping??!1,touchMode:_t,enqueue:rr.current,renderStateProvider:Ge,renderStrategy:je?.renderStrategy??(Ei.value?"double-buffer":"single-buffer"),getCellRenderer:Ne,minimumCellWidth:wn,resizeIndicator:Te};me.damage===void 0?(un.current=me,du(me,oe)):du(me,void 0),!ke&&(me.damage===void 0||me.damage.has(Bn?.current?.[0]))&&Rt(void 0)},[N,Be,n,r,pt,a,Ee,mt,Ot,y,F,q,Re,s,u,Oe,h,Xe,z,ge,P,E,x,c,M,p,C,yt,f,it,g,ne,pe,Lt,se,zt,pn,fn,je?.hyperWrapping,je?.renderStrategy,_t,Ge,Ne,wn,Te]),Zt=d.useRef(bt);d.useLayoutEffect(()=>{bt(),Zt.current=bt},[bt]),d.useLayoutEffect(()=>{(async()=>document?.fonts?.ready!==void 0&&(await document.fonts.ready,un.current=void 0,Zt.current()))()},[]);const Xt=d.useCallback(V=>{Mt.current=V,Zt.current(),Mt.current=void 0},[]),or=Hg(Xt);rr.current=or;const Qi=d.useCallback(V=>{Xt(new Vo(V.map(re=>re.cell)))},[Xt]);zt.setCallback(Xt);const[Yl,Ji]=d.useState(!1),[Vr,br]=kn??[],Kl=Vr!==void 0&&br===-1&&i[Vr].headerRowMarkerDisabled!==!0,Jo=Vr!==void 0&&br===-2;let ea=!1,ei=!1,Nr=Le;if(Nr===void 0&&Vr!==void 0&&br!==void 0&&br>-1&&br<p){const V=f([Vr,br],!0);ea=V.kind===An.NewRow||V.kind===An.Marker&&V.markerKind!=="number",ei=V.kind===Z.Boolean&&Ia(V),Nr=V.cursor}const ta=G?"grabbing":(ct??!1)||z?"col-resize":Yl||w?"crosshair":Nr!==void 0?Nr:Kl||ea||ei||Jo?"pointer":"default",so=d.useMemo(()=>({contain:"strict",display:"block",cursor:ta}),[ta]),Wn=d.useRef("default"),Sn=ae?.current;Sn!=null&&Wn.current!==so.cursor&&(Sn.style.cursor=Wn.current=so.cursor);const wr=d.useCallback((V,re,ke,Me)=>{if(it===void 0)return;const oe=it(V);if(oe.actions!==void 0){const me=ru(re,oe.actions);for(const[Qe,we]of me.entries())if(zr(we,ke+re.x,Me+we.y))return oe.actions[Qe]}},[it]),ir=d.useCallback((V,re,ke,Me)=>{const oe=Ot[re];if(!G&&!z&&!(ct??!1)){const me=vt(V,re,-1);En(me!==void 0);const Qe=ou(void 0,oe,me.x,me.y,me.width,me.height,Re,Aa(oe.title)==="rtl");if(oe.hasMenu===!0&&Qe.menuBounds!==void 0&&zr(Qe.menuBounds,ke,Me))return{area:"menu",bounds:Qe.menuBounds};if(oe.indicatorIcon!==void 0&&Qe.indicatorIconBounds!==void 0&&zr(Qe.indicatorIconBounds,ke,Me))return{area:"indicator",bounds:Qe.indicatorIconBounds}}},[Ot,vt,ct,G,z,Re]),co=d.useRef(0),yr=d.useRef(),uo=d.useRef(!1),ti=d.useCallback(V=>{const re=Ke.current,ke=ae?.current;if(re===null||V.target!==re&&V.target!==ke)return;uo.current=!0;const Me=V.clientX,oe=V.clientY;if(V.target===ke&&ke!==null){const Qe=ke.getBoundingClientRect();if(Me>Qe.right||oe>Qe.bottom)return}const me=Ft(re,Me,oe,V);yr.current=me.location,me.isTouch&&(co.current=Date.now()),Ut.current!==me.isTouch&&On(me.isTouch),!(me.kind===gr&&ir(re,me.location[0],Me,oe)!==void 0)&&(me.kind===zn&&wr(me.group,me.bounds,me.localEventX,me.localEventY)!==void 0||(R?.(me),!me.isTouch&&le!==!0&&le!==me.kind&&me.button<3&&me.button!==1&&V.preventDefault()))},[ae,le,Ft,wr,ir,R]);bn("pointerdown",ti,qt,!1);const Br=d.useRef(0),xr=d.useCallback(V=>{const re=Br.current;Br.current=Date.now();const ke=Ke.current;if(uo.current=!1,D===void 0||ke===null)return;const Me=ae?.current,oe=V.target!==ke&&V.target!==Me,me=V.clientX,Qe=V.clientY,we=V.pointerType==="mouse"?V.button<3:!0;let Ze=Ft(ke,me,Qe,V);Ze.isTouch&&co.current!==0&&Date.now()-co.current>500&&(Ze={...Ze,isLongTouch:!0}),re!==0&&Date.now()-re<(Ze.isTouch?1e3:500)&&(Ze={...Ze,isDoubleClick:!0}),Ut.current!==Ze.isTouch&&On(Ze.isTouch),!oe&&V.cancelable&&we&&V.preventDefault();const[dt]=Ze.location,tn=ir(ke,dt,me,Qe);if(Ze.kind===gr&&tn!==void 0){(Ze.button!==0||yr.current?.[0]!==dt||yr.current?.[1]!==-1)&&D(Ze,!0);return}else if(Ze.kind===zn){const gt=wr(Ze.group,Ze.bounds,Ze.localEventX,Ze.localEventY);if(gt!==void 0){Ze.button===0&&gt.onClick(Ze);return}}D(Ze,oe)},[D,ae,Ft,ir,wr]);bn("pointerup",xr,qt,!1);const ho=d.useCallback(V=>{const re=Ke.current;if(re===null)return;const ke=ae?.current,Me=V.target!==re&&V.target!==ke;let oe,me,Qe=!0;V instanceof MouseEvent?(oe=V.clientX,me=V.clientY,Qe=V.button<3):(oe=V.changedTouches[0].clientX,me=V.changedTouches[0].clientY);const we=Ft(re,oe,me,V);Ut.current!==we.isTouch&&On(we.isTouch),!Me&&V.cancelable&&Qe&&V.preventDefault();const[Ze]=we.location;if(we.kind===gr){const dt=ir(re,Ze,oe,me);dt!==void 0&&we.button===0&&yr.current?.[0]===Ze&&yr.current?.[1]===-1&&(dt.area==="menu"?m?.(Ze,dt.bounds):dt.area==="indicator"&&b?.(Ze,dt.bounds))}else if(we.kind===zn){const dt=wr(we.group,we.bounds,we.localEventX,we.localEventY);dt!==void 0&&we.button===0&&dt.onClick(we)}},[ae,Ft,ir,m,b,wr]);bn("click",ho,qt,!1);const ql=d.useCallback(V=>{const re=Ke.current,ke=ae?.current;if(re===null||V.target!==re&&V.target!==ke||O===void 0)return;const Me=Ft(re,V.clientX,V.clientY,V);O(Me,()=>{V.cancelable&&V.preventDefault()})},[ae,Ft,O]);bn("contextmenu",ql,ae?.current??null,!1);const ni=d.useCallback(V=>{Mt.current=new Vo(V.map(re=>re.item)),on.current=V,Zt.current(),Mt.current=void 0},[]),ze=d.useMemo(()=>new Dg(ni),[ni]),ri=d.useRef(ze);ri.current=ze,d.useLayoutEffect(()=>{const V=ri.current;if(kn===void 0||kn[1]<0){V.setHovered(kn);return}const re=f(kn,!0),ke=Ne(re),Me=ke===void 0&&re.kind===Z.Custom||ke?.needsHover!==void 0&&(typeof ke.needsHover=="boolean"?ke.needsHover:ke.needsHover(re));V.setHovered(Me?kn:void 0)},[f,Ne,kn]);const na=d.useRef(),Wr=d.useCallback(V=>{const re=Ke.current;if(re===null)return;const ke=ae?.current,Me=V.target!==re&&V.target!==ke,oe=Ft(re,V.clientX,V.clientY,V);if(oe.kind!=="out-of-bounds"&&Me&&!uo.current&&!oe.isTouch)return;const me=(we,Ze)=>{an(dt=>dt===we||dt?.[0][0]===we?.[0][0]&&dt?.[0][1]===we?.[0][1]&&(dt?.[1][0]===we?.[1][0]&&dt?.[1][1]===we?.[1][1]||!Ze)?dt:we)};if(!hu(oe,na.current))Rt(void 0),$?.(oe),me(oe.kind===Ti?void 0:[oe.location,[oe.localEventX,oe.localEventY]],!0),na.current=oe;else if(oe.kind==="cell"||oe.kind===gr||oe.kind===zn){let we=!1,Ze=!0;if(oe.kind==="cell"){const tn=f(oe.location);Ze=Ne(tn)?.needsHoverPosition??tn.kind===Z.Custom,we=Ze}else we=!0;const dt=[oe.location,[oe.localEventX,oe.localEventY]];me(dt,Ze),Bn.current=dt,we&&Xt(new Vo([oe.location]))}const Qe=oe.location[0]>=(ie?0:1);ln(oe.kind===gr&&oe.isEdge&&Qe&&de===!0),Ji(oe.kind==="cell"&&oe.isFillHandle),S?.(V),Q(oe)},[ae,Ft,ie,de,S,Q,$,f,Ne,Xt]);bn("pointermove",Wr,qt,!0);const Zl=d.useCallback(V=>{const re=Ke.current;if(re===null)return;let ke,Me;x.current!==void 0&&(ke=vt(re,x.current.cell[0],x.current.cell[1]),Me=x.current.cell),ee?.({bounds:ke,stopPropagation:()=>V.stopPropagation(),preventDefault:()=>V.preventDefault(),cancel:()=>{},ctrlKey:V.ctrlKey,metaKey:V.metaKey,shiftKey:V.shiftKey,altKey:V.altKey,key:V.key,keyCode:V.keyCode,rawEvent:V,location:Me})},[ee,x,vt]),qn=d.useCallback(V=>{const re=Ke.current;if(re===null)return;let ke,Me;x.current!==void 0&&(ke=vt(re,x.current.cell[0],x.current.cell[1]),Me=x.current.cell),K?.({bounds:ke,stopPropagation:()=>V.stopPropagation(),preventDefault:()=>V.preventDefault(),cancel:()=>{},ctrlKey:V.ctrlKey,metaKey:V.metaKey,shiftKey:V.shiftKey,altKey:V.altKey,key:V.key,keyCode:V.keyCode,rawEvent:V,location:Me})},[K,x,vt]),oi=d.useCallback(V=>{if(Ke.current=V,te!==void 0&&(te.current=V),je?.eventTarget)Ct.current=je.eventTarget;else if(V===null)Ct.current=window;else{const re=V.getRootNode();re===document&&(Ct.current=window),Ct.current=re}},[te,je?.eventTarget]),ra=d.useCallback(V=>{const re=Ke.current;if(re===null||le===!1||z){V.preventDefault();return}let ke,Me;const oe=Ft(re,V.clientX,V.clientY);if(le!==!0&&oe.kind!==le){V.preventDefault();return}const me=(gt,It)=>{ke=gt,Me=It};let Qe,we,Ze;const dt=(gt,It,tt)=>{Qe=gt,we=It,Ze=tt};let tn=!1;if(ue?.({...oe,setData:me,setDragImage:dt,preventDefault:()=>tn=!0,defaultPrevented:()=>tn}),!tn&&ke!==void 0&&Me!==void 0&&V.dataTransfer!==null)if(V.dataTransfer.setData(ke,Me),V.dataTransfer.effectAllowed="copyLink",Qe!==void 0&&we!==void 0&&Ze!==void 0)V.dataTransfer.setDragImage(Qe,we,Ze);else{const[gt,It]=oe.location;if(It!==void 0){const tt=document.createElement("canvas"),Je=vt(re,gt,It);En(Je!==void 0);const Nt=Math.ceil(window.devicePixelRatio??1);tt.width=Je.width*Nt,tt.height=Je.height*Nt;const Gt=tt.getContext("2d");Gt!==null&&(Gt.scale(Nt,Nt),Gt.textBaseline="middle",It===-1?(Gt.font=Re.headerFontFull,Gt.fillStyle=Re.bgHeader,Gt.fillRect(0,0,tt.width,tt.height),au(Gt,0,0,Je.width,Je.height,Ot[gt],!1,Re,!1,void 0,void 0,!1,0,pn,pe,!1)):(Gt.font=Re.baseFontFull,Gt.fillStyle=Re.bgCell,Gt.fillRect(0,0,tt.width,tt.height),nu(Gt,f([gt,It]),0,It,!1,!1,0,0,Je.width,Je.height,!1,Re,Re.bgCell,zt,pn,1,void 0,!1,0,void 0,void 0,void 0,Ge,Ne,()=>{}))),tt.style.left="-100%",tt.style.position="absolute",tt.style.width=`${Je.width}px`,tt.style.height=`${Je.height}px`,document.body.append(tt),V.dataTransfer.setDragImage(tt,Je.width/2,Je.height/2),window.setTimeout(()=>{tt.remove()},0)}}else V.preventDefault()},[le,z,Ft,ue,vt,Re,Ot,pn,pe,f,zt,Ge,Ne]);bn("dragstart",ra,ae?.current??null,!1,!1);const fo=d.useRef(),Ql=d.useCallback(V=>{const re=Ke.current;if(xe!==void 0&&V.preventDefault(),re===null||ce===void 0)return;const ke=Ft(re,V.clientX,V.clientY),[Me,oe]=ke.location,me=Me-(ie?0:1),[Qe,we]=fo.current??[];(Qe!==me||we!==oe)&&(fo.current=[me,oe],ce([me,oe],V.dataTransfer))},[ie,Ft,ce,xe]);bn("dragover",Ql,ae?.current??null,!1,!1);const Jl=d.useCallback(()=>{fo.current=void 0,fe?.()},[fe]);bn("dragend",Jl,ae?.current??null,!1,!1);const Zn=d.useCallback(V=>{const re=Ke.current;if(re===null||xe===void 0)return;V.preventDefault();const ke=Ft(re,V.clientX,V.clientY),[Me,oe]=ke.location,me=Me-(ie?0:1);xe([me,oe],V.dataTransfer)},[ie,Ft,xe]);bn("drop",Zn,ae?.current??null,!1,!1);const Cr=d.useCallback(()=>{Ie?.()},[Ie]);bn("dragleave",Cr,ae?.current??null,!1,!1);const Pn=d.useRef(x);Pn.current=x;const W=d.useRef(null),Vt=d.useCallback(V=>{Ke.current===null||!Ke.current.contains(document.activeElement)||(V===null&&Pn.current.current!==void 0?te?.current?.focus({preventScroll:!0}):V!==null&&V.focus({preventScroll:!0}),W.current=V)},[te]);d.useImperativeHandle(t,()=>({focus:()=>{const V=W.current;V===null||!document.contains(V)?te?.current?.focus({preventScroll:!0}):V.focus({preventScroll:!0})},getBounds:(V,re)=>{if(!(te===void 0||te.current===null))return vt(te.current,V??0,re??-1)},damage:Qi,getMouseArgsForPosition:(V,re,ke)=>{if(!(te===void 0||te.current===null))return Ft(te.current,V,re,ke)}}),[te,Qi,vt]);const ar=d.useRef(),es=Rf(()=>{if(n<50||je?.disableAccessibilityTree===!0)return null;let V=Wa(Ot,pt,n,q,Ee);const re=ie?0:-1;!ie&&V[0]?.sourceIndex===0&&(V=V.slice(1));const[ke,Me]=x.current?.cell??[],oe=x.current?.range,me=V.map(we=>we.sourceIndex),Qe=Ir(a,Math.min(p,a+o));return ke!==void 0&&Me!==void 0&&!(me.includes(ke)&&Qe.includes(Me))&&Vt(null),d.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":p+1,"aria-multiselectable":"true","aria-colcount":Ot.length+re},d.createElement("thead",{role:"rowgroup"},d.createElement("tr",{role:"row","aria-rowindex":1},V.map(we=>d.createElement("th",{role:"columnheader","aria-selected":x.columns.hasIndex(we.sourceIndex),"aria-colindex":we.sourceIndex+1+re,tabIndex:-1,onFocus:Ze=>{if(Ze.target!==W.current)return Ce?.([we.sourceIndex,-1])},key:we.sourceIndex},we.title)))),d.createElement("tbody",{role:"rowgroup"},Qe.map(we=>d.createElement("tr",{role:"row","aria-selected":x.rows.hasIndex(we),key:we,"aria-rowindex":we+2},V.map(Ze=>{const dt=Ze.sourceIndex,tn=Nn(dt,we),gt=ke===dt&&Me===we,It=oe!==void 0&&dt>=oe.x&&dt<oe.x+oe.width&&we>=oe.y&&we<oe.y+oe.height,tt=`glide-cell-${dt}-${we}`,Je=[dt,we],Nt=f(Je,!0);return d.createElement("td",{key:tn,role:"gridcell","aria-colindex":dt+1+re,"aria-selected":It,"aria-readonly":Tr(Nt)||!to(Nt),id:tt,"data-testid":tt,onClick:()=>{const Gt=te?.current;if(Gt!=null)return ee?.({bounds:vt(Gt,dt,we),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Je})},onFocusCapture:Gt=>{if(!(Gt.target===W.current||ar.current?.[0]===dt&&ar.current?.[1]===we))return ar.current=Je,Ce?.(Je)},ref:gt?Vt:void 0,tabIndex:-1},Ag(Nt,Ne))})))))},[n,Ot,pt,q,Ee,p,a,o,x,Vt,f,te,ee,vt,Ce],200),$r=F===0||!H?0:pt>F?1:Ln(-Ee/100,0,1),ts=-a*32+mt,po=T?Ln(-ts/100,0,1):0,Y=d.useMemo(()=>{if(!$r&&!po)return null;const V={position:"absolute",top:0,left:Cn,width:n-Cn,height:r,opacity:$r,pointerEvents:"none",transition:et?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},re={position:"absolute",top:Dn,left:0,width:n,height:r,opacity:po,pointerEvents:"none",transition:Pe?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return d.createElement(d.Fragment,null,$r>0&&d.createElement("div",{id:"shadow-x",style:V}),po>0&&d.createElement("div",{id:"shadow-y",style:re}))},[$r,po,Cn,n,et,Dn,r,Pe]),Mn=d.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return d.createElement(d.Fragment,null,d.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:Zl,onKeyUp:qn,onFocus:k,onBlur:I,ref:oi,style:so},es),d.createElement("canvas",{ref:Wt,style:Mn}),Y)},zg=d.memo(d.forwardRef(Lg));function jo(e,t,n,r){return Ln(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(r))}const _g=e=>{const[t,n]=d.useState(),[r,o]=d.useState(),[i,l]=d.useState(),[a,s]=d.useState(),[c,u]=d.useState(!1),[h,p]=d.useState(),[f,g]=d.useState(),[m,b]=d.useState(),[y,w]=d.useState(!1),[k,I]=d.useState(),{onHeaderMenuClick:E,onHeaderIndicatorClick:x,getCellContent:F,onColumnMoved:O,onColumnResize:M,onColumnResizeStart:H,onColumnResizeEnd:T,gridRef:C,maxColumnWidth:R,minColumnWidth:D,onRowMoved:S,lockColumns:Q,onColumnProposeMove:$,onMouseDown:q,onMouseUp:ie,onItemHovered:ee,onDragStart:K,canvasRef:se}=e,te=(M??T??H)!==void 0,{columns:ue,selection:fe}=e,ae=fe.columns,z=d.useCallback(ne=>{const[pe,Ce]=ne.location;i!==void 0&&a!==pe&&pe>=Q?(u(!0),s(pe)):f!==void 0&&Ce!==void 0?(w(!0),b(Math.max(0,Ce))):r===void 0&&!c&&!y&&ee?.(ne)},[i,f,a,ee,Q,r,c,y]),P=O!==void 0,G=d.useCallback(ne=>{if(ne.button===0){const[pe,Ce]=ne.location;if(ne.kind==="out-of-bounds"&&ne.isEdge&&te){const ce=C?.current?.getBounds(ue.length-1,-1);ce!==void 0&&(n(ce.x),o(ue.length-1))}else if(ne.kind==="header"&&pe>=Q){const ce=se?.current;if(ne.isEdge&&te&&ce){n(ne.bounds.x),o(pe);const xe=ce.getBoundingClientRect().width/ce.offsetWidth,Ie=ne.bounds.width/xe;H?.(ue[pe],Ie,pe,Ie+(ue[pe].growOffset??0))}else ne.kind==="header"&&P&&(p(ne.bounds.x),l(pe))}else ne.kind==="cell"&&Q>0&&pe===0&&Ce!==void 0&&S!==void 0&&(I(ne.bounds.y),g(Ce))}q?.(ne)},[q,te,Q,S,C,ue,P,H,se]),le=d.useCallback((ne,pe)=>{c||y||E?.(ne,pe)},[c,y,E]),de=d.useCallback((ne,pe)=>{c||y||x?.(ne,pe)},[c,y,x]),Oe=d.useRef(-1),ge=d.useCallback(()=>{Oe.current=-1,g(void 0),b(void 0),I(void 0),w(!1),l(void 0),s(void 0),p(void 0),u(!1),o(void 0),n(void 0)},[]),it=d.useCallback((ne,pe)=>{if(ne.button===0){if(r!==void 0){if(ae?.hasIndex(r)===!0)for(const ce of ae){if(ce===r)continue;const xe=ue[ce],Ie=jo(xe,Oe.current,D,R);M?.(xe,Ie,ce,Ie+(xe.growOffset??0))}const Ce=jo(ue[r],Oe.current,D,R);if(T?.(ue[r],Ce,r,Ce+(ue[r].growOffset??0)),ae.hasIndex(r))for(const ce of ae){if(ce===r)continue;const xe=ue[ce],Ie=jo(xe,Oe.current,D,R);T?.(xe,Ie,ce,Ie+(xe.growOffset??0))}}ge(),i!==void 0&&a!==void 0&&$?.(i,a)!==!1&&O?.(i,a),f!==void 0&&m!==void 0&&S?.(f,m)}ie?.(ne,pe)},[ie,r,i,a,f,m,ae,T,ue,D,R,M,O,S,ge,$]),Re=d.useMemo(()=>{if(!(i===void 0||a===void 0)&&i!==a&&$?.(i,a)!==!1)return{src:i,dest:a}},[i,a,$]),Lt=d.useCallback(ne=>{const pe=se?.current;if(i!==void 0&&h!==void 0)Math.abs(ne.clientX-h)>20&&u(!0);else if(f!==void 0&&k!==void 0)Math.abs(ne.clientY-k)>20&&w(!0);else if(r!==void 0&&t!==void 0&&pe){const Ce=pe.getBoundingClientRect().width/pe.offsetWidth,ce=(ne.clientX-t)/Ce,xe=ue[r],Ie=jo(xe,ce,D,R);if(M?.(xe,Ie,r,Ie+(xe.growOffset??0)),Oe.current=ce,ae?.first()===r)for(const Ae of ae){if(Ae===r)continue;const et=ue[Ae],Pe=jo(et,Oe.current,D,R);M?.(et,Pe,Ae,Pe+(et.growOffset??0))}}},[i,h,f,k,r,t,ue,D,R,M,ae,se]),Ye=d.useCallback((ne,pe)=>{if(f===void 0||m===void 0)return F(ne,pe);let[Ce,ce]=ne;return ce===m?ce=f:(ce>m&&(ce-=1),ce>=f&&(ce+=1)),F([Ce,ce],pe)},[f,m,F]),Xe=d.useCallback(ne=>{K?.(ne),ne.defaultPrevented()||ge()},[ge,K]);return d.createElement(zg,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,resizeIndicator:e.resizeIndicator,verticalBorder:e.verticalBorder,width:e.width,getCellContent:Ye,isResizing:r!==void 0,onHeaderMenuClick:le,onHeaderIndicatorClick:de,isDragging:c,onItemHovered:z,onDragStart:Xe,onMouseDown:G,allowResize:te,onMouseUp:it,dragAndDropState:Re,onMouseMoveRaw:Lt,ref:C})};function Vg(e){const t=d.useRef(null),[n,r]=d.useState({width:e?.[0],height:e?.[1]});return d.useLayoutEffect(()=>{const o=l=>{for(const a of l){const{width:s,height:c}=a&&a.contentRect||{};r(u=>u.width===s&&u.height===c?u:{width:s,height:c})}},i=new window.ResizeObserver(o);return t.current&&i.observe(t.current,void 0),()=>{i.disconnect()}},[t.current]),{ref:t,...n}}const Ng=(e,t,n)=>{const r=d.useRef(null),o=d.useRef(null),i=d.useRef(null),l=d.useRef(0),a=d.useRef(t);a.current=t;const s=n.current;d.useEffect(()=>{const c=()=>{if(o.current===!1&&s!==null){const p=[s.scrollLeft,s.scrollTop];if(i.current?.[0]===p[0]&&i.current?.[1]===p[1])if(l.current>10){i.current=null,o.current=null;return}else l.current++;else l.current=0,a.current(p[0],p[1]),i.current=p;r.current=window.setTimeout(c,8.333333333333334)}},u=()=>{o.current=!0,i.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},h=p=>{p.touches.length===0&&(o.current=!1,l.current=0,r.current=window.setTimeout(c,8.333333333333334))};if(e&&s!==null){const p=s;return p.addEventListener("touchstart",u),p.addEventListener("touchend",h),()=>{p.removeEventListener("touchstart",u),p.removeEventListener("touchend",h),r.current!==null&&window.clearTimeout(r.current)}}},[e,s])},Bg=()=>e=>e.isSafari?"scroll":"auto",Wg=rn("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[Bg()]}}),$g=33554400,jg=5e6;function Ug(e){const[t,n]=d.useState(!1),r=typeof window>"u"?null:window,o=d.useRef(0);return bn("touchstart",d.useCallback(()=>{window.clearTimeout(o.current),n(!0)},[]),r,!0,!1),bn("touchend",d.useCallback(i=>{i.touches.length===0&&(o.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const Xg=e=>{const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:o,update:i,draggable:l,className:a,preventDiagonalScrolling:s=!1,paddingBottom:c=0,paddingRight:u=0,rightElement:h,rightElementProps:p,kineticScrollPerfHack:f=!1,scrollRef:g,initialSize:m}=e,b=[],y=p?.sticky??!1,w=p?.fill??!1,k=d.useRef(0),I=d.useRef(0),E=d.useRef(null),x=typeof window>"u"?1:window.devicePixelRatio,F=d.useRef(x);d.useEffect(()=>{if(F.current!==x){k.current=0,I.current=0,F.current=x;const fe=E.current;fe!==null&&S.current(fe.scrollLeft,fe.scrollTop)}},[x]);const O=d.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),M=d.useRef(null),H=Ug(200),[T,C]=d.useState(!0),R=d.useRef(0);d.useLayoutEffect(()=>{if(!T||H||O.current.lockDirection===void 0)return;const fe=E.current;if(fe===null)return;const[ae,z]=O.current.lockDirection;ae!==void 0?fe.scrollLeft=ae:z!==void 0&&(fe.scrollTop=z),O.current.lockDirection=void 0},[H,T]);const D=d.useCallback((fe,ae)=>{const z=E.current;if(z===null)return;ae=ae??z.scrollTop,fe=fe??z.scrollLeft;const P=O.current.scrollTop,G=O.current.scrollLeft,le=fe-G,de=ae-P;H&&le!==0&&de!==0&&(Math.abs(le)>3||Math.abs(de)>3)&&s&&O.current.lockDirection===void 0&&(O.current.lockDirection=Math.abs(le)<Math.abs(de)?[G,void 0]:[void 0,P]);const Oe=O.current.lockDirection;fe=Oe?.[0]??fe,ae=Oe?.[1]??ae,O.current.scrollLeft=fe,O.current.scrollTop=ae;const ge=z.clientWidth,it=z.clientHeight,Re=ae,Lt=I.current-Re,Ye=z.scrollHeight-it;I.current=Re;let Xe;if(Ye>0&&r>z.scrollHeight+5)if(Math.abs(Lt)>2e3||Re===0||Re===Ye){const ne=Math.max(0,Math.min(1,Re/Ye)),pe=r-it;Xe=ne*pe,k.current=Xe}else k.current-=Lt,Xe=k.current;else Xe=Re,k.current=Xe;Xe=Math.max(0,Math.min(Xe,r-it)),k.current=Xe,Oe!==void 0&&(window.clearTimeout(R.current),C(!1),R.current=window.setTimeout(()=>C(!0),200)),i({x:fe,y:Xe,width:ge-u,height:it-c,paddingRight:M.current?.clientWidth??0})},[c,u,r,i,s,H]);Ng(f&&Ei.value,D,E);const S=d.useRef(D);S.current=D;const Q=d.useRef(),$=d.useRef(!1);d.useLayoutEffect(()=>{$.current?D():$.current=!0},[D,c,u]);const q=d.useCallback(fe=>{E.current=fe,g!==void 0&&(g.current=fe)},[g]);let ie=0,ee=0;const K=Math.min(r,$g);for(b.push(d.createElement("div",{key:ie++,style:{width:o,height:0}}));ee<K;){const fe=Math.min(jg,K-ee);b.push(d.createElement("div",{key:ie++,style:{width:0,height:fe}})),ee+=fe}const{ref:se,width:te,height:ue}=Vg(m);return typeof window<"u"&&(Q.current?.height!==ue||Q.current?.width!==te)&&(window.setTimeout(()=>S.current(),0),Q.current={width:te,height:ue}),(te??0)===0||(ue??0)===0?d.createElement("div",{ref:se}):d.createElement("div",{ref:se},d.createElement(Wg,{isSafari:Ei.value},d.createElement("div",{className:"dvn-underlay"},t),d.createElement("div",{ref:q,style:Q.current,draggable:l,onDragStart:fe=>{l||(fe.stopPropagation(),fe.preventDefault())},className:"dvn-scroller "+(a??""),onScroll:()=>D()},d.createElement("div",{className:"dvn-scroll-inner"+(h===void 0?" dvn-hidden":"")},d.createElement("div",{className:"dvn-stack"},b),h!==void 0&&d.createElement(d.Fragment,null,!w&&d.createElement("div",{className:"dvn-spacer"}),d.createElement("div",{ref:M,style:{height:ue,maxHeight:n-Math.ceil(x%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:u,flexGrow:w?1:void 0,right:y?u??0:void 0,pointerEvents:"auto"}},h))))))},Gg=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:o,groupHeaderHeight:i,enableGroups:l,freezeColumns:a,experimental:s,nonGrowWidth:c,clientSize:u,className:h,onVisibleRegionChanged:p,scrollRef:f,preventDiagonalScrolling:g,rightElement:m,rightElementProps:b,overscrollX:y,overscrollY:w,initialSize:k,smoothScrollX:I=!1,smoothScrollY:E=!1,isDraggable:x}=e,{paddingRight:F,paddingBottom:O}=s??{},[M,H]=u,T=d.useRef(),C=d.useRef(),R=d.useRef(),D=d.useRef(),S=c+Math.max(0,y??0);let Q=l?o+i:o;if(typeof r=="number")Q+=n*r;else for(let ee=0;ee<n;ee++)Q+=r(ee);w!==void 0&&(Q+=w);const $=d.useRef(),q=d.useCallback(()=>{if($.current===void 0)return;const ee={...$.current};let K=0,se=ee.x<0?-ee.x:0,te=0,ue=0;ee.x=ee.x<0?0:ee.x;let fe=0;for(let de=0;de<a;de++)fe+=t[de].width;for(const de of t){const Oe=K-fe;if(ee.x>=Oe+de.width)K+=de.width,ue++,te++;else if(ee.x>Oe)K+=de.width,I?se+=Oe-ee.x:ue++,te++;else if(ee.x+ee.width>Oe)K+=de.width,te++;else break}let ae=0,z=0,P=0;if(typeof r=="number")E?(z=Math.floor(ee.y/r),ae=z*r-ee.y):z=Math.ceil(ee.y/r),P=Math.ceil(ee.height/r)+z,ae<0&&P++;else{let de=0;for(let Oe=0;Oe<n;Oe++){const ge=r(Oe),it=de+(E?0:ge/2);if(ee.y>=de+ge)de+=ge,z++,P++;else if(ee.y>it)de+=ge,E?ae+=it-ee.y:z++,P++;else if(ee.y+ee.height>ge/2+de)de+=ge,P++;else break}}z=Math.max(0,Math.min(z,n-1)),P=Math.max(z,Math.min(P,n));const G={x:ue,y:z,width:te-ue,height:P-z},le=T.current;(le===void 0||le.y!==G.y||le.x!==G.x||le.height!==G.height||le.width!==G.width||C.current!==se||R.current!==ae||ee.width!==D.current?.[0]||ee.height!==D.current?.[1])&&(p?.({x:ue,y:z,width:te-ue,height:P-z},ee.width,ee.height,ee.paddingRight??0,se,ae),T.current=G,C.current=se,R.current=ae,D.current=[ee.width,ee.height])},[t,r,n,p,a,I,E]),ie=d.useCallback(ee=>{$.current=ee,q()},[q]);return d.useEffect(()=>{q()},[q]),d.createElement(Xg,{scrollRef:f,className:h,kineticScrollPerfHack:s?.kineticScrollPerfHack,preventDiagonalScrolling:g,draggable:x===!0||typeof x=="string",scrollWidth:S+(F??0),scrollHeight:Q+(O??0),clientHeight:H,rightElement:m,paddingBottom:O,paddingRight:F,rightElementProps:b,update:ie,initialSize:k},d.createElement(_g,{eventTargetRef:f,width:M,height:H,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}))},Yg=rn("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),Kg=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),qg=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),Zg=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),Qg=10,Jg=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:o,searchInputRef:i,searchValue:l,searchResults:a,onSearchValueChange:s,getCellsForSelection:c,onSearchResultsChanged:u,showSearch:h=!1,onSearchClose:p}=e,[f]=d.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[g,m]=d.useState(""),b=l??g,y=d.useCallback(K=>{m(K),s?.(K)},[s]),[w,k]=d.useState(),I=d.useRef(w);I.current=w,d.useEffect(()=>{a!==void 0&&(a.length>0?k(K=>({rowsSearched:r,results:a.length,selectedIndex:K?.selectedIndex??-1})):k(void 0))},[r,a]);const E=d.useRef();E.current===void 0&&(E.current=new AbortController);const x=d.useRef(),[F,O]=d.useState([]),M=a??F,H=d.useCallback(()=>{x.current!==void 0&&(window.cancelAnimationFrame(x.current),x.current=void 0,E.current.abort())},[]),T=d.useRef(n);T.current=n;const C=d.useCallback(K=>{const se=new RegExp(K.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let te=T.current,ue=Math.min(10,r),fe=0;k(void 0),O([]);const ae=[],z=async()=>{if(c===void 0)return;const P=performance.now(),G=r-fe;let le=c({x:0,y:te,width:o.length,height:Math.min(ue,G,r-te)},E.current.signal);typeof le=="function"&&(le=await le());let de=!1;for(const[Ye,Xe]of le.entries())for(const[ne,pe]of Xe.entries()){let Ce;switch(pe.kind){case Z.Text:case Z.Number:Ce=pe.displayData;break;case Z.Uri:case Z.Markdown:Ce=pe.data;break;case Z.Boolean:Ce=typeof pe.data=="boolean"?pe.data.toString():void 0;break;case Z.Image:case Z.Bubble:Ce=pe.data.join("\u{1F433}");break;case Z.Custom:Ce=pe.copyData;break}Ce!==void 0&&se.test(Ce)&&(ae.push([ne,Ye+te]),de=!0)}const Oe=performance.now();de&&O([...ae]),fe+=le.length,En(fe<=r);const ge=I.current?.selectedIndex??-1;k({results:ae.length,rowsSearched:fe,selectedIndex:ge}),u?.(ae,ge),te+ue>=r?te=0:te+=ue;const it=Oe-P,Re=Math.max(it,1),Lt=Qg/Re;ue=Math.ceil(ue*Lt),fe<r&&ae.length<1e3&&(x.current=window.requestAnimationFrame(z))};H(),x.current=window.requestAnimationFrame(z)},[H,o.length,c,u,r]),R=d.useCallback(()=>{p?.(),k(void 0),O([]),u?.([],-1),H(),t?.current?.focus()},[H,t,p,u]),D=d.useCallback(K=>{y(K.target.value),a===void 0&&(K.target.value===""?(k(void 0),O([]),H()):C(K.target.value))},[C,H,y,a]);d.useEffect(()=>{h&&i.current!==null&&(y(""),i.current.focus({preventScroll:!0}))},[h,i,y]);const S=d.useCallback(K=>{if(K?.stopPropagation?.(),w===void 0)return;const se=(w.selectedIndex+1)%w.results;k({...w,selectedIndex:se}),u?.(M,se)},[w,u,M]),Q=d.useCallback(K=>{if(K?.stopPropagation?.(),w===void 0)return;let se=(w.selectedIndex-1)%w.results;se<0&&(se+=w.results),k({...w,selectedIndex:se}),u?.(M,se)},[u,M,w]),$=d.useCallback(K=>{(K.ctrlKey||K.metaKey)&&K.nativeEvent.code==="KeyF"||K.key==="Escape"?(R(),K.stopPropagation(),K.preventDefault()):K.key==="Enter"&&(K.shiftKey?Q():S())},[R,S,Q]);d.useEffect(()=>()=>{H()},[H]);const[q,ie]=d.useState(!1);d.useEffect(()=>{if(h)ie(!0);else{const K=setTimeout(()=>ie(!1),150);return()=>clearTimeout(K)}},[h]);const ee=d.useMemo(()=>{if(!h&&!q)return null;let K;w!==void 0&&(K=w.results>=1e3?"over 1000":`${w.results} result${w.results!==1?"s":""}`,w.selectedIndex>=0&&(K=`${w.selectedIndex+1} of ${K}`));const se=ue=>{ue.stopPropagation()},te={width:`${Math.floor((w?.rowsSearched??0)/r*100)}%`};return d.createElement(Yg,{className:"gdg-search-bar"+(h?"":" out"),onMouseDown:se,onMouseMove:se,onMouseUp:se,onClick:se},d.createElement("div",{className:"gdg-search-bar-inner"},d.createElement("input",{id:f,"aria-hidden":!h,"data-testid":"search-input",ref:i,onChange:D,value:b,tabIndex:h?void 0:-1,onKeyDownCapture:$}),d.createElement("button",{type:"button","aria-label":"Previous Result","aria-hidden":!h,tabIndex:h?void 0:-1,onClick:Q,disabled:(w?.results??0)===0},Kg),d.createElement("button",{type:"button","aria-label":"Next Result","aria-hidden":!h,tabIndex:h?void 0:-1,onClick:S,disabled:(w?.results??0)===0},qg),p!==void 0&&d.createElement("button",{type:"button","aria-label":"Close Search","aria-hidden":!h,"data-testid":"search-close-button",tabIndex:h?void 0:-1,onClick:R},Zg)),w!==void 0?d.createElement(d.Fragment,null,d.createElement("div",{className:"gdg-search-status"},d.createElement("div",{"data-testid":"search-result-area"},K)),d.createElement("div",{className:"gdg-search-progress",style:te})):d.createElement("div",{className:"gdg-search-status"},d.createElement("label",{htmlFor:f},"Type to search")))},[h,q,w,r,f,i,D,b,$,Q,S,p,R]);return d.createElement(d.Fragment,null,d.createElement(Gg,{prelightCells:M,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),ee)};ks=class extends d.PureComponent{wrapperRef=d.createRef();componentDidMount(){const e=this.props.customEventTarget??document;e.addEventListener("pointerdown",this.clickOutside,!0),e.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){const e=this.props.customEventTarget??document;e.removeEventListener("pointerdown",this.clickOutside,!0),e.removeEventListener("contextmenu",this.clickOutside,!0)}clickOutside=e=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(e))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(e.target)){let t=e.target;for(;t!==null;){if(t.classList.contains("click-outside-ignore"))return;t=t.parentElement}this.props.onClickOutside()}};render(){const{onClickOutside:e,isOutsideClick:t,customEventTarget:n,...r}=this.props;return d.createElement("div",{...r,ref:this.wrapperRef},this.props.children)}};const em=()=>e=>Math.max(16,e.targetHeight-10),tm=rn("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[em(),"px"]}}),nm=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:o,onFinish:i}=e,[l,a]=Bt.useState(n);return Bt.createElement(ks,{style:{position:"absolute",left:t.x-o.left+1,top:t.y-o.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},Bt.createElement(tm,{targetHeight:t.height,"data-testid":"group-rename-input",value:l,onBlur:r,onFocus:s=>s.target.setSelectionRange(0,l.length),onChange:s=>a(s.target.value),onKeyDown:s=>{s.key==="Enter"?i(l):s.key==="Escape"&&r()},autoFocus:!0}))};function rm(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function at(e,t,n){const r=pu(e,t);return r&&(n.didMatch=!0),r}function pu(e,t){if(e.length===0)return!1;if(e.includes("|")){const s=e.split("|");for(const c of s)if(pu(c,t))return!0;return!1}let n=!1,r=!1,o=!1,i=!1;const l=e.split("+"),a=l.pop();if(!rm(a,t))return!1;if(l[0]==="any")return!0;for(const s of l)switch(s){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":o=!0;break;case"meta":i=!0;break;case"primary":Ii.value?i=!0:n=!0;break}return t.altKey===o&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===i}function om(e,t,n,r,o,i,l){const a=Bt.useCallback((u,h,p,f)=>{(i==="cell"||i==="multi-cell")&&u!==void 0&&(u={...u,range:{x:u.cell[0],y:u.cell[1],width:1,height:1}}),!l&&u!==void 0&&u.range.width>1&&(u={...u,range:{...u.range,width:1,x:u.cell[0]}});const g=n==="mixed"&&(p||f==="drag"),m=r==="mixed"&&g,b=o==="mixed"&&g;let y={current:u===void 0?void 0:{...u,rangeStack:f==="drag"?e.current?.rangeStack??[]:[]},columns:m?e.columns:ot.empty(),rows:b?e.rows:ot.empty()};p&&(i==="multi-rect"||i==="multi-cell")&&y.current!==void 0&&e.current!==void 0&&(y={...y,current:{...y.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(y,h)},[r,e,n,i,l,o,t]),s=Bt.useCallback((u,h,p)=>{u=u??e.rows,h!==void 0&&(u=u.add(h));let f;if(o==="exclusive"&&u.length>0)f={current:void 0,columns:ot.empty(),rows:u};else{const g=p&&n==="mixed",m=p&&r==="mixed";f={current:g?e.current:void 0,columns:m?e.columns:ot.empty(),rows:u}}t(f,!1)},[r,e,n,o,t]),c=Bt.useCallback((u,h,p)=>{u=u??e.columns,h!==void 0&&(u=u.add(h));let f;if(r==="exclusive"&&u.length>0)f={current:void 0,rows:ot.empty(),columns:u};else{const g=p&&n==="mixed",m=p&&o==="mixed";f={current:g?e.current:void 0,rows:m?e.rows:ot.empty(),columns:u}}t(f,!1)},[r,e,n,o,t]);return[a,s,c]}function im(e,t,n,r,o){const i=d.useCallback(s=>{if(e===!0){const c=[];for(let u=s.y;u<s.y+s.height;u++){const h=[];for(let p=s.x;p<s.x+s.width;p++)p<0||u>=o?h.push({kind:Z.Loading,allowOverlay:!1}):h.push(t([p,u]));c.push(h)}return c}return e?.(s,r.signal)??[]},[r.signal,t,e,o]),l=e!==void 0?i:void 0,a=d.useCallback(s=>{if(l===void 0)return[];const c={...s,x:s.x-n};if(c.x<0){c.x=0,c.width--;const u=l(c,r.signal);return typeof u=="function"?async()=>(await u()).map(h=>[{kind:Z.Loading,allowOverlay:!1},...h]):u.map(h=>[{kind:Z.Loading,allowOverlay:!1},...h])}return l(c,r.signal)},[r.signal,l,n]);return[e!==void 0?a:void 0,l]}function am(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string",doNotEscape:!0};switch(e.kind){case Z.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Ea?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case Z.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case Z.Image:case Z.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case Z.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case Z.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case Z.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case Z.Markdown:case Z.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case Z.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case Z.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case Z.Protected:return{formatted:"************",rawValue:"",format:"string"};default:Ro()}}function lm(e,t){return e.map((n,r)=>{const o=t[r];return n.map(i=>i.span!==void 0&&i.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:am(i))})}function gu(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function sm(e){const t=[];for(const n of e){const r=[];for(const o of n)o.format==="url"?r.push(o.rawValue?.toString()??""):o.format==="string-array"?r.push(o.formatted.map(i=>gu(i,!0)).join(",")):r.push(o.doNotEscape===!0?o.formatted:gu(o.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function ll(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function mu(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function cm(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function um(e){const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const n of e){t.push("<tr>");for(const r of n){const o=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${o}><a href="${r.rawValue}">${ll(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${o}><ol>${r.formatted.map((i,l)=>`<li gdg-raw-value=${mu(r.rawValue[l])}>`+ll(i)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${mu(r.rawValue?.toString()??"")} ${o}>${ll(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function dm(e,t){const n=lm(e,t),r=sm(n),o=um(n);return{textPlain:r,textHtml:o}}function vu(e){const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],o=[];let i;for(;r.length>0;){const l=r.pop();if(l===void 0)break;if(l instanceof HTMLTableElement||l.nodeName==="TBODY")r.push(...[...l.children].reverse());else if(l instanceof HTMLTableRowElement)i!==void 0&&o.push(i),i=[],r.push(...[...l.children].reverse());else if(l instanceof HTMLTableCellElement){const a=l.cloneNode(!0),s=a.children.length===1&&a.children[0].nodeName==="P"?a.children[0]:null,c=s?.children.length===1&&s.children[0].nodeName==="FONT",u=a.querySelectorAll("br");for(const f of u)f.replaceWith(`
`);const h=a.getAttribute("gdg-raw-value"),p=a.getAttribute("gdg-format")??"string";if(a.querySelector("a")!==null)i?.push({rawValue:a.querySelector("a")?.getAttribute("href")??"",formatted:a.textContent??"",format:p});else if(a.querySelector("ol")!==null){const f=a.querySelectorAll("li");i?.push({rawValue:[...f].map(g=>g.getAttribute("gdg-raw-value")??""),formatted:[...f].map(g=>g.textContent??""),format:"string-array"})}else if(h!==null)i?.push({rawValue:cm(h),formatted:a.textContent??"",format:p});else{let f=a.textContent??"";c&&(f=f.replace(/\n(?!\n)/g,"")),i?.push({rawValue:f??"",formatted:f??"",format:p})}}}return i!==void 0&&o.push(i),o}function hm(e,t,n,r,o){const i=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let l=!1;do{if(e?.current===void 0)break;const a=e.current?.range,s=[];if(a.width>2){const h=t({x:a.x,y:a.y,width:1,height:a.height},o.signal);if(typeof h=="function")return i;s.push(...h);const p=t({x:a.x+a.width-1,y:a.y,width:1,height:a.height},o.signal);if(typeof p=="function")return i;s.push(...p)}else{const h=t({x:a.x,y:a.y,width:a.width,height:a.height},o.signal);if(typeof h=="function")return i;s.push(...h)}let c=a.x-n,u=a.x+a.width-1-n;for(const h of s)for(const p of h)p.span!==void 0&&(c=Math.min(p.span[0],c),u=Math.max(p.span[1],u));c===a.x-n&&u===a.x+a.width-1-n?l=!0:e={current:{cell:e.current.cell??[0,0],range:{x:c+n,y:a.y,width:u-c+1,height:a.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!l);return e}function bu(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function fm(e){let t;(function(a){a[a.None=0]="None",a[a.inString=1]="inString",a[a.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],o=0,i=t.None;e=e.replace(/\r\n/g,`
`);let l=0;for(const a of e){switch(i){case t.None:a==="	"||a===`
`?(r.push(e.slice(o,l)),o=l+1,a===`
`&&(n.push(r),r=[])):a==='"'&&(i=t.inString);break;case t.inString:a==='"'&&(i=t.inStringPostQuote);break;case t.inStringPostQuote:a==='"'?i=t.inString:((a==="	"||a===`
`)&&(r.push(bu(e.slice(o,l))),o=l+1,a===`
`&&(n.push(r),r=[])),i=t.None);break}l++}return o<e.length&&r.push(bu(e.slice(o,e.length))),n.push(r),n.map(a=>a.map(s=>({rawValue:s,formatted:s,format:"string"})))}function wu(e,t,n){const r=dm(e,t),o=a=>{window.navigator.clipboard?.writeText(a)},i=(a,s)=>window.navigator.clipboard?.write===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([a],{type:"text/plain"}),"text/html":new Blob([s],{type:"text/html"})})]),!0),l=(a,s)=>{try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");n?.clipboardData?.setData("text/plain",a),n?.clipboardData?.setData("text/html",s)}catch{i(a,s)||o(a)}};window.navigator.clipboard?.write!==void 0||n?.clipboardData!==void 0?l(r.textPlain,r.textHtml):o(r.textPlain),n?.preventDefault()}function yu(e){return e!==!0}function xu(e){return typeof e=="string"?e:`${e}px`}const pm=()=>e=>e.innerWidth,gm=()=>e=>e.innerHeight,mm=rn("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[pm()],"wmyidgi-1":[gm()]}}),vm=e=>{const{inWidth:t,inHeight:n,children:r,...o}=e;return d.createElement(mm,{innerHeight:xu(n),innerWidth:xu(t),...o},r)},bm=2,wm=1300;function ym(e,t,n){const r=Bt.useRef(0),[o,i]=e??[0,0];Bt.useEffect(()=>{if(o===0&&i===0){r.current=0;return}let l=!1,a=0;const s=c=>{if(!l){if(a===0)a=c;else{const u=c-a;r.current=Math.min(1,r.current+u/wm);const h=r.current**1.618*u*bm;t.current?.scrollBy(o*h,i*h),a=c,n?.()}window.requestAnimationFrame(s)}};return window.requestAnimationFrame(s),()=>{l=!0}},[t,o,i,n])}function xm({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:o,overscrollY:i,scaleToRem:l,remSize:a}){const[s,c,u,h,p,f]=Bt.useMemo(()=>{if(!l||a===16)return[e,t,n,r,o,i];const g=a/16,m=e,b=Bc();return[typeof m=="number"?m*g:y=>Math.ceil(m(y)*g),Math.ceil(t*g),Math.ceil(n*g),{...r,headerIconSize:(r?.headerIconSize??b.headerIconSize)*g,cellHorizontalPadding:(r?.cellHorizontalPadding??b.cellHorizontalPadding)*g,cellVerticalPadding:(r?.cellVerticalPadding??b.cellVerticalPadding)*g},Math.ceil((o??0)*g),Math.ceil((i??0)*g)]},[n,t,o,i,a,e,l,r]);return{rowHeight:s,headerHeight:c,groupHeaderHeight:u,theme:h,overscrollX:p,overscrollY:f}}const mr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function lt(e,t){return e===!0?t:e===!1?"":e}function Cu(e){const t=Ii.value;return{activateCell:lt(e.activateCell," |Enter|shift+Enter"),clear:lt(e.clear,"any+Escape"),closeOverlay:lt(e.closeOverlay,"any+Escape"),acceptOverlayDown:lt(e.acceptOverlayDown,"Enter"),acceptOverlayUp:lt(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:lt(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:lt(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:lt(e.delete,t?"Backspace|Delete":"Delete"),downFill:lt(e.downFill,"primary+_68"),scrollToSelectedCell:lt(e.scrollToSelectedCell,"primary+Enter"),goDownCell:lt(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:lt(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:lt(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:lt(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:lt(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:lt(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:lt(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:lt(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:lt(e.goToFirstCell,"primary+Home"),goToFirstColumn:lt(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:lt(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:lt(e.goToLastCell,"primary+End"),goToLastColumn:lt(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:lt(e.goToLastRow,"primary+ArrowDown"),goToNextPage:lt(e.goToNextPage,"PageDown"),goToPreviousPage:lt(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:lt(e.rightFill,"primary+_82"),search:lt(e.search,"primary+f"),selectAll:lt(e.selectAll,"primary+a"),selectColumn:lt(e.selectColumn,"ctrl+ "),selectGrowDown:lt(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:lt(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:lt(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:lt(e.selectGrowUp,"shift+ArrowUp"),selectRow:lt(e.selectRow,"shift+ "),selectToFirstCell:lt(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:lt(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:lt(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:lt(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:lt(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:lt(e.selectToLastRow,"primary+shift+ArrowDown")}}function Cm(e){const t=Df(e);return Bt.useMemo(()=>{if(t===void 0)return Cu(mr);const n={...t,goToNextPage:t?.goToNextPage??t?.pageDown??mr.goToNextPage,goToPreviousPage:t?.goToPreviousPage??t?.pageUp??mr.goToPreviousPage,goToFirstCell:t?.goToFirstCell??t?.first??mr.goToFirstCell,goToLastCell:t?.goToLastCell??t?.last??mr.goToLastCell,selectToFirstCell:t?.selectToFirstCell??t?.first??mr.selectToFirstCell,selectToLastCell:t?.selectToLastCell??t?.last??mr.selectToLastCell};return Cu({...mr,...n})},[t])}function km(e){function t(n,r,o){if(typeof n=="number")return{headerIndex:n,isCollapsed:!1,depth:r,path:o};const i={headerIndex:n.headerIndex,isCollapsed:n.isCollapsed,depth:r,path:o};return n.subGroups!==void 0&&(i.subGroups=n.subGroups.map((l,a)=>t(l,r+1,[...o,a])).sort((l,a)=>l.headerIndex-a.headerIndex)),i}return e.map((n,r)=>t(n,0,[r])).sort((n,r)=>n.headerIndex-r.headerIndex)}function sl(e,t){const n=[];function r(a,s,c=!1){let u=s!==null?s-a.headerIndex:t-a.headerIndex;if(a.subGroups!==void 0&&(u=a.subGroups[0].headerIndex-a.headerIndex),u--,n.push({rowIndex:-1,headerIndex:a.headerIndex,contentIndex:-1,skip:c,isCollapsed:a.isCollapsed,depth:a.depth,path:a.path,rows:u}),a.subGroups)for(let h=0;h<a.subGroups.length;h++){const p=h<a.subGroups.length-1?a.subGroups[h+1].headerIndex:s;r(a.subGroups[h],p,c||a.isCollapsed)}}const o=km(e.groups);for(let a=0;a<o.length;a++){const s=a<o.length-1?o[a+1].headerIndex:null;r(o[a],s)}let i=0,l=0;for(const a of n)a.contentIndex=l,l+=a.rows,a.rowIndex=i,i+=a.isCollapsed?1:a.rows+1;return n.filter(a=>a.skip===!1).map(a=>{const{skip:s,...c}=a;return c})}function cl(e,t){if(t===void 0||sl.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let n=e;for(const r of t){if(n===0)return{path:[...r.path,-1],originalIndex:r.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:r.rows};if(r.isCollapsed)n--;else{if(n<=r.rows)return{path:[...r.path,n-1],originalIndex:r.headerIndex+n,isGroupHeader:!1,groupIndex:n-1,contentIndex:r.contentIndex+n-1,groupRows:r.rows};n=n-r.rows-1}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function Sm(e,t,n,r){const o=Bt.useMemo(()=>e===void 0?void 0:sl(e,t),[e,t]),i=Bt.useMemo(()=>o?.reduce((u,h)=>(u[h.rowIndex]=h,u),{}),[o]),l=Bt.useMemo(()=>o===void 0?t:o.reduce((u,h)=>u+(h.isCollapsed?1:h.rows+1),0),[o,t]),a=Bt.useMemo(()=>e===void 0||typeof n=="number"&&e.height===n?n:u=>i?.[u]?e.height:typeof n=="number"?n:n(u),[i,e,n]),s=Bt.useCallback(u=>{if(o===void 0)return u;let h=u;for(const p of o){if(h===0)return;if(h--,!p.isCollapsed){if(h<p.rows)return p.contentIndex+h;h-=p.rows}}return u},[o]),c=ur(r??e?.themeOverride,Bt.useCallback(u=>{if(e===void 0)return r?.(u,u,u);if(r===void 0&&e?.themeOverride===void 0)return;const{isGroupHeader:h,contentIndex:p,groupIndex:f}=cl(u,o);return h?e.themeOverride:r?.(u,f,p)},[o,r,e]));return e===void 0?{rowHeight:a,rows:t,rowNumberMapper:s,getRowThemeOverride:c}:{rowHeight:a,rows:l,rowNumberMapper:s,getRowThemeOverride:c}}function Mm(e,t){const n=Bt.useMemo(()=>e===void 0?void 0:sl(e,t),[e,t]);return{getRowGroupingForPath:Su,updateRowGroupingByPath:ku,mapper:Bt.useCallback(r=>{if(typeof r=="number")return cl(r,n);const o=cl(r[1],n);return{...o,originalIndex:[r[0],o.originalIndex]}},[n])}}function ku(e,t,n){const[r,...o]=t;return o[0]===-1?e.map((i,l)=>l===r?{...i,...n}:i):e.map((i,l)=>l===r?{...i,subGroups:ku(i.subGroups??[],o,n)}:i)}function Su(e,t){const[n,...r]=t;return r[0]===-1?e[n]:Su(e[n].subGroups??[],r)}function Rm(e,t){const[n]=d.useState(()=>({value:e,callback:t,facade:{get current(){return n.value},set current(r){const o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}));return n.callback=t,n.facade}function Em(e,t,n,r,o){const[i,l]=d.useMemo(()=>[t!==void 0&&typeof n=="number"?Math.floor(t/n):0,t!==void 0&&typeof n=="number"?-(t%n):0],[t,n]),a=d.useMemo(()=>({x:r.current.x,y:i,width:r.current.width??1,height:r.current.height??1,ty:l}),[r,l,i]),[s,c,u]=Of(a),h=d.useRef(o);h.current=o;const p=Rm(null,m=>{m!==null&&t!==void 0?m.scrollTop=t:m!==null&&e!==void 0&&(m.scrollLeft=e)}),f=(s.height??1)>1;d.useLayoutEffect(()=>{if(t!==void 0&&p.current!==null&&f){if(p.current.scrollTop===t)return;p.current.scrollTop=t,p.current.scrollTop!==t&&u(),h.current()}},[t,f,u,p]);const g=(s.width??1)>1;return d.useLayoutEffect(()=>{if(e!==void 0&&p.current!==null&&g){if(p.current.scrollLeft===e)return;p.current.scrollLeft=e,p.current.scrollLeft!==e&&u(),h.current()}},[e,g,u,p]),{visibleRegion:s,setVisibleRegion:c,scrollRef:p}}const Im=d.lazy(async()=>await import("./data-grid-overlay-editor-BvzSbPlz.js"));let Tm=0;function Om(e){return Fp(Kc(Kc(e).filter(t=>t.span!==void 0).map(t=>Ir((t.span?.[0]??0)+1,(t.span?.[1]??0)+1))))}function Oi(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const Di={kind:Z.Loading,allowOverlay:!1},Pi={columns:ot.empty(),rows:ot.empty(),current:void 0},Dm=(e,t)=>{const[n,r]=d.useState(Pi),[o,i]=d.useState(),l=d.useRef(null),a=d.useRef(null),[s,c]=d.useState(),u=d.useRef(),h=typeof window>"u"?null:window,{imageEditorOverride:p,getRowThemeOverride:f,markdownDivCreateNode:g,width:m,height:b,columns:y,rows:w,getCellContent:k,onCellClicked:I,onCellActivated:E,onFillPattern:x,onFinishedEditing:F,coercePasteValue:O,drawHeader:M,drawCell:H,editorBloom:T,onHeaderClicked:C,onColumnProposeMove:R,rangeSelectionColumnSpanning:D=!0,spanRangeBehavior:S="default",onGroupHeaderClicked:Q,onCellContextMenu:$,className:q,onHeaderContextMenu:ie,getCellsForSelection:ee,onGroupHeaderContextMenu:K,onGroupHeaderRenamed:se,onCellEdited:te,onCellsEdited:ue,onSearchResultsChanged:fe,searchResults:ae,onSearchValueChange:z,searchValue:P,onKeyDown:G,onKeyUp:le,keybindings:de,editOnType:Oe=!0,onRowAppended:ge,onColumnAppended:it,onColumnMoved:Re,validateCell:Lt,highlightRegions:Ye,rangeSelect:Xe="rect",columnSelect:ne="multi",rowSelect:pe="multi",rangeSelectionBlending:Ce="exclusive",columnSelectionBlending:ce="exclusive",rowSelectionBlending:xe="exclusive",onDelete:Ie,onDragStart:Ae,onMouseMove:et,onPaste:Pe,copyHeaders:je=!1,freezeColumns:Ne=0,cellActivationBehavior:Te="second-click",rowSelectionMode:Ee="auto",onHeaderMenuClick:mt,onHeaderIndicatorClick:pt,getGroupDetails:Ke,rowGrouping:Ct,onSearchClose:qt,onItemHovered:zt,onSelectionCleared:Mt,showSearch:fn,onVisibleRegionChanged:jt,gridSelection:on,onGridSelectionChange:Tt,minColumnWidth:wt=50,maxColumnWidth:an=500,maxColumnAutoWidth:ct,provideEditor:ln,trailingRowOptions:Wt,freezeTrailingRows:Le=0,allowedFillDirections:Rt="orthogonal",scrollOffsetX:_t,scrollOffsetY:On,verticalBorder:Ut,onDragOverCell:pn,onDrop:Dn,onColumnResize:Jt,onColumnResizeEnd:en,onColumnResizeStart:Ue,customRenderers:Ot,fillHandle:Cn,experimental:vt,fixedShadowX:Ft,fixedShadowY:kn,headerIcons:rr,imageWindowLoader:Bn,initialSize:N,isDraggable:Be,onDragLeave:Ge,onRowMoved:yt,overscrollX:wn,overscrollY:un,preventDiagonalScrolling:ve,rightElement:ut,rightElementProps:bt,trapFocus:Zt=!1,smoothScrollX:Xt,smoothScrollY:or,scaleToRem:Qi=!1,rowHeight:Yl=34,headerHeight:Ji=36,groupHeaderHeight:Vr=Ji,theme:br,isOutsideClick:Kl,renderers:Jo,resizeIndicator:ea,scrollToActiveCell:ei=!0,drawFocusRing:Nr=!0,portalElementRef:ta}=e,so=Nr==="no-editor"?o===void 0:Nr,Wn=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,Sn=Wn?.kind??e.rowMarkers??"none",wr=Wn?.width??e.rowMarkerWidth,ir=Wn?.startIndex??e.rowMarkerStartIndex??1,co=Wn?.theme??e.rowMarkerTheme,yr=Wn?.headerTheme,uo=Wn?.headerAlwaysVisible,ti=pe!=="multi"||Wn?.headerDisabled===!0,Br=Wn?.checkboxStyle??"square",xr=Math.max(wt,20),ho=Math.max(an,xr),ql=Math.max(ct??ho,xr),ni=d.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:ze,rowNumberMapper:ri,rowHeight:na,getRowThemeOverride:Wr}=Sm(Ct,w,Yl,f),Zl=d.useMemo(()=>Number.parseFloat(ni.fontSize),[ni]),{rowHeight:qn,headerHeight:oi,groupHeaderHeight:ra,theme:fo,overscrollX:Ql,overscrollY:Jl}=xm({groupHeaderHeight:Vr,headerHeight:Ji,overscrollX:wn,overscrollY:un,remSize:Zl,rowHeight:na,scaleToRem:Qi,theme:br}),Zn=Cm(de),Cr=wr??(w>1e4?48:w>1e3?44:w>100?36:32),Pn=Sn!=="none",W=Pn?1:0,Vt=Wt!==void 0,ar=Wt?.sticky===!0,[es,$r]=d.useState(!1),ts=fn??es,po=d.useCallback(()=>{qt!==void 0?qt():$r(!1)},[qt]),Y=d.useMemo(()=>on===void 0?void 0:Oi(on,W),[on,W])??n,Mn=d.useRef();Mn.current===void 0&&(Mn.current=new AbortController),d.useEffect(()=>()=>Mn?.current.abort(),[]);const[V,re]=im(ee,k,W,Mn.current,ze),ke=d.useCallback((v,A,L)=>{if(Lt===void 0)return!0;const j=[v[0]-W,v[1]];return Lt?.(j,A,L)},[W,Lt]),Me=d.useRef(on),oe=d.useCallback((v,A)=>{A&&(v=hm(v,V,W,S,Mn.current)),Tt!==void 0?(Me.current=Oi(v,-W),Tt(Me.current)):r(v)},[Tt,V,W,S]),me=ur(Jt,d.useCallback((v,A,L,j)=>{Jt?.(y[L-W],A,L-W,j)},[Jt,W,y])),Qe=ur(en,d.useCallback((v,A,L,j)=>{en?.(y[L-W],A,L-W,j)},[en,W,y])),we=ur(Ue,d.useCallback((v,A,L,j)=>{Ue?.(y[L-W],A,L-W,j)},[Ue,W,y])),Ze=ur(M,d.useCallback((v,A)=>M?.({...v,columnIndex:v.columnIndex-W},A)??!1,[M,W])),dt=ur(H,d.useCallback((v,A)=>H?.({...v,col:v.col-W},A)??!1,[H,W])),tn=d.useCallback(v=>{if(Ie!==void 0){const A=Ie(Oi(v,-W));return typeof A=="boolean"?A:Oi(A,W)}return!0},[Ie,W]),[gt,It,tt]=om(Y,oe,Ce,ce,xe,Xe,D),Je=d.useMemo(()=>tr(Bc(),fo),[fo]),[Nt,Gt]=d.useState([0,0,0]),jr=d.useMemo(()=>{if(Jo===void 0)return{};const v={};for(const A of Jo)v[A.kind]=A;return v},[Jo]),nn=d.useCallback(v=>v.kind!==Z.Custom?jr[v.kind]:Ot?.find(A=>A.isMatch(v)),[Ot,jr]);let{sizedColumns:sn,nonGrowWidth:kr}=Sp(y,ze,re,Nt[0]-(W===0?0:Cr)-Nt[2],xr,ql,Je,nn,Mn.current);Sn!=="none"&&(kr+=Cr);const Dt=d.useMemo(()=>sn.some(v=>v.group!==void 0),[sn]),Rn=Dt?oi+ra:oi,Fn=Y.rows.length,Sr=Sn==="none"?void 0:Fn===0?!1:Fn===ze?!0:void 0,nt=d.useMemo(()=>Sn==="none"?sn:[{title:"",width:Cr,icon:void 0,hasMenu:!1,style:"normal",themeOverride:co,rowMarker:Br,rowMarkerChecked:Sr,headerRowMarkerTheme:yr,headerRowMarkerAlwaysVisible:uo,headerRowMarkerDisabled:ti},...sn],[Sn,sn,Cr,co,Br,Sr,yr,uo,ti]),dn=d.useRef({height:1,width:1,x:0,y:0}),Qn=d.useRef(!1),{setVisibleRegion:vh,visibleRegion:Ur,scrollRef:$t}=Em(_t,On,qn,dn,()=>Qn.current=!0);dn.current=Ur;const sy=Ur.x+W,oa=Ur.y,gn=d.useRef(null),yn=d.useCallback(v=>{v===!0?gn.current?.focus():window.requestAnimationFrame(()=>{gn.current?.focus()})},[]),mn=Vt?ze+1:ze,_n=d.useCallback(v=>{const A=W===0?v:v.map(j=>({...j,location:[j.location[0]-W,j.location[1]]})),L=ue?.(A);if(L!==!0)for(const j of A)te?.(j.location,j.value);return L},[te,ue,W]),[Xr,ns]=d.useState(),ia=Y.current!==void 0&&Y.current.range.width*Y.current.range.height>1?Y.current.range:void 0,bh=so?Y.current?.cell:void 0,aa=bh?.[0],la=bh?.[1],cy=d.useMemo(()=>{if((Ye===void 0||Ye.length===0)&&(ia??aa??la??Xr)===void 0)return;const v=[];if(Ye!==void 0)for(const A of Ye){const L=nt.length-A.range.x-W;L>0&&v.push({color:A.color,range:{...A.range,x:A.range.x+W,width:Math.min(L,A.range.width)},style:A.style})}return Xr!==void 0&&v.push({color:Hr(Je.accentColor,0),range:Xr,style:"dashed"}),ia!==void 0&&v.push({color:Hr(Je.accentColor,.5),range:ia,style:"solid-outline"}),aa!==void 0&&la!==void 0&&v.push({color:Je.accentColor,range:{x:aa,y:la,width:1,height:1},style:"solid-outline"}),v.length>0?v:void 0},[Xr,ia,aa,la,Ye,nt.length,Je.accentColor,W]),wh=d.useRef(nt);wh.current=nt;const Hn=d.useCallback(([v,A],L=!1)=>{const j=Vt&&A===mn-1;if(v===0&&Pn){if(j)return Di;const B=ri(A);return B===void 0?Di:{kind:An.Marker,allowOverlay:!1,checkboxStyle:Br,checked:Y?.rows.hasIndex(A)===!0,markerKind:Sn==="clickable-number"?"number":Sn,row:ir+B,drawHandle:yt!==void 0,cursor:Sn==="clickable-number"?"pointer":void 0}}else if(j){const B=v===W?Wt?.hint??"":"",X=wh.current[v];if(X?.trailingRowOptions?.disabled===!0)return Di;{const _=X?.trailingRowOptions?.hint??B,U=X?.trailingRowOptions?.addIcon??Wt?.addIcon;return{kind:An.NewRow,hint:_,allowOverlay:!1,icon:U}}}else{const B=v-W;if(L||vt?.strict===!0){const _=dn.current,U=_.x>B||B>_.x+_.width||_.y>A||A>_.y+_.height||A>=as.current,J=B===_.extras?.selected?.[0]&&A===_.extras?.selected[1];let he=!1;if(_.extras?.freezeRegions!==void 0){for(const Se of _.extras.freezeRegions)if(zr(Se,B,A)){he=!0;break}}if(U&&!J&&!he)return Di}let X=k([B,A]);return W!==0&&X.span!==void 0&&(X={...X,span:[X.span[0]+W,X.span[1]+W]}),X}},[Vt,mn,Pn,ri,Br,Y?.rows,Sn,ir,yt,W,Wt?.hint,Wt?.addIcon,vt?.strict,k]),rs=d.useCallback(v=>{let A=Ke?.(v)??{name:v};return se!==void 0&&v!==""&&(A={icon:A.icon,name:A.name,overrideTheme:A.overrideTheme,actions:[...A.actions??[],{title:"Rename",icon:"renameIcon",onClick:L=>ss({group:A.name,bounds:L.bounds})}]}),A},[Ke,se]),sa=d.useCallback(v=>{const[A,L]=v.cell,j=nt[A],B=j?.group!==void 0?rs(j.group)?.overrideTheme:void 0,X=j?.themeOverride,_=Wr?.(L);i({...v,theme:tr(Je,B,X,_,v.content.themeOverride)})},[Wr,nt,rs,Je]),go=d.useCallback((v,A,L)=>{if(Y.current===void 0)return;const[j,B]=Y.current.cell,X=Hn([j,B]);if(X.kind!==Z.Boolean&&X.allowOverlay){let _=X;if(L!==void 0)switch(_.kind){case Z.Number:{const U=rf(()=>L==="-"?-0:Number.parseFloat(L),0);_={..._,data:Number.isNaN(U)?0:U};break}case Z.Text:case Z.Markdown:case Z.Uri:_={..._,data:L};break}sa({target:v,content:_,initialValue:L,cell:[j,B],highlight:L===void 0,forceEditMode:L!==void 0})}else X.kind===Z.Boolean&&A&&X.readonly!==!0&&(_n([{location:Y.current.cell,value:{...X,data:yu(X.data)}}]),gn.current?.damage([{cell:Y.current.cell}]))},[Hn,Y,_n,sa]),yh=d.useCallback((v,A)=>{const L=gn.current?.getBounds(v,A);if(L===void 0||$t.current===null)return;const j=Hn([v,A]);j.allowOverlay&&sa({target:L,content:j,initialValue:void 0,highlight:!0,cell:[v,A],forceEditMode:!0})},[Hn,$t,sa]),Yt=d.useCallback((v,A,L="both",j=0,B=0,X=void 0)=>{if($t.current!==null){const _=gn.current,U=a.current,J=typeof v!="number"?v.unit==="cell"?v.amount:void 0:v,he=typeof A!="number"?A.unit==="cell"?A.amount:void 0:A,Se=typeof v!="number"&&v.unit==="px"?v.amount:void 0,kt=typeof A!="number"&&A.unit==="px"?A.amount:void 0;if(_!==null&&U!==null){let rt={x:0,y:0,width:0,height:0},qe=0,We=0;if((J!==void 0||he!==void 0)&&(rt=_.getBounds((J??0)+W,he??0)??rt,rt.width===0||rt.height===0))return;const ht=U.getBoundingClientRect(),xt=ht.width/U.offsetWidth;if(Se!==void 0&&(rt={...rt,x:Se-ht.left-$t.current.scrollLeft,width:1}),kt!==void 0&&(rt={...rt,y:kt+ht.top-$t.current.scrollTop,height:1}),rt!==void 0){const Qt={x:rt.x-j,y:rt.y-B,width:rt.width+2*j,height:rt.height+2*B};let xo=0;for(let gs=0;gs<Ne;gs++)xo+=sn[gs].width;let ga=0;const di=Le+(ar?1:0);di>0&&(ga=Ar(mn,di,qn));let er=xo*xt+ht.left+W*Cr*xt,Co=ht.right,qr=ht.top+Rn*xt,ko=ht.bottom-ga*xt;const ma=rt.width+j*2;switch(X?.hAlign){case"start":Co=er+ma;break;case"end":er=Co-ma;break;case"center":er=Math.floor((er+Co)/2)-ma/2,Co=er+ma;break}const va=rt.height+B*2;switch(X?.vAlign){case"start":ko=qr+va;break;case"end":qr=ko-va;break;case"center":qr=Math.floor((qr+ko)/2)-va/2,ko=qr+va;break}er>Qt.x?qe=Qt.x-er:Co<Qt.x+Qt.width&&(qe=Qt.x+Qt.width-Co),qr>Qt.y?We=Qt.y-qr:ko<Qt.y+Qt.height&&(We=Qt.y+Qt.height-ko),L==="vertical"||typeof v=="number"&&v<Ne?qe=0:(L==="horizontal"||typeof A=="number"&&A>=mn-di)&&(We=0),(qe!==0||We!==0)&&(xt!==1&&(qe/=xt,We/=xt),$t.current.scrollTo({left:qe+$t.current.scrollLeft,top:We+$t.current.scrollTop,behavior:X?.behavior??"auto"}))}}}},[W,Le,Cr,$t,Rn,Ne,sn,mn,ar,qn]),os=d.useRef(yh),is=d.useRef(k);os.current=yh,is.current=k;const as=d.useRef(ze);as.current=ze;const xh=d.useRef(nt.length);xh.current=nt.length;const Mr=d.useCallback(async(v,A=!0,L)=>{if(nt[v]?.trailingRowOptions?.disabled===!0)return;const j=ge?.();let B,X=!0;j!==void 0&&(B=await j,B==="top"&&(X=!1),typeof B=="number"&&(X=!1));let _=0;const U=()=>{if(as.current<=ze){_<500&&window.setTimeout(U,_),_=50+_*2;return}const J=typeof B=="number"?B:X?ze:0;pa.current(v-W,J,"both",0,0,L?{behavior:L}:void 0),gt({cell:[v,J],range:{x:v,y:J,width:1,height:1}},!1,!1,"edit");const he=is.current([v-W,J]);he.allowOverlay&&to(he)&&he.readonly!==!0&&A&&window.setTimeout(()=>{os.current(v,J)},0)};U()},[nt,ge,W,ze,gt]),ca=d.useCallback(async(v,A=!0)=>{const L=it?.();let j,B=!0;L!==void 0&&(j=await L,j==="left"&&(B=!1),typeof j=="number"&&(B=!1));let X=0;const _=()=>{if(xh.current<=nt.length){X<500&&window.setTimeout(_,X),X=50+X*2;return}const U=typeof j=="number"?j:B?nt.length:0;Yt(U-W,v),gt({cell:[U,v],range:{x:U,y:v,width:1,height:1}},!1,!1,"edit");const J=is.current([U-W,v]);J.allowOverlay&&to(J)&&J.readonly!==!0&&A&&window.setTimeout(()=>{os.current(U,v)},0)};_()},[nt,it,W,Yt,gt]),mo=d.useCallback(v=>{const A=sn[v]?.trailingRowOptions?.targetColumn??Wt?.targetColumn;if(typeof A=="number")return A+(Pn?1:0);if(typeof A=="object"){const L=y.indexOf(A);if(L>=0)return L+(Pn?1:0)}},[sn,y,Pn,Wt?.targetColumn]),Rr=d.useRef(),vo=d.useRef(),ii=d.useCallback((v,A)=>{const[L,j]=A;return tr(Je,nt[L]?.themeOverride,Wr?.(j),v.themeOverride)},[Wr,nt,Je]),{mapper:Gr}=Mm(Ct,w),$n=Ct?.navigationBehavior,ai=d.useCallback(v=>{const A=Ii.value?v.metaKey:v.ctrlKey,L=A&&pe==="multi",j=A&&ne==="multi",[B,X]=v.location,_=Y.columns,U=Y.rows,[J,he]=Y.current?.cell??[];if(v.kind==="cell"){if(vo.current=void 0,Yr.current=[B,X],B===0&&Pn){if(Vt===!0&&X===ze||Sn==="number"||pe==="none")return;const Se=Hn(v.location);if(Se.kind!==An.Marker)return;if(yt!==void 0){const qe=nn(Se);En(qe?.kind===An.Marker);const We=qe?.onClick?.({...v,cell:Se,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,theme:ii(Se,v.location),preventDefault:()=>{}});if(We===void 0||We.checked===Se.checked)return}i(void 0),yn();const kt=U.hasIndex(X),rt=Rr.current;if(pe==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&rt!==void 0&&U.hasIndex(rt)){const qe=[Math.min(rt,X),Math.max(rt,X)+1];L||Ee==="multi"?It(void 0,qe,!0):It(ot.fromSingleSelection(qe),void 0,L)}else pe==="multi"&&(L||v.isTouch||Ee==="multi")?kt?It(U.remove(X),void 0,!0):(It(void 0,X,!0),Rr.current=X):kt&&U.length===1?It(ot.empty(),void 0,A):(It(ot.fromSingleSelection(X),void 0,A),Rr.current=X)}else if(B>=W&&Vt&&X===ze){const Se=mo(B);Mr(Se??B)}else if(J!==B||he!==X){const Se=Hn(v.location),kt=nn(Se);if(kt?.onSelect!==void 0){let We=!1;if(kt.onSelect({...v,cell:Se,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,preventDefault:()=>We=!0,theme:ii(Se,v.location)}),We)return}if($n==="block"&&Gr(X).isGroupHeader)return;const rt=ar&&X===ze,qe=ar&&Y!==void 0&&Y.current?.cell[1]===ze;if((v.shiftKey||v.isLongTouch===!0)&&J!==void 0&&he!==void 0&&Y.current!==void 0&&!qe){if(rt)return;const We=Math.min(B,J),ht=Math.max(B,J),xt=Math.min(X,he),Qt=Math.max(X,he);gt({...Y.current,range:{x:We,y:xt,width:ht-We+1,height:Qt-xt+1}},!0,A,"click"),Rr.current=void 0,yn()}else gt({cell:[B,X],range:{x:B,y:X,width:1,height:1}},!0,A,"click"),Rr.current=void 0,i(void 0),yn()}}else if(v.kind==="header")if(Yr.current=[B,X],i(void 0),Pn&&B===0)Rr.current=void 0,vo.current=void 0,!ti&&pe==="multi"&&(U.length!==ze?It(ot.fromSingleSelection([0,ze]),void 0,A):It(ot.empty(),void 0,A),yn());else{const Se=vo.current;if(ne==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&Se!==void 0&&_.hasIndex(Se)){const kt=[Math.min(Se,B),Math.max(Se,B)+1];j?tt(void 0,kt,A):tt(ot.fromSingleSelection(kt),void 0,A)}else j?(_.hasIndex(B)?tt(_.remove(B),void 0,A):tt(void 0,B,A),vo.current=B):ne!=="none"&&(_.hasIndex(B)?tt(_.remove(B),void 0,A):tt(ot.fromSingleSelection(B),void 0,A),vo.current=B);Rr.current=void 0,yn()}else v.kind===zn?Yr.current=[B,X]:v.kind===Ti&&!v.isMaybeScrollbar&&(oe(Pi,!1),i(void 0),yn(),Mt?.(),Rr.current=void 0,vo.current=void 0)},[pe,ne,Y,Pn,W,Vt,ze,Sn,Hn,yt,yn,Ee,nn,ii,It,mo,Mr,$n,Gr,ar,gt,tt,oe,Mt]),li=d.useRef(!1),Yr=d.useRef(),Ch=d.useRef(Ur),Jn=d.useRef(),uy=d.useCallback(v=>{if(bo.current=!1,Ch.current=dn.current,v.button!==0&&v.button!==1){Jn.current=void 0;return}const A=performance.now();Jn.current={button:v.button,time:A,location:v.location},v?.kind==="header"&&(li.current=!0);const L=v.kind==="cell"&&v.isFillHandle;!L&&v.kind!=="cell"&&v.isEdge||(c({previousSelection:Y,fillHandle:L}),Yr.current=void 0,!v.isTouch&&v.button===0&&!L?ai(v):!v.isTouch&&v.button===1&&(Yr.current=v.location))},[Y,ai]),[ls,ss]=d.useState(),kh=d.useCallback(v=>{if(v.kind!==zn||ne!=="multi")return;const A=Ii.value?v.metaKey:v.ctrlKey,[L]=v.location,j=Y.columns;if(L<W)return;const B=nt[L];let X=L,_=L;for(let U=L-1;U>=W&&Ao(B.group,nt[U].group);U--)X--;for(let U=L+1;U<nt.length&&Ao(B.group,nt[U].group);U++)_++;if(yn(),A)if(j.hasAll([X,_+1])){let U=j;for(let J=X;J<=_;J++)U=U.remove(J);tt(U,void 0,A)}else tt(void 0,[X,_+1],A);else tt(ot.fromSingleSelection([X,_+1]),void 0,A)},[ne,yn,Y.columns,nt,W,tt]),bo=d.useRef(!1),ua=d.useCallback(async v=>{if(V!==void 0&&me!==void 0){const A=dn.current.y,L=dn.current.height;let j=V({x:v,y:A,width:1,height:Math.min(L,ze-A)},Mn.current.signal);typeof j!="object"&&(j=await j());const B=sn[v-W],X=document.createElement("canvas").getContext("2d",{alpha:!1});if(X!==null){X.font=Je.baseFontFull;const _=Wc(X,Je,B,0,j,xr,ho,!1,nn);me?.(B,_.width,v,_.width)}}},[sn,V,ho,Je,xr,me,W,ze,nn]),[dy,cs]=d.useState(),wo=d.useCallback(async(v,A)=>{const L=v.current?.range;if(L===void 0||V===void 0||A.current===void 0)return;const j=A.current.range;if(x!==void 0){let U=!1;if(x({fillDestination:{...j,x:j.x-W},patternSource:{...L,x:L.x-W},preventDefault:()=>U=!0}),U)return}let B=V(L,Mn.current.signal);typeof B!="object"&&(B=await B());const X=B,_=[];for(let U=0;U<j.width;U++)for(let J=0;J<j.height;J++){const he=[j.x+U,j.y+J];if(Tc(he,L))continue;const Se=X[J%L.height][U%L.width];Tr(Se)||!to(Se)||_.push({location:he,value:{...Se}})}_n(_),gn.current?.damage(_.map(U=>({cell:U.location})))},[V,_n,x,W]),Sh=d.useCallback(()=>{if(Y.current===void 0||Y.current.range.width<=1)return;const v={...Y,current:{...Y.current,range:{...Y.current.range,width:1}}};wo(v,Y)},[wo,Y]),Mh=d.useCallback(()=>{if(Y.current===void 0||Y.current.range.height<=1)return;const v={...Y,current:{...Y.current,range:{...Y.current.range,height:1}}};wo(v,Y)},[wo,Y]),hy=d.useCallback((v,A)=>{const L=s;if(c(void 0),ns(void 0),cs(void 0),li.current=!1,A)return;if(L?.fillHandle===!0&&Y.current!==void 0&&L.previousSelection?.current!==void 0){if(Xr===void 0)return;const Se={...Y,current:{...Y.current,range:eu(L.previousSelection.current.range,Xr)}};wo(L.previousSelection,Se),oe(Se,!0);return}const[j,B]=v.location,[X,_]=Yr.current??[],U=()=>{bo.current=!0},J=Se=>{const kt=Se.isTouch||X===j&&_===B;if(kt&&I?.([j-W,B],{...Se,preventDefault:U}),Se.button===1)return!bo.current;if(!bo.current){const rt=Hn(v.location),qe=nn(rt);if(qe!==void 0&&qe.onClick!==void 0&&kt){const ht=qe.onClick({...Se,cell:rt,posX:Se.localEventX,posY:Se.localEventY,bounds:Se.bounds,theme:ii(rt,v.location),preventDefault:U});ht!==void 0&&!Tr(ht)&&Or(ht)&&(_n([{location:Se.location,value:ht}]),gn.current?.damage([{cell:Se.location}]))}if(bo.current||Y.current===void 0)return!1;let We=!1;switch(rt.activationBehaviorOverride??Te){case"double-click":case"second-click":{if(L?.previousSelection?.current?.cell===void 0)break;const[ht,xt]=Y.current.cell,[Qt,xo]=L.previousSelection.current.cell;We=j===ht&&j===Qt&&B===xt&&B===xo&&(Se.isDoubleClick===!0||Te==="second-click");break}case"single-click":{We=!0;break}}if(We)return E?.([j-W,B]),go(Se.bounds,!1),!0}return!1},he=v.location[0]-W;if(v.isTouch){const Se=dn.current,kt=Ch.current;if(Se.x!==kt.x||Se.y!==kt.y)return;if(v.isLongTouch===!0){if(v.kind==="cell"&&Lo(Y.current?.cell,v.location)){$?.([he,v.location[1]],{...v,preventDefault:U});return}else if(v.kind==="header"&&Y.columns.hasIndex(j)){ie?.(he,{...v,preventDefault:U});return}else if(v.kind===zn){if(he<0)return;K?.(he,{...v,preventDefault:U});return}}v.kind==="cell"?J(v)||ai(v):v.kind===zn?Q?.(he,{...v,preventDefault:U}):(v.kind===gr&&C?.(he,{...v,preventDefault:U}),ai(v));return}if(v.kind==="header"){if(he<0)return;v.isEdge?v.isDoubleClick===!0&&ua(j):v.button===0&&j===X&&B===_&&C?.(he,{...v,preventDefault:U})}if(v.kind===zn){if(he<0)return;v.button===0&&j===X&&B===_&&(Q?.(he,{...v,preventDefault:U}),bo.current||kh(v))}v.kind==="cell"&&(v.button===0||v.button===1)&&J(v),Yr.current=void 0},[s,Y,W,Xr,wo,oe,I,Hn,nn,Te,ii,_n,E,go,$,ie,K,ai,Q,C,ua,kh]),fy=d.useCallback(v=>{const A={...v,location:[v.location[0]-W,v.location[1]]};et?.(A),s!==void 0&&v.buttons===0&&(c(void 0),ns(void 0),cs(void 0),li.current=!1),cs(L=>li.current?[v.scrollEdge[0],0]:v.scrollEdge[0]===L?.[0]&&v.scrollEdge[1]===L[1]?L:s===void 0||(Jn.current?.location[0]??0)<W?void 0:v.scrollEdge)},[s,et,W]),py=d.useCallback((v,A)=>{mt?.(v-W,A)},[mt,W]),gy=d.useCallback((v,A)=>{pt?.(v-W,A)},[pt,W]),yo=Y?.current?.cell,my=d.useCallback((v,A,L,j,B,X)=>{Qn.current=!1;let _=yo;_!==void 0&&(_=[_[0]-W,_[1]]);const U=Ne===0?void 0:{x:0,y:v.y,width:Ne,height:v.height},J=[];U!==void 0&&J.push(U),Le>0&&(J.push({x:v.x-W,y:ze-Le,width:v.width,height:Le}),Ne>0&&J.push({x:0,y:ze-Le,width:Ne,height:Le}));const he={x:v.x-W,y:v.y,width:v.width,height:Vt&&v.y+v.height>=ze?v.height-1:v.height,tx:B,ty:X,extras:{selected:_,freezeRegion:U,freezeRegions:J}};dn.current=he,vh(he),Gt([A,L,j]),jt?.(he,he.tx,he.ty,he.extras)},[yo,W,Vt,ze,Ne,Le,vh,jt]),vy=ur(R,d.useCallback((v,A)=>R?.(v-W,A-W)!==!1,[R,W])),by=ur(Re,d.useCallback((v,A)=>{Re?.(v-W,A-W),ne!=="none"&&tt(ot.fromSingleSelection(A),void 0,!0)},[ne,Re,W,tt])),us=d.useRef(!1),wy=d.useCallback(v=>{if(v.location[0]===0&&W>0){v.preventDefault();return}Ae?.({...v,location:[v.location[0]-W,v.location[1]]}),v.defaultPrevented()||(us.current=!0),c(void 0)},[Ae,W]),yy=d.useCallback(()=>{us.current=!1},[]),Rh=Ct?.selectionBehavior,da=d.useCallback(v=>{if(Rh!=="block-spanning")return;const{isGroupHeader:A,path:L,groupRows:j}=Gr(v);if(A)return[v,v];const B=L[L.length-1],X=v-B,_=v+j-B-1;return[X,_]},[Gr,Rh]),ds=d.useRef(),hs=d.useCallback(v=>{if(!hu(v,ds.current)&&(ds.current=v,!(Jn?.current?.button!==void 0&&Jn.current.button>=1))){if(v.buttons!==0&&s!==void 0&&Jn.current?.location[0]===0&&v.location[0]===0&&W===1&&pe==="multi"&&s.previousSelection&&!s.previousSelection.rows.hasIndex(Jn.current.location[1])&&Y.rows.hasIndex(Jn.current.location[1])){const A=Math.min(Jn.current.location[1],v.location[1]),L=Math.max(Jn.current.location[1],v.location[1])+1;It(ot.fromSingleSelection([A,L]),void 0,!1)}if(v.buttons!==0&&s!==void 0&&Y.current!==void 0&&!us.current&&!li.current&&(Xe==="rect"||Xe==="multi-rect")){const[A,L]=Y.current.cell;let[j,B]=v.location;if(B<0&&(B=dn.current.y),s.fillHandle===!0&&s.previousSelection?.current!==void 0){const X=s.previousSelection.current.range;B=Math.min(B,Vt?ze-1:ze);const _=hg(X,j,B,Rt);ns(_)}else{if(Vt&&L===ze)return;if(Vt&&B===ze)if(v.kind===Ti)B--;else return;j=Math.max(j,W);const X=da(L);B=X===void 0?B:Ln(B,X[0],X[1]);const _=j-A,U=B-L,J={x:_>=0?A:j,y:U>=0?L:B,width:Math.abs(_)+1,height:Math.abs(U)+1};gt({...Y.current,range:J},!0,!1,"drag")}}zt?.({...v,location:[v.location[0]-W,v.location[1]]})}},[s,W,pe,Y,Xe,zt,It,Vt,ze,Rt,da,gt]),xy=d.useCallback(()=>{const v=ds.current;if(v===void 0)return;const[A,L]=v.scrollEdge;let[j,B]=v.location;const X=dn.current;A===-1?j=X.extras?.freezeRegion?.x??X.x:A===1&&(j=X.x+X.width),L===-1?B=Math.max(0,X.y):L===1&&(B=Math.min(ze-1,X.y+X.height)),j=Ln(j,0,nt.length-1),B=Ln(B,0,ze-1),hs({...v,location:[j,B]})},[nt.length,hs,ze]);ym(dy,$t,xy);const jn=d.useCallback(v=>{if(Y.current===void 0)return;const[A,L]=v,[j,B]=Y.current.cell,X=Y.current.range;let _=X.x,U=X.x+X.width,J=X.y,he=X.y+X.height;const[Se,kt]=da(B)??[0,ze-1],rt=kt+1;if(L!==0)switch(L){case 2:{he=rt,J=B,Yt(0,he,"vertical");break}case-2:{J=Se,he=B+1,Yt(0,J,"vertical");break}case 1:{J<B?(J++,Yt(0,J,"vertical")):(he=Math.min(rt,he+1),Yt(0,he,"vertical"));break}case-1:{he>B+1?(he--,Yt(0,he,"vertical")):(J=Math.max(Se,J-1),Yt(0,J,"vertical"));break}default:Ro()}if(A!==0)if(A===2)U=nt.length,_=j,Yt(U-1-W,0,"horizontal");else if(A===-2)_=W,U=j+1,Yt(_-W,0,"horizontal");else{let qe=[];if(V!==void 0){const We=V({x:_,y:J,width:U-_-W,height:he-J},Mn.current.signal);typeof We=="object"&&(qe=Om(We))}if(A===1){let We=!1;if(_<j){if(qe.length>0){const ht=Ir(_+1,j+1).find(xt=>!qe.includes(xt-W));ht!==void 0&&(_=ht,We=!0)}else _++,We=!0;We&&Yt(_,0,"horizontal")}We||(U=Math.min(nt.length,U+1),Yt(U-1-W,0,"horizontal"))}else if(A===-1){let We=!1;if(U>j+1){if(qe.length>0){const ht=Ir(U-1,j,-1).find(xt=>!qe.includes(xt-W));ht!==void 0&&(U=ht,We=!0)}else U--,We=!0;We&&Yt(U-W,0,"horizontal")}We||(_=Math.max(W,_-1),Yt(_-W,0,"horizontal"))}else Ro()}gt({cell:Y.current.cell,range:{x:_,y:J,width:U-_,height:he-J}},!0,!1,"keyboard-select")},[V,da,Y,nt.length,W,ze,Yt,gt]),fs=d.useRef(ei);fs.current=ei;const Er=d.useCallback((v,A,L,j)=>{const B=mn-(L?0:1);v=Ln(v,W,sn.length-1+W),A=Ln(A,0,B);const X=yo?.[0],_=yo?.[1];if(v===X&&A===_)return!1;if(j&&Y.current!==void 0){const U=[...Y.current.rangeStack];(Y.current.range.width>1||Y.current.range.height>1)&&U.push(Y.current.range),oe({...Y,current:{cell:[v,A],range:{x:v,y:A,width:1,height:1},rangeStack:U}},!0)}else gt({cell:[v,A],range:{x:v,y:A,width:1,height:1}},!0,!1,"keyboard-nav");return u.current!==void 0&&u.current[0]===v&&u.current[1]===A&&(u.current=void 0),fs.current&&Yt(v-W,A),!0},[mn,W,sn.length,yo,Y,Yt,oe,gt]),Cy=d.useCallback((v,A)=>{o?.cell!==void 0&&v!==void 0&&Or(v)&&(_n([{location:o.cell,value:v}]),window.requestAnimationFrame(()=>{gn.current?.damage([{cell:o.cell}])})),yn(!0),i(void 0);const[L,j]=A;if(Y.current!==void 0&&(L!==0||j!==0)){const B=Y.current.cell[1]===mn-1&&v!==void 0,X=Y.current.cell[0]===nt.length-1&&v!==void 0;let _=!0;if(B&&j===1&&ge!==void 0){_=!1;const U=Y.current.cell[0]+L,J=mo(U);Mr(J??U,!1)}if(X&&L===1&&it!==void 0){_=!1;const U=Y.current.cell[1]+j;ca(U,!1)}_&&Er(Ln(Y.current.cell[0]+L,0,nt.length-1),Ln(Y.current.cell[1]+j,0,mn-1),B,!1)}F?.(v,A)},[o?.cell,yn,Y,F,_n,mn,Er,nt.length,Mr,ca,ge,it,mo]),ky=d.useMemo(()=>`gdg-overlay-${Tm++}`,[]),Kr=d.useCallback(v=>{yn();const A=[];for(let L=v.x;L<v.x+v.width;L++)for(let j=v.y;j<v.y+v.height;j++){const B=k([L-W,j]);if(!B.allowOverlay&&B.kind!==Z.Boolean)continue;let X;if(B.kind===Z.Custom){const _=nn(B),U=_?.provideEditor?.({...B,location:[L-W,j]});_?.onDelete!==void 0?X=_.onDelete(B):Ss(U)&&(X=U?.deletedValue?.(B))}else(Or(B)&&B.allowOverlay||B.kind===Z.Boolean)&&(X=nn(B)?.onDelete?.(B));X!==void 0&&!Tr(X)&&Or(X)&&A.push({location:[L,j],value:X})}_n(A),gn.current?.damage(A.map(L=>({cell:L.location})))},[yn,k,nn,_n,W]),si=o!==void 0,Eh=d.useCallback(v=>{const A=()=>{v.stopPropagation(),v.preventDefault()},L={didMatch:!1},{bounds:j}=v,B=Y.columns,X=Y.rows,_=Zn;if(!si&&at(_.clear,v,L))oe(Pi,!1),Mt?.();else if(!si&&at(_.selectAll,v,L))oe({columns:ot.empty(),rows:ot.empty(),current:{cell:Y.current?.cell??[W,0],range:{x:W,y:0,width:y.length,height:ze},rangeStack:[]}},!1);else if(at(_.search,v,L))l?.current?.focus({preventScroll:!0}),$r(!0);else if(at(_.delete,v,L)){const We=tn?.(Y)??!0;if(We!==!1){const ht=We===!0?Y:We;if(ht.current!==void 0){Kr(ht.current.range);for(const xt of ht.current.rangeStack)Kr(xt)}for(const xt of ht.rows)Kr({x:W,y:xt,width:y.length,height:1});for(const xt of ht.columns)Kr({x:xt,y:0,width:1,height:ze})}}if(L.didMatch)return A(),!0;if(Y.current===void 0)return!1;let[U,J]=Y.current.cell;const[,he]=Y.current.cell;let Se=!1,kt=!1;if(at(_.scrollToSelectedCell,v,L)?pa.current(U-W,J):ne!=="none"&&at(_.selectColumn,v,L)?B.hasIndex(U)?tt(B.remove(U),void 0,!0):ne==="single"?tt(ot.fromSingleSelection(U),void 0,!0):tt(void 0,U,!0):pe!=="none"&&at(_.selectRow,v,L)?X.hasIndex(J)?It(X.remove(J),void 0,!0):pe==="single"?It(ot.fromSingleSelection(J),void 0,!0):It(void 0,J,!0):!si&&j!==void 0&&at(_.activateCell,v,L)?J===ze&&Vt?window.setTimeout(()=>{const We=mo(U);Mr(We??U)},0):(E?.([U-W,J]),go(j,!0)):Y.current.range.height>1&&at(_.downFill,v,L)?Mh():Y.current.range.width>1&&at(_.rightFill,v,L)?Sh():at(_.goToNextPage,v,L)?J+=Math.max(1,dn.current.height-4):at(_.goToPreviousPage,v,L)?J-=Math.max(1,dn.current.height-4):at(_.goToFirstCell,v,L)?(i(void 0),J=0,U=0):at(_.goToLastCell,v,L)?(i(void 0),J=Number.MAX_SAFE_INTEGER,U=Number.MAX_SAFE_INTEGER):at(_.selectToFirstCell,v,L)?(i(void 0),jn([-2,-2])):at(_.selectToLastCell,v,L)?(i(void 0),jn([2,2])):si?(at(_.closeOverlay,v,L)&&i(void 0),at(_.acceptOverlayDown,v,L)&&(i(void 0),J++),at(_.acceptOverlayUp,v,L)&&(i(void 0),J--),at(_.acceptOverlayLeft,v,L)&&(i(void 0),U--),at(_.acceptOverlayRight,v,L)&&(i(void 0),U++)):(at(_.goDownCell,v,L)?J+=1:at(_.goUpCell,v,L)?J-=1:at(_.goRightCell,v,L)?U+=1:at(_.goLeftCell,v,L)?U-=1:at(_.goDownCellRetainSelection,v,L)?(J+=1,Se=!0):at(_.goUpCellRetainSelection,v,L)?(J-=1,Se=!0):at(_.goRightCellRetainSelection,v,L)?(U+=1,Se=!0):at(_.goLeftCellRetainSelection,v,L)?(U-=1,Se=!0):at(_.goToLastRow,v,L)?J=ze-1:at(_.goToFirstRow,v,L)?J=Number.MIN_SAFE_INTEGER:at(_.goToLastColumn,v,L)?U=Number.MAX_SAFE_INTEGER:at(_.goToFirstColumn,v,L)?U=Number.MIN_SAFE_INTEGER:(Xe==="rect"||Xe==="multi-rect")&&(at(_.selectGrowDown,v,L)?jn([0,1]):at(_.selectGrowUp,v,L)?jn([0,-1]):at(_.selectGrowRight,v,L)?jn([1,0]):at(_.selectGrowLeft,v,L)?jn([-1,0]):at(_.selectToLastRow,v,L)?jn([0,2]):at(_.selectToFirstRow,v,L)?jn([0,-2]):at(_.selectToLastColumn,v,L)?jn([2,0]):at(_.selectToFirstColumn,v,L)&&jn([-2,0])),kt=L.didMatch),$n!==void 0&&$n!=="normal"&&J!==he){const We=$n==="skip-up"||$n==="skip"||$n==="block",ht=$n==="skip-down"||$n==="skip"||$n==="block",xt=J<he;if(xt&&We){for(;J>=0&&Gr(J).isGroupHeader;)J--;J<0&&(J=he)}else if(!xt&&ht){for(;J<ze&&Gr(J).isGroupHeader;)J++;J>=ze&&(J=he)}}const rt=Er(U,J,!1,Se),qe=L.didMatch;return qe&&(rt||!kt||Zt)&&A(),qe},[$n,si,Y,Zn,ne,pe,Xe,W,Gr,ze,Er,oe,Mt,y.length,tn,Zt,Kr,tt,It,Vt,mo,Mr,E,go,Mh,Sh,jn]),ci=d.useCallback(v=>{let A=!1;if(G!==void 0&&G({...v,...v.location&&{location:[v.location[0]-W,v.location[1]]},cancel:()=>{A=!0}}),A||Eh(v)||Y.current===void 0)return;const[L,j]=Y.current.cell,B=dn.current;if(Oe&&!v.metaKey&&!v.ctrlKey&&Y.current!==void 0&&v.key.length===1&&/[\p{L}\p{M}\p{N}\p{S}\p{P}]/u.test(v.key)&&v.bounds!==void 0&&to(k([L-W,Math.max(0,Math.min(j,ze-1))]))){if((!Vt||j!==ze)&&(B.y>j||j>B.y+B.height||B.x>L||L>B.x+B.width))return;E?.([L-W,j]),go(v.bounds,!0,v.key),v.stopPropagation(),v.preventDefault()}},[Oe,G,Eh,Y,k,W,ze,Vt,E,go]),Sy=d.useCallback((v,A)=>{const L=v.location[0]-W;if(v.kind==="header"&&ie?.(L,{...v,preventDefault:A}),v.kind===zn){if(L<0)return;K?.(L,{...v,preventDefault:A})}if(v.kind==="cell"){const[j,B]=v.location;$?.([L,B],{...v,preventDefault:A}),sp(Y,v.location)||Er(j,B,!1,!1)}},[Y,$,K,ie,W,Er]),ps=d.useCallback(async v=>{if(!Zn.paste)return;function A(_,U,J,he){const Se=typeof J=="object"?J?.join(`
`)??"":J?.toString()??"";if(!Tr(_)&&to(_)&&_.readonly!==!0){const kt=O?.(Se,_);if(kt!==void 0&&Or(kt))return{location:U,value:kt};const rt=nn(_);if(rt===void 0)return;if(rt.kind===Z.Custom){En(_.kind===Z.Custom);const qe=rt.onPaste?.(Se,_.data);return qe===void 0?void 0:{location:U,value:{..._,data:qe}}}else{const qe=rt.onPaste?.(Se,_,{formatted:he,formattedString:typeof he=="string"?he:he?.join(`
`),rawValue:J});return qe===void 0?void 0:(En(qe.kind===_.kind),{location:U,value:qe})}}}const L=Y.columns,j=Y.rows,B=$t.current?.contains(document.activeElement)===!0||a.current?.contains(document.activeElement)===!0;let X;if(Y.current!==void 0?X=[Y.current.range.x,Y.current.range.y]:L.length===1?X=[L.first()??0,0]:j.length===1&&(X=[W,j.first()??0]),B&&X!==void 0){let _,U;const J="text/plain",he="text/html";if(navigator.clipboard.read!==void 0){const qe=await navigator.clipboard.read();for(const We of qe){if(We.types.includes(he)){const ht=await(await We.getType(he)).text(),xt=vu(ht);if(xt!==void 0){_=xt;break}}We.types.includes(J)&&(U=await(await We.getType(J)).text())}}else if(navigator.clipboard.readText!==void 0)U=await navigator.clipboard.readText();else if(v!==void 0&&v?.clipboardData!==null){if(v.clipboardData.types.includes(he)){const qe=v.clipboardData.getData(he);_=vu(qe)}_===void 0&&v.clipboardData.types.includes(J)&&(U=v.clipboardData.getData(J))}else return;const[Se,kt]=X,rt=[];do{if(Pe===void 0){const qe=Hn(X),We=U??_?.map(xt=>xt.map(Qt=>Qt.rawValue).join("	")).join("	")??"",ht=A(qe,X,We,void 0);ht!==void 0&&rt.push(ht);break}if(_===void 0){if(U===void 0)return;_=fm(U)}if(Pe===!1||typeof Pe=="function"&&Pe?.([X[0]-W,X[1]],_.map(qe=>qe.map(We=>We.rawValue?.toString()??"")))!==!0)return;for(const[qe,We]of _.entries()){if(qe+kt>=ze)break;for(const[ht,xt]of We.entries()){const Qt=[ht+Se,qe+kt],[xo,ga]=Qt;if(xo>=nt.length||ga>=mn)continue;const di=Hn(Qt),er=A(di,Qt,xt.rawValue,xt.formatted);er!==void 0&&rt.push(er)}}}while(!1);_n(rt),gn.current?.damage(rt.map(qe=>({cell:qe.location})))}},[O,nn,Hn,Y,Zn.paste,$t,nt.length,_n,mn,Pe,W,ze]);bn("paste",ps,h,!1,!0);const ui=d.useCallback(async(v,A)=>{if(!Zn.copy)return;const L=A===!0||$t.current?.contains(document.activeElement)===!0||a.current?.contains(document.activeElement)===!0,j=Y.columns,B=Y.rows,X=(_,U)=>{if(!je)wu(_,U,v);else{const J=U.map(he=>({kind:Z.Text,data:y[he].title,displayData:y[he].title,allowOverlay:!1}));wu([J,..._],U,v)}};if(L&&V!==void 0){if(Y.current!==void 0){let _=V(Y.current.range,Mn.current.signal);typeof _!="object"&&(_=await _()),X(_,Ir(Y.current.range.x-W,Y.current.range.x+Y.current.range.width-W))}else if(B!==void 0&&B.length>0){const _=[...B].map(U=>{const J=V({x:W,y:U,width:y.length,height:1},Mn.current.signal);return typeof J=="object"?J[0]:J().then(he=>he[0])});if(_.some(U=>U instanceof Promise)){const U=await Promise.all(_);X(U,Ir(y.length))}else X(_,Ir(y.length))}else if(j.length>0){const _=[],U=[];for(const J of j){let he=V({x:J,y:0,width:1,height:ze},Mn.current.signal);typeof he!="object"&&(he=await he()),_.push(he),U.push(J-W)}if(_.length===1)X(_[0],U);else{const J=_.reduce((he,Se)=>he.map((kt,rt)=>[...kt,...Se[rt]]));X(J,U)}}}},[y,V,Y,Zn.copy,W,$t,ze,je]);bn("copy",ui,h,!1,!1);const My=d.useCallback(async v=>{if(!(!Zn.cut||!($t.current?.contains(document.activeElement)===!0||a.current?.contains(document.activeElement)===!0))&&(await ui(v),Y.current!==void 0)){let A={current:{cell:Y.current.cell,range:Y.current.range,rangeStack:[]},rows:ot.empty(),columns:ot.empty()};const L=tn?.(A);if(L===!1||(A=L===!0?A:L,A.current===void 0))return;Kr(A.current.range)}},[Kr,Y,Zn.cut,ui,$t,tn]);bn("cut",My,h,!1,!1);const Ry=d.useCallback((v,A)=>{if(fe!==void 0){W!==0&&(v=v.map(B=>[B[0]-W,B[1]])),fe(v,A);return}if(v.length===0||A===-1)return;const[L,j]=v[A];u.current!==void 0&&u.current[0]===L&&u.current[1]===j||(u.current=[L,j],Er(L,j,!1,!1))},[fe,W,Er]),[ha,fa]=on?.current?.cell??[],pa=d.useRef(Yt);pa.current=Yt,d.useLayoutEffect(()=>{fs.current&&!Qn.current&&ha!==void 0&&fa!==void 0&&(ha!==Me.current?.current?.cell[0]||fa!==Me.current?.current?.cell[1])&&pa.current(ha,fa),Qn.current=!1},[ha,fa]);const Ih=Y.current!==void 0&&(Y.current.cell[0]>=nt.length||Y.current.cell[1]>=mn);d.useLayoutEffect(()=>{Ih&&oe(Pi,!1)},[Ih,oe]);const Ey=d.useMemo(()=>Vt===!0&&Wt?.tint===!0?ot.fromSingleSelection(mn-1):ot.empty(),[mn,Vt,Wt?.tint]),Iy=d.useCallback(v=>typeof Ut=="boolean"?Ut:Ut?.(v-W)??!0,[W,Ut]),Ty=d.useMemo(()=>{if(ls===void 0||a.current===null)return null;const{bounds:v,group:A}=ls,L=a.current.getBoundingClientRect();return d.createElement(nm,{bounds:v,group:A,canvasBounds:L,onClose:()=>ss(void 0),onFinish:j=>{ss(void 0),se?.(A,j)}})},[se,ls]),Oy=Math.min(nt.length,Ne+(Pn?1:0));d.useImperativeHandle(t,()=>({appendRow:(v,A)=>Mr(v+W,A),appendColumn:(v,A)=>ca(v,A),updateCells:v=>(W!==0&&(v=v.map(A=>({cell:[A.cell[0]+W,A.cell[1]]}))),gn.current?.damage(v)),getBounds:(v,A)=>{if(!(a?.current===null||$t?.current===null)){if(v===void 0&&A===void 0){const L=a.current.getBoundingClientRect(),j=L.width/$t.current.clientWidth;return{x:L.x-$t.current.scrollLeft*j,y:L.y-$t.current.scrollTop*j,width:$t.current.scrollWidth*j,height:$t.current.scrollHeight*j}}return gn.current?.getBounds((v??0)+W,A)}},focus:()=>gn.current?.focus(),emit:async v=>{switch(v){case"delete":ci({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":ci({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":ci({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await ui(void 0,!0);break;case"paste":await ps();break}},scrollTo:Yt,remeasureColumns:v=>{for(const A of v)ua(A+W)},getMouseArgsForPosition:(v,A,L)=>{if(gn?.current===null)return;const j=gn.current.getMouseArgsForPosition(v,A,L);if(j!==void 0)return{...j,location:[j.location[0]-W,j.location[1]]}}}),[Mr,ca,ua,$t,ui,ci,ps,W,Yt]);const[Th,Oh]=yo??[],Dy=d.useCallback(v=>{const[A,L]=v;if(L===-1){ne!=="none"&&(tt(ot.fromSingleSelection(A),void 0,!1),yn());return}Th===A&&Oh===L||(gt({cell:v,range:{x:A,y:L,width:1,height:1}},!0,!1,"keyboard-nav"),Yt(A,L))},[ne,yn,Yt,Th,Oh,gt,tt]),[Py,Fy]=d.useState(!1),Dh=d.useRef(ac(v=>{Fy(v)},5)),Hy=d.useCallback(()=>{Dh.current(!0),Y.current===void 0&&Y.columns.length===0&&Y.rows.length===0&&s===void 0&&gt({cell:[W,oa],range:{x:W,y:oa,width:1,height:1}},!0,!1,"keyboard-select")},[oa,Y,s,W,gt]),Ay=d.useCallback(()=>{Dh.current(!1)},[]),[Ly,zy]=d.useMemo(()=>{let v;const A=vt?.scrollbarWidthOverride??La(),L=ze+(Vt?1:0);if(typeof qn=="number")v=Rn+L*qn;else{let B=0;const X=Math.min(L,10);for(let _=0;_<X;_++)B+=qn(_);B=Math.floor(B/X),v=Rn+L*B}v+=A;const j=nt.reduce((B,X)=>X.width+B,0)+A;return[`${Math.min(1e5,j)}px`,`${Math.min(1e5,v)}px`]},[nt,vt?.scrollbarWidthOverride,qn,ze,Vt,Rn]),_y=d.useMemo(()=>Ms(Je),[Je]);return d.createElement(Sa.Provider,{value:Je},d.createElement(vm,{style:_y,className:q,inWidth:m??Ly,inHeight:b??zy},d.createElement(Jg,{fillHandle:Cn,drawFocusRing:so,experimental:vt,fixedShadowX:Ft,fixedShadowY:kn,getRowThemeOverride:Wr,headerIcons:rr,imageWindowLoader:Bn,initialSize:N,isDraggable:Be,onDragLeave:Ge,onRowMoved:yt,overscrollX:Ql,overscrollY:Jl,preventDiagonalScrolling:ve,rightElement:ut,rightElementProps:bt,smoothScrollX:Xt,smoothScrollY:or,className:q,enableGroups:Dt,onCanvasFocused:Hy,onCanvasBlur:Ay,canvasRef:a,onContextMenu:Sy,theme:Je,cellXOffset:sy,cellYOffset:oa,accessibilityHeight:Ur.height,onDragEnd:yy,columns:nt,nonGrowWidth:kr,drawHeader:Ze,onColumnProposeMove:vy,drawCell:dt,disabledRows:Ey,freezeColumns:Oy,lockColumns:W,firstColAccessible:W===0,getCellContent:Hn,minColumnWidth:xr,maxColumnWidth:ho,searchInputRef:l,showSearch:ts,onSearchClose:po,highlightRegions:cy,getCellsForSelection:V,getGroupDetails:rs,headerHeight:oi,isFocused:Py,groupHeaderHeight:Dt?ra:0,freezeTrailingRows:Le+(Vt&&Wt?.sticky===!0?1:0),hasAppendRow:Vt,onColumnResize:me,onColumnResizeEnd:Qe,onColumnResizeStart:we,onCellFocused:Dy,onColumnMoved:by,onDragStart:wy,onHeaderMenuClick:py,onHeaderIndicatorClick:gy,onItemHovered:hs,isFilling:s?.fillHandle===!0,onMouseMove:fy,onKeyDown:ci,onKeyUp:le,onMouseDown:uy,onMouseUp:hy,onDragOverCell:pn,onDrop:Dn,onSearchResultsChanged:Ry,onVisibleRegionChanged:my,clientSize:Nt,rowHeight:qn,searchResults:ae,searchValue:P,onSearchValueChange:z,rows:mn,scrollRef:$t,selection:Y,translateX:Ur.tx,translateY:Ur.ty,verticalBorder:Iy,gridRef:gn,getCellRenderer:nn,resizeIndicator:ea}),Ty,o!==void 0&&d.createElement(d.Suspense,{fallback:null},d.createElement(Im,{...o,validateCell:ke,bloom:T,id:ky,getCellRenderer:nn,className:vt?.isSubGrid===!0?"click-outside-ignore":void 0,provideEditor:ln,imageEditorOverride:p,portalElementRef:ta,onFinishEditing:Cy,markdownDivCreateNode:g,isOutsideClick:Kl,customEventTarget:vt?.eventTarget}))))},Pm=d.forwardRef(Dm);function Mu(e){const{cell:t,posX:n,posY:r,bounds:o,theme:i}=e,{width:l,height:a,x:s,y:c}=o,u=t.maxSize??i.checkboxMaxSize,h=Math.floor(o.y+a/2),p=uc(u,a,i.cellVerticalPadding),f=cc(t.contentAlign??"center",s,l,i.cellHorizontalPadding,p),g=sc(f,h,p),m=dc(s+n,c+r,g);return Ia(t)&&m}const Fm={getAccessibilityString:e=>e.data?.toString()??"false",kind:Z.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Hm(e,e.cell.data,Ia(e.cell),e.cell.maxSize??e.theme.checkboxMaxSize,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{Mu(e)&&e.preventDefault()},onClick:e=>{if(Mu(e))return{...e.cell,data:yu(e.cell.data)}},onPaste:(e,t)=>{let n=mi;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Ea),n===t.data?void 0:{...t,data:n}}};function Hm(e,t,n,r,o){if(!n&&t===mi)return;const{ctx:i,hoverAmount:l,theme:a,rect:s,highlighted:c,hoverX:u,hoverY:h,cell:{contentAlign:p}}=e,{x:f,y:g,width:m,height:b}=s;let y=!1;if(o>0){let w=n?1-o+o*l:.4;if(t===mi&&(w*=l),w===0)return;w<1&&(y=!0,i.globalAlpha=w)}ol(i,a,t,f,g,m,b,c,u,h,r,p),y&&(i.globalAlpha=1)}const Am=rn("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),Lm=e=>{const{bubbles:t}=e;return d.createElement(Am,null,t.map((n,r)=>d.createElement("div",{key:r,className:"boe-bubble"},n)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},zm={getAccessibilityString:e=>hc(e.data),kind:Z.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>{const r=t.data.reduce((o,i)=>e.measureText(i).width+o+n.bubblePadding*2+n.bubbleMargin,0);return t.data.length===0?n.cellHorizontalPadding*2:r+2*n.cellHorizontalPadding-n.bubbleMargin},draw:e=>_m(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Lm,{bubbles:t.data})},onPaste:()=>{}};function _m(e,t){const{rect:n,theme:r,ctx:o,highlighted:i}=e,{x:l,y:a,width:s,height:c}=n;let u=l+r.cellHorizontalPadding;const h=[];for(const p of t){if(u>l+s)break;const f=Lr(p,o,r.baseFontFull).width;h.push({x:u,width:f}),u+=f+r.bubblePadding*2+r.bubbleMargin}o.beginPath();for(const p of h)Kn(o,p.x,a+(c-r.bubbleHeight)/2,p.width+r.bubblePadding*2,r.bubbleHeight,r.roundingRadius??r.bubbleHeight/2);o.fillStyle=i?r.bgBubbleSelected:r.bgBubble,o.fill();for(const[p,f]of h.entries())o.beginPath(),o.fillStyle=r.textBubble,o.fillText(t[p],f.x+r.bubblePadding,a+c/2+Gn(o,r))}const Vm=rn("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),Nm=e=>{const{drilldowns:t}=e;return d.createElement(Vm,null,t.map((n,r)=>d.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&d.createElement("img",{src:n.img}),d.createElement("div",null,n.text))))},Bm={getAccessibilityString:e=>hc(e.data.map(t=>t.text)),kind:Z.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,o)=>e.measureText(o.text).width+r+n.bubblePadding*2+n.bubbleMargin+(o.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>$m(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Nm,{drilldowns:t.data})},onPaste:()=>{}},ul={};function Wm(e,t,n,r){const o=Math.ceil(window.devicePixelRatio),i=5,l=n-i*2,a=4,s=n*o,c=r+i,u=r*3,h=(u+i*2)*o,p=`${e},${t},${o},${n}`;if(ul[p]!==void 0)return{el:ul[p],height:s,width:h,middleWidth:a*o,sideWidth:c*o,padding:i*o,dpr:o};const f=document.createElement("canvas"),g=f.getContext("2d");return g===null?null:(f.width=h,f.height=s,g.scale(o,o),ul[p]=f,g.beginPath(),Kn(g,i,i,u,l,r),g.shadowColor="rgba(24, 25, 34, 0.4)",g.shadowBlur=1,g.fillStyle=e,g.fill(),g.shadowColor="rgba(24, 25, 34, 0.3)",g.shadowOffsetY=1,g.shadowBlur=5,g.fillStyle=e,g.fill(),g.shadowOffsetY=0,g.shadowBlur=0,g.shadowBlur=0,g.beginPath(),Kn(g,i+.5,i+.5,u,l,r),g.strokeStyle=t,g.lineWidth=1,g.stroke(),{el:f,height:s,width:h,sideWidth:c*o,middleWidth:r*o,padding:i*o,dpr:o})}function $m(e,t){const{rect:n,theme:r,ctx:o,imageLoader:i,col:l,row:a}=e,{x:s,width:c}=n,u=r.baseFontFull,h=ja(o,u),p=Math.min(n.height,Math.max(16,Math.ceil(h*r.lineHeight)*2)),f=Math.floor(n.y+(n.height-p)/2),g=p-10,m=r.bubblePadding,b=r.bubbleMargin;let y=s+r.cellHorizontalPadding;const w=r.roundingRadius??6,k=Wm(r.bgCell,r.drilldownBorder,p,w),I=[];for(const E of t){if(y>s+c)break;const x=Lr(E.text,o,u).width;let F=0;E.img!==void 0&&i.loadOrGetImage(E.img,l,a)!==void 0&&(F=g-8+4);const O=x+F+m*2;I.push({x:y,width:O}),y+=O+b}if(k!==null){const{el:E,height:x,middleWidth:F,sideWidth:O,width:M,dpr:H,padding:T}=k,C=O/H,R=T/H;for(const D of I){const S=Math.floor(D.x),Q=Math.floor(D.width),$=Q-(C-R)*2;o.imageSmoothingEnabled=!1,o.drawImage(E,0,0,O,x,S-R,f,C,p),$>0&&o.drawImage(E,O,0,F,x,S+(C-R),f,$,p),o.drawImage(E,M-O,0,O,x,S+Q-(C-R),f,C,p),o.imageSmoothingEnabled=!0}}o.beginPath();for(const[E,x]of I.entries()){const F=t[E];let O=x.x+m;if(F.img!==void 0){const M=i.loadOrGetImage(F.img,l,a);if(M!==void 0){const H=g-8;let T=0,C=0,R=M.width,D=M.height;R>D?(T+=(R-D)/2,R=D):D>R&&(C+=(D-R)/2,D=R),o.beginPath(),Kn(o,O,f+p/2-H/2,H,H,r.roundingRadius??3),o.save(),o.clip(),o.drawImage(M,T,C,R,D,O,f+p/2-H/2,H,H),o.restore(),O+=H+4}}o.beginPath(),o.fillStyle=r.textBubble,o.fillText(F.text,O,f+p/2+Gn(o,r))}}const jm={getAccessibilityString:e=>e.data.join(", "),kind:Z.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>Um(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,o=r??Pf;return d.createElement(o,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:i=>{n({...t,data:[i]})}})},onPaste:(e,t)=>{e=e.trim();const n=e.split(",").map(r=>{try{return new URL(r),r}catch{return}}).filter(r=>r!==void 0);if(!(n.length===t.data.length&&n.every((r,o)=>r===t.data[o])))return{...t,data:n}}},dl=4;function Um(e,t,n,r){const{rect:o,col:i,row:l,theme:a,ctx:s,imageLoader:c}=e,{x:u,y:h,height:p,width:f}=o,g=p-a.cellVerticalPadding*2,m=[];let b=0;for(let w=0;w<t.length;w++){const k=t[w];if(k.length===0)continue;const I=c.loadOrGetImage(k,i,l);if(I!==void 0){m[w]=I;const E=I.width*(g/I.height);b+=E+dl}}if(b===0)return;b-=dl;let y=u+a.cellHorizontalPadding;r==="right"?y=Math.floor(u+f-a.cellHorizontalPadding-b):r==="center"&&(y=Math.floor(u+f/2-b/2));for(const w of m){if(w===void 0)continue;const k=w.width*(g/w.height);n>0&&(s.beginPath(),Kn(s,y,h+a.cellVerticalPadding,k,g,n),s.save(),s.clip()),s.drawImage(w,y,h+a.cellVerticalPadding,k,g),n>0&&s.restore(),y+=k+dl}}function Xm(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const Gm={getAccessibilityString:()=>"",kind:Z.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:r,ctx:o,rect:i,theme:l}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let a=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(a+=Math.round(Xm(n,r)*t.skeletonWidthVariability));const s=l.cellHorizontalPadding;a+s*2>=i.width&&(a=i.width-s*2-1);const c=t.skeletonHeight??Math.min(18,i.height-2*l.cellVerticalPadding);Kn(o,i.x+s,i.y+(i.height-c)/2,a,c,l.roundingRadius??3),o.fillStyle=Hr(l.textDark,.1),o.fill()},onPaste:()=>{}},Ym=()=>e=>e.targetWidth,Ru=rn("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[Ym(),"px"]}}),Km=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:o,targetRect:i,onFinish:l,validatedSelection:a}=e,s=t.data,c=t.readonly===!0,[u,h]=d.useState(s===""||r),p=d.useCallback(()=>{h(g=>!g)},[]),f=s?"gdg-ml-6":"";return u?d.createElement(Ru,{targetWidth:i.width-20},d.createElement(Fr,{autoFocus:!0,highlight:!1,validatedSelection:a,value:s,onKeyDown:g=>{g.key==="Enter"&&g.stopPropagation()},onChange:n}),d.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${f}`,onClick:()=>l(t)},d.createElement(Mf,null))):d.createElement(Ru,{targetWidth:i.width},d.createElement(Zf,{contents:s,createNode:o}),!c&&d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer"}),d.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${f}`,onClick:p},d.createElement(Ha,null))),d.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},qm={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:_o,measure:(e,t,n)=>{const r=t.data.split(`
`)[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>Yn(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:o,markdownDivCreateNode:i,forceEditMode:l,validatedSelection:a}=e;return d.createElement(Km,{onFinish:o,targetRect:r,value:n,validatedSelection:a,onChange:s=>t({...n,data:s.target.value}),forceEditMode:l,createNode:i})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},Zm={getAccessibilityString:e=>e.row.toString(),kind:An.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:Qm,measure:()=>44,draw:e=>e0(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:o}=e,{width:i,height:l}=t,a=n.drawHandle?7+(i-7)/2:i/2,s=l/2;if(Math.abs(r-a)<=10&&Math.abs(o-s)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function Qm(e,t){const{ctx:n,theme:r}=e,o=r.markerFontFull,i=t??{};return i?.font!==o&&(n.font=o,i.font=o),i.deprep=Jm,n.textAlign="center",i}function Jm(e){const{ctx:t}=e;t.textAlign="start"}function e0(e,t,n,r,o,i){const{ctx:l,rect:a,hoverAmount:s,theme:c}=e,{x:u,y:h,width:p,height:f}=a,g=n?1:r==="checkbox-visible"?.6+.4*s:s;if(r!=="number"&&g>0){l.globalAlpha=g;const m=7*(n?s:1);if(ol(l,c,n,o?u+m:u,h,o?p-m:p,f,!0,void 0,void 0,c.checkboxMaxSize,"center",i),o){l.globalAlpha=s,l.beginPath();for(const b of[3,6])for(const y of[-5,-1,3])l.rect(u+b,h+f/2+y,2,2);l.fillStyle=c.textLight,l.fill(),l.beginPath()}l.globalAlpha=1}if(r==="number"||r==="both"&&!n){const m=t.toString(),b=c.markerFontFull,y=u+p/2;r==="both"&&s!==0&&(l.globalAlpha=1-s),l.fillStyle=c.textLight,l.font=b,l.fillText(m,y,h+f/2+Gn(l,b)),s!==0&&(l.globalAlpha=1)}}const t0={getAccessibilityString:()=>"",kind:An.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>n0(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function n0(e,t,n){const{ctx:r,rect:o,hoverAmount:i,theme:l,spriteManager:a}=e,{x:s,y:c,width:u,height:h}=o;r.beginPath(),r.globalAlpha=i,r.rect(s+1,c+1,u,h-2),r.fillStyle=l.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const p=t!=="";let f=0;if(n!==void 0){const g=h-8,m=s+8/2,b=c+8/2;a.drawSprite(n,"normal",r,m,b,g,l,p?1:i),f=g}else{f=24;const g=12,m=p?g:i*g,b=p?0:(1-i)*g*.5,y=l.cellHorizontalPadding+4;m>0&&(r.moveTo(s+y+b,c+h/2),r.lineTo(s+y+b+m,c+h/2),r.moveTo(s+y+b+m*.5,c+h/2-m*.5),r.lineTo(s+y+b+m*.5,c+h/2+m*.5),r.lineWidth=2,r.strokeStyle=l.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=l.textMedium,r.fillText(t,f+s+l.cellHorizontalPadding+.5,c+h/2+Gn(r,l)),r.beginPath()}function Eu(e,t,n,r,o,i,l){e.textBaseline="alphabetic";const a=r0(e,o,r,t,n?.fullSize??!1);e.beginPath(),Kn(e,a.x,a.y,a.width,a.height,t.roundingRadius??4),e.globalAlpha=i,e.fillStyle=n?.bgColor??Hr(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",l?.("text")}function r0(e,t,n,r,o){const i=r.cellHorizontalPadding,l=r.cellVerticalPadding;if(o)return{x:t.x+i/2,y:t.y+l/2+1,width:t.width-i,height:t.height-l-1};const a=Lr(n,e,r.baseFontFull,"alphabetic"),s=t.height-l,c=Math.min(s,a.actualBoundingBoxAscent*2.5);return{x:t.x+i/2,y:t.y+(t.height-c)/2+1,width:a.width+i*3,height:c-1}}const o0=d.lazy(async()=>await import("./number-overlay-editor-CXxOKfS8.js")),i0={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:_o,draw:e=>{const{hoverAmount:t,cell:n,ctx:r,theme:o,rect:i,overrideCursor:l}=e,{hoverEffect:a,displayData:s,hoverEffectTheme:c}=n;a===!0&&t>0&&Eu(r,o,c,s,i,t,l),Yn(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return d.createElement(d.Suspense,{fallback:null},d.createElement(o0,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:o,onChange:i=>n({...r,data:Number.isNaN(i.floatValue??0)?0:i.floatValue})}))},onPaste:(e,t,n)=>{const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return{...t,data:r,displayData:n.formattedString??t.displayData}}},a0={getAccessibilityString:()=>"",measure:()=>108,kind:Z.Protected,needsHover:!1,needsHoverPosition:!1,draw:l0,onPaste:()=>{}};function l0(e){const{ctx:t,theme:n,rect:r}=e,{x:o,y:i,height:l}=r;t.beginPath();const a=2.5;let s=o+n.cellHorizontalPadding+a;const c=i+l/2,u=Math.cos(lc(30))*a,h=Math.sin(lc(30))*a;for(let p=0;p<12;p++)t.moveTo(s,c-a),t.lineTo(s,c+a),t.moveTo(s+u,c-h),t.lineTo(s-u,c+h),t.moveTo(s-u,c-h),t.lineTo(s+u,c+h),s+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const s0={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>_o(e,t,e.theme.textLight),draw:e=>Yn(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return Bt.createElement(Fr,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:o,onChange:i=>n({...r,data:i.target.value})})},onPaste:()=>{}},c0={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:_o,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:r,ctx:o,rect:i,theme:l,overrideCursor:a}=e,{displayData:s,contentAlign:c,hoverEffect:u,allowWrapping:h,hoverEffectTheme:p}=t;u===!0&&n>0&&Eu(o,l,p,s,i,n,a),Yn(e,s,c,h,r)},measure:(e,t,n)=>{const r=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let o=0;for(const i of r)o=Math.max(o,e.measureText(i).width);return o+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:o,validatedSelection:i}=t;return d.createElement(Fr,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:o.readonly!==!0,disabled:o.readonly===!0,altNewline:!0,value:o.data,validatedSelection:i,onChange:l=>r({...o,data:l.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},u0=rn("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),d0=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:o,validatedSelection:i,preview:l}=e,[a,s]=d.useState(!o&&(t===""||r)),c=d.useCallback(()=>{s(!0)},[]);return a?d.createElement(Fr,{validatedSelection:i,highlight:!0,autoFocus:!0,value:t,onChange:n}):d.createElement(u0,null,d.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},l),!o&&d.createElement("div",{className:"gdg-edit-icon",onClick:c},d.createElement(Ha,null)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function Iu(e,t,n,r){let o=n.cellHorizontalPadding;const i=t.height/2-e.actualBoundingBoxAscent/2,l=e.width,a=e.actualBoundingBoxAscent;return r==="right"?o=t.width-l-n.cellHorizontalPadding:r==="center"&&(o=t.width/2-l/2),{x:o,y:i,width:l,height:a}}function Tu(e){const{cell:t,bounds:n,posX:r,posY:o,theme:i}=e,l=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const a=Hc(l,i.baseFontFull);if(a===void 0)return!1;const s=Iu(a,n,i,t.contentAlign);return zr({x:s.x-4,y:s.y-4,width:s.width+8,height:s.height+8},r,o)}const h0={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:_o,draw:e=>{const{cell:t,theme:n,overrideCursor:r,hoverX:o,hoverY:i,rect:l,ctx:a}=e,s=t.displayData??t.data,c=t.hoverEffect===!0;if(r!==void 0&&c&&o!==void 0&&i!==void 0){const u=Lr(s,a,n.baseFontFull),h=Iu(u,l,n,t.contentAlign),{x:p,y:f,width:g,height:m}=h;if(o>=p-4&&o<=p-4+g+8&&i>=f-4&&i<=f-4+m+8){const b=Gn(a,n.baseFontFull);r("pointer");const y=5,w=f-b;a.beginPath(),a.moveTo(l.x+p,Math.floor(l.y+w+m+y)+.5),a.lineTo(l.x+p+g,Math.floor(l.y+w+m+y)+.5),a.strokeStyle=n.linkColor,a.stroke(),a.save(),a.fillStyle=e.cellFillColor,Yn({...e,rect:{...l,x:l.x-1}},s,t.contentAlign),Yn({...e,rect:{...l,x:l.x-2}},s,t.contentAlign),Yn({...e,rect:{...l,x:l.x+1}},s,t.contentAlign),Yn({...e,rect:{...l,x:l.x+2}},s,t.contentAlign),a.restore()}}a.fillStyle=c?n.linkColor:n.textDark,Yn(e,s,t.contentAlign)},onSelect:e=>{Tu(e)&&e.preventDefault()},onClick:e=>{const{cell:t}=e;Tu(e)&&t.onClickUri?.(e)},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:r,forceEditMode:o,validatedSelection:i}=t;return d.createElement(d0,{forceEditMode:r.readonly!==!0&&(o||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:r.data,preview:r.displayData??r.data,validatedSelection:i,readonly:r.readonly===!0,onChange:l=>n({...r,data:l.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},f0=[Zm,t0,Fm,zm,Bm,jm,Gm,qm,i0,a0,s0,c0,h0];var hl,Ou;function p0(){if(Ou)return hl;Ou=1;var e=ic(),t=Ph(),n="Expected a function";function r(o,i,l){var a=!0,s=!0;if(typeof o!="function")throw new TypeError(n);return t(l)&&(a="leading"in l?!!l.leading:a,s="trailing"in l?!!l.trailing:s),e(o,i,{leading:a,maxWait:i,trailing:s})}return hl=r,hl}var g0=p0();const m0=lr(g0),fl=[];class v0 extends Vc{imageLoaded=()=>{};loadedLocations=[];cache={};setCallback(t){this.imageLoaded=t}sendLoaded=m0(()=>{this.imageLoaded(new Vo(this.loadedLocations)),this.loadedLocations=[]},20);clearOutOfWindow=()=>{const t=Object.keys(this.cache);for(const n of t){const r=this.cache[n];let o=!1;for(let i=0;i<r.cells.length;i++){const l=r.cells[i];if(this.isInWindow(l)){o=!0;break}}o?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[n])}};loadImage(t,n,r,o){let i=!1;const l=fl.pop()??new Image;let a=!1;const s={img:void 0,cells:[Nn(n,r)],url:t,cancel:()=>{a||(a=!0,fl.length<12?fl.unshift(l):i||(l.src=""))}},c=new Promise(u=>l.addEventListener("load",()=>u(null)));requestAnimationFrame(async()=>{try{l.src=t,await c,await l.decode();const u=this.cache[o];if(u!==void 0&&!a){u.img=l;for(const h of u.cells)this.loadedLocations.push(Ya(h));i=!0,this.sendLoaded()}}catch{s.cancel()}}),this.cache[o]=s}loadOrGetImage(t,n,r){const o=t,i=this.cache[o];if(i!==void 0){const l=Nn(n,r);return i.cells.includes(l)||i.cells.push(l),i.img}else this.loadImage(t,n,r,o)}}const b0=(e,t)=>{const n=d.useMemo(()=>({...cg,...e.headerIcons}),[e.headerIcons]),r=d.useMemo(()=>e.renderers??f0,[e.renderers]),o=d.useMemo(()=>e.imageWindowLoader??new v0,[e.imageWindowLoader]);return d.createElement(Pm,{...e,renderers:r,headerIcons:n,ref:t,imageWindowLoader:o})},w0=d.forwardRef(b0);function Du(e,t){const n=d.useRef(null),r=d.useRef(),o=d.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]);return d.useEffect(()=>o,[o]),{debouncedCallback:d.useCallback((...i)=>{r.current=i,o(),n.current=setTimeout(()=>{r.current&&(e(...r.current),r.current=void 0)},t)},[e,t,o]),cancel:o}}var y0=qy();const x0=lr(y0);var pl={exports:{}},C0=pl.exports,Pu;function k0(){return Pu||(Pu=1,function(e,t){(function(n,r){try{e.exports=r(Zy)}catch{e.exports=r}n&&(n.momentDurationFormatSetup=n.moment?r(n.moment):r)})(C0,function(n){var r=!1,o=!1,i=!1,l=!1,a="escape years months weeks days hours minutes seconds milliseconds general".split(" "),s=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function c(z,P){return P.length>z.length?!1:z.indexOf(P)!==-1}function u(z){for(var P="";z;)P+="0",z-=1;return P}function h(z){for(var P=z.split("").reverse(),G=0,le=!0;le&&G<P.length;)G?P[G]==="9"?P[G]="0":(P[G]=(parseInt(P[G],10)+1).toString(),le=!1):(parseInt(P[G],10)<5&&(le=!1),P[G]="0"),G+=1;return le&&P.push("1"),P.reverse().join("")}function p(z,P){var G=F(S(P).sort(),function(de){return de+":"+P[de]}).join(","),le=z+"+"+G;return p.cache[le]||(p.cache[le]=Intl.NumberFormat(z,P)),p.cache[le]}p.cache={};function f(z,P,G){var le=P.useToLocaleString,de=P.useGrouping,Oe=de&&P.grouping.slice(),ge=P.maximumSignificantDigits,it=P.minimumIntegerDigits||1,Re=P.fractionDigits||0,Lt=P.groupingSeparator,Ye=P.decimalSeparator;if(le&&G){var Xe={minimumIntegerDigits:it,useGrouping:de};if(Re&&(Xe.maximumFractionDigits=Re,Xe.minimumFractionDigits=Re),ge&&z>0&&(Xe.maximumSignificantDigits=ge),i){if(!l){var ne=D({},P);ne.useGrouping=!1,ne.decimalSeparator=".",z=parseFloat(f(z,ne),10)}return p(G,Xe).format(z)}else{if(!o){var ne=D({},P);ne.useGrouping=!1,ne.decimalSeparator=".",z=parseFloat(f(z,ne),10)}return z.toLocaleString(G,Xe)}}var pe;ge?pe=z.toPrecision(ge+1):pe=z.toFixed(Re+1);var Ce,ce,xe,Ie=pe.split("e");xe=Ie[1]||"",Ie=Ie[0].split("."),ce=Ie[1]||"",Ce=Ie[0]||"";var Ae=Ce.length,et=ce.length,Pe=Ae+et,je=Ce+ce;(ge&&Pe===ge+1||!ge&&et===Re+1)&&(je=h(je),je.length===Pe+1&&(Ae=Ae+1),et&&(je=je.slice(0,-1)),Ce=je.slice(0,Ae),ce=je.slice(Ae)),ge&&(ce=ce.replace(/0*$/,""));var Ne=parseInt(xe,10);Ne>0?ce.length<=Ne?(ce=ce+u(Ne-ce.length),Ce=Ce+ce,ce=""):(Ce=Ce+ce.slice(0,Ne),ce=ce.slice(Ne)):Ne<0&&(ce=u(Math.abs(Ne)-Ce.length)+Ce+ce,Ce="0"),ge||(ce=ce.slice(0,Re),ce.length<Re&&(ce=ce+u(Re-ce.length)),Ce.length<it&&(Ce=u(it-Ce.length)+Ce));var Te="";if(de){Ie=Ce;for(var Ee;Ie.length;)Oe.length&&(Ee=Oe.shift()),Te&&(Te=Lt+Te),Te=Ie.slice(-Ee)+Te,Ie=Ie.slice(0,-Ee)}else Te=Ce;return ce&&(Te=Te+Ye+ce),Te}function g(z,P){return z.label.length>P.label.length?-1:z.label.length<P.label.length?1:0}function m(z,P){var G=[];return x(S(P),function(le){if(le.slice(0,15)==="_durationLabels"){var de=le.slice(15).toLowerCase();x(S(P[le]),function(Oe){Oe.slice(0,1)===z&&G.push({type:de,key:Oe,label:P[le][Oe]})})}}),G}function b(z,P,G){return P===1&&G===null?z:z+z}var y={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:b};function w(z){return Object.prototype.toString.call(z)==="[object Array]"}function k(z){return Object.prototype.toString.call(z)==="[object Object]"}function I(z,P){for(var G=z.length;G-=1;)if(P(z[G]))return z[G]}function E(z,P){var G=0,le=z&&z.length||0,de;for(typeof P!="function"&&(de=P,P=function(Oe){return Oe===de});G<le;){if(P(z[G]))return z[G];G+=1}}function x(z,P){var G=0,le=z.length;if(!(!z||!le))for(;G<le;){if(P(z[G],G)===!1)return;G+=1}}function F(z,P){var G=0,le=z.length,de=[];if(!z||!le)return de;for(;G<le;)de[G]=P(z[G],G),G+=1;return de}function O(z,P){return F(z,function(G){return G[P]})}function M(z){var P=[];return x(z,function(G){G&&P.push(G)}),P}function H(z){var P=[];return x(z,function(G){E(P,G)||P.push(G)}),P}function T(z,P){var G=[];return x(z,function(le){x(P,function(de){le===de&&G.push(le)})}),H(G)}function C(z,P){var G=[];return x(z,function(le,de){if(!P(le))return G=z.slice(de),!1}),G}function R(z,P){var G=z.slice().reverse();return C(G,P).reverse()}function D(z,P){for(var G in P)P.hasOwnProperty(G)&&(z[G]=P[G]);return z}function S(z){var P=[];for(var G in z)z.hasOwnProperty(G)&&P.push(G);return P}function Q(z,P){var G=0,le=z.length;if(!z||!le)return!1;for(;G<le;){if(P(z[G],G)===!0)return!0;G+=1}return!1}function $(z){var P=[];return x(z,function(G){P=P.concat(G)}),P}function q(){var z=0;try{z.toLocaleString("i")}catch(P){return P.name==="RangeError"}return!1}function ie(z){return z(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6"}function ee(z){var P=!0;return P=P&&z(1,"en",{minimumIntegerDigits:1})==="1",P=P&&z(1,"en",{minimumIntegerDigits:2})==="01",P=P&&z(1,"en",{minimumIntegerDigits:3})==="001",!(!P||(P=P&&z(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100",P=P&&z(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0",P=P&&z(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99",P=P&&z(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990",!P)||(P=P&&z(99.99,"en",{maximumSignificantDigits:1})==="100",P=P&&z(99.99,"en",{maximumSignificantDigits:2})==="100",P=P&&z(99.99,"en",{maximumSignificantDigits:3})==="100",P=P&&z(99.99,"en",{maximumSignificantDigits:4})==="99.99",P=P&&z(99.99,"en",{maximumSignificantDigits:5})==="99.99",!P)||(P=P&&z(1e3,"en",{useGrouping:!0})==="1,000",P=P&&z(1e3,"en",{useGrouping:!1})==="1000",!P))}function K(){var z=[].slice.call(arguments),P={},G;if(x(z,function(ge,it){if(!it){if(!w(ge))throw"Expected array as the first argument to durationsFormat.";G=ge}if(typeof ge=="string"||typeof ge=="function"){P.template=ge;return}if(typeof ge=="number"){P.precision=ge;return}k(ge)&&D(P,ge)}),!G||!G.length)return[];P.returnMomentTypes=!0;var le=F(G,function(ge){return ge.format(P)}),de=T(a,H(O($(le),"type"))),Oe=P.largest;return Oe&&(de=de.slice(0,Oe)),P.returnMomentTypes=!1,P.outputTypes=de,F(G,function(ge){return ge.format(P)})}function se(){var z=[].slice.call(arguments),P=D({},this.format.defaults),G=this.asMilliseconds(),le=this.asMonths();typeof this.isValid=="function"&&this.isValid()===!1&&(G=0,le=0);var de=G<0,Oe=n.duration(Math.abs(G),"milliseconds"),ge=n.duration(Math.abs(le),"months");x(z,function(N){if(typeof N=="string"||typeof N=="function"){P.template=N;return}if(typeof N=="number"){P.precision=N;return}k(N)&&D(P,N)});var it={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},Re={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};P.types=a;var Lt=function(N){return E(a,function(Be){return Re[Be].test(N)})},Ye=new RegExp(F(a,function(N){return Re[N].source}).join("|"),"g");P.duration=this;var Xe=typeof P.template=="function"?P.template.apply(P):P.template,ne=P.outputTypes,pe=P.returnMomentTypes,Ce=P.largest,ce=[];ne||(w(P.stopTrim)&&(P.stopTrim=P.stopTrim.join("")),P.stopTrim&&x(P.stopTrim.match(Ye),function(N){var Be=Lt(N);Be==="escape"||Be==="general"||ce.push(Be)}));var xe=n.localeData();xe||(xe={}),x(S(y),function(N){if(typeof y[N]=="function"){xe[N]||(xe[N]=y[N]);return}xe["_"+N]||(xe["_"+N]=y[N])}),x(S(xe._durationTimeTemplates),function(N){Xe=Xe.replace("_"+N+"_",xe._durationTimeTemplates[N])});var Ie=P.userLocale||n.locale(),Ae=P.useLeftUnits,et=P.usePlural,Pe=P.precision,je=P.forceLength,Ne=P.useGrouping,Te=P.trunc,Ee=P.useSignificantDigits&&Pe>0,mt=Ee?P.precision:0,pt=mt,Ke=P.minValue,Ct=!1,qt=P.maxValue,zt=!1,Mt=P.useToLocaleString,fn=P.groupingSeparator,jt=P.decimalSeparator,on=P.grouping;Mt=Mt&&(r||i);var Tt=P.trim;w(Tt)&&(Tt=Tt.join(" ")),Tt===null&&(Ce||qt||Ee)&&(Tt="all"),(Tt===null||Tt===!0||Tt==="left"||Tt==="right")&&(Tt="large"),Tt===!1&&(Tt="");var wt=function(N){return N.test(Tt)},an=/large/,ct=/small/,ln=/both/,Wt=/mid/,Le=/^all|[^sm]all/,Rt=/final/,_t=Ce>0||Q([an,ln,Le],wt),On=Q([ct,ln,Le],wt),Ut=Q([Wt,Le],wt),pn=Q([Rt,Le],wt),Dn=F(Xe.match(Ye),function(N,Be){var Ge=Lt(N);return N.slice(0,1)==="*"&&(N=N.slice(1),Ge!=="escape"&&Ge!=="general"&&ce.push(Ge)),{index:Be,length:N.length,text:"",token:Ge==="escape"?N.replace(Re.escape,"$1"):N,type:Ge==="escape"||Ge==="general"?null:Ge}}),Jt={index:0,length:0,token:"",text:"",type:null},en=[];Ae&&Dn.reverse(),x(Dn,function(N){if(N.type){(Jt.type||Jt.text)&&en.push(Jt),Jt=N;return}Ae?Jt.text=N.token+Jt.text:Jt.text+=N.token}),(Jt.type||Jt.text)&&en.push(Jt),Ae&&en.reverse();var Ue=T(a,H(M(O(en,"type"))));if(!Ue.length)return O(en,"text").join("");Ue=F(Ue,function(N,Be){var Ge=Be+1===Ue.length,yt=!Be,wn;N==="years"||N==="months"?wn=ge.as(N):wn=Oe.as(N);var un=Math.floor(wn),ve=wn-un,ut=E(en,function(bt){return N===bt.type});return yt&&qt&&wn>qt&&(zt=!0),Ge&&Ke&&Math.abs(P.duration.as(N))<Ke&&(Ct=!0),yt&&je===null&&ut.length>1&&(je=!0),Oe.subtract(un,N),ge.subtract(un,N),{rawValue:wn,wholeValue:un,decimalValue:Ge?ve:0,isSmallest:Ge,isLargest:yt,type:N,tokenLength:ut.length}});var Ot=Te?Math.floor:Math.round,Cn=function(N,Be){var Ge=Math.pow(10,Be);return Ot(N*Ge)/Ge},vt=!1,Ft=!1,kn=function(N,Be){var Ge={useGrouping:Ne,groupingSeparator:fn,decimalSeparator:jt,grouping:on,useToLocaleString:Mt};return Ee&&(mt<=0?(N.rawValue=0,N.wholeValue=0,N.decimalValue=0):(Ge.maximumSignificantDigits=mt,N.significantDigits=mt)),zt&&!Ft&&(N.isLargest?(N.wholeValue=qt,N.decimalValue=0):(N.wholeValue=0,N.decimalValue=0)),Ct&&!Ft&&(N.isSmallest?(N.wholeValue=Ke,N.decimalValue=0):(N.wholeValue=0,N.decimalValue=0)),N.isSmallest||N.significantDigits&&N.significantDigits-N.wholeValue.toString().length<=0?Pe<0?N.value=Cn(N.wholeValue,Pe):Pe===0?N.value=Ot(N.wholeValue+N.decimalValue):Ee?(Te?N.value=Cn(N.rawValue,mt-N.wholeValue.toString().length):N.value=N.rawValue,N.wholeValue&&(mt-=N.wholeValue.toString().length)):(Ge.fractionDigits=Pe,Te?N.value=N.wholeValue+Cn(N.decimalValue,Pe):N.value=N.wholeValue+N.decimalValue):Ee&&N.wholeValue?(N.value=Math.round(Cn(N.wholeValue,N.significantDigits-N.wholeValue.toString().length)),mt-=N.wholeValue.toString().length):N.value=N.wholeValue,N.tokenLength>1&&(je||vt)&&(Ge.minimumIntegerDigits=N.tokenLength,Ft&&Ge.maximumSignificantDigits<N.tokenLength&&delete Ge.maximumSignificantDigits),!vt&&(N.value>0||Tt===""||E(ce,N.type)||E(ne,N.type))&&(vt=!0),N.formattedValue=f(N.value,Ge,Ie),Ge.useGrouping=!1,Ge.decimalSeparator=".",N.formattedValueEn=f(N.value,Ge,"en"),N.tokenLength===2&&N.type==="milliseconds"&&(N.formattedValueMS=f(N.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),N};if(Ue=F(Ue,kn),Ue=M(Ue),Ue.length>1){var rr=function(N){return E(Ue,function(Be){return Be.type===N})},Bn=function(N){var Be=rr(N.type);Be&&x(N.targets,function(Ge){var yt=rr(Ge.type);yt&&parseInt(Be.formattedValueEn,10)===Ge.value&&(Be.rawValue=0,Be.wholeValue=0,Be.decimalValue=0,yt.rawValue+=1,yt.wholeValue+=1,yt.decimalValue=0,yt.formattedValueEn=yt.wholeValue.toString(),Ft=!0)})};x(s,Bn)}return Ft&&(vt=!1,mt=pt,Ue=F(Ue,kn),Ue=M(Ue)),ne&&!(zt&&!P.trim)?(Ue=F(Ue,function(N){return E(ne,function(Be){return N.type===Be})?N:null}),Ue=M(Ue)):(_t&&(Ue=C(Ue,function(N){return!N.isSmallest&&!N.wholeValue&&!E(ce,N.type)})),Ce&&Ue.length&&(Ue=Ue.slice(0,Ce)),On&&Ue.length>1&&(Ue=R(Ue,function(N){return!N.wholeValue&&!E(ce,N.type)&&!N.isLargest})),Ut&&(Ue=F(Ue,function(N,Be){return Be>0&&Be<Ue.length-1&&!N.wholeValue?null:N}),Ue=M(Ue)),pn&&Ue.length===1&&!Ue[0].wholeValue&&!(!Te&&Ue[0].isSmallest&&Ue[0].rawValue<Ke)&&(Ue=[])),pe?Ue:(x(en,function(N){var Be=it[N.type],Ge=E(Ue,function(bt){return bt.type===N.type});if(!(!Be||!Ge)){var yt=Ge.formattedValueEn.split(".");yt[0]=parseInt(yt[0],10),yt[1]?yt[1]=parseFloat("0."+yt[1],10):yt[1]=null;var wn=xe.durationPluralKey(Be,yt[0],yt[1]),un=m(Be,xe),ve=!1,ut={};x(xe._durationLabelTypes,function(bt){var Zt=E(un,function(Xt){return Xt.type===bt.type&&Xt.key===wn});Zt&&(ut[Zt.type]=Zt.label,c(N.text,bt.string)&&(N.text=N.text.replace(bt.string,Zt.label),ve=!0))}),et&&!ve&&(un.sort(g),x(un,function(bt){if(ut[bt.type]===bt.label)return c(N.text,bt.label)?!1:void 0;if(c(N.text,bt.label))return N.text=N.text.replace(bt.label,ut[bt.type]),!1}))}}),en=F(en,function(N){if(!N.type)return N.text;var Be=E(Ue,function(yt){return yt.type===N.type});if(!Be)return"";var Ge="";return Ae&&(Ge+=N.text),(de&&zt||!de&&Ct)&&(Ge+="< ",zt=!1,Ct=!1),(de&&Ct||!de&&zt)&&(Ge+="> ",zt=!1,Ct=!1),de&&(Be.value>0||Tt===""||E(ce,Be.type)||E(ne,Be.type))&&(Ge+="-",de=!1),N.type==="milliseconds"&&Be.formattedValueMS?Ge+=Be.formattedValueMS:Ge+=Be.formattedValue,Ae||(Ge+=N.text),Ge}),en.join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function te(){var z=this.duration,P=function(de){return z._data[de]},G=E(this.types,P),le=I(this.types,P);switch(G){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(G===le)return"d __";case"weeks":return G===le?"w __":(this.trim===null&&(this.trim="both"),"w __, d __, h __");case"months":if(G===le)return"M __";case"years":return G===le?"y __":(this.trim===null&&(this.trim="both"),"y __, M __, d __");default:return this.trim===null&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function ue(z){if(!z)throw"Moment Duration Format init cannot find moment instance.";z.duration.format=K,z.duration.fn.format=se,z.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:te,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},z.updateLocale("en",y)}var fe=function(z,P,G){return z.toLocaleString(P,G)};r=q()&&ee(fe),o=r&&ie(fe);var ae=function(z,P,G){if(typeof window<"u"&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(P,G).format(z)};return i=ee(ae),l=i&&ie(ae),ue(n),ue})}(pl)),pl.exports}k0();const S0=["true","t","yes","y","on","1"],M0=["false","f","no","n","off","0"];function Et(e,t=""){return{kind:Z.Text,readonly:!0,allowOverlay:!0,data:e,displayData:e,errorDetails:t,isError:!0,style:"faded"}}function ao(e){return Object.hasOwn(e,"isError")&&e.isError}function R0(e){return Object.hasOwn(e,"tooltip")&&e.tooltip!==""}function Fi(e){return Object.hasOwn(e,"isMissingValue")&&e.isMissingValue}function gl(e=!1){return e?{kind:Z.Loading,allowOverlay:!1,isMissingValue:!0,copyData:""}:{kind:Z.Loading,allowOverlay:!1,copyData:""}}function E0(e,t){const n=t?"faded":"normal";return{kind:Z.Text,data:"",displayData:"",allowOverlay:!0,readonly:e,style:n}}function ml(e){return{id:e.id,title:e.title,hasMenu:!1,menuIcon:"dots",themeOverride:e.themeOverride,icon:e.icon,group:e.group,...e.isStretched&&!e.isPinned&&{grow:1},...e.width&&{width:e.width}}}function Uo(e,t){return _e(e)?t||{}:_e(t)?e||{}:Ah(e,t)}function Fu(e){if(_e(e))return[];if(typeof e=="number"||typeof e=="boolean")return[e];if(e instanceof Uint8Array&&(e=new TextDecoder("utf-8").decode(e)),typeof e=="string"){if(e==="")return[];if(e.trim().startsWith("[")&&e.trim().endsWith("]"))try{return JSON.parse(e)}catch{return[e]}else return e.split(",")}try{const t=JSON.parse(JSON.stringify(e,(n,r)=>typeof r=="bigint"?Number(r):r));return Array.isArray(t)?t.map(n=>["string","number","boolean","null"].includes(typeof n)?n:ft(n)):[ft(t)]}catch{return[ft(e)]}}function I0(e){return e&&e.startsWith("{")&&e.endsWith("}")}function ft(e){try{try{return x0(e)}catch{return JSON.stringify(e,(t,n)=>typeof n=="bigint"?Number(n):n)}}catch{return`[${typeof e}]`}}function Hu(e){if(_e(e))return null;if(typeof e=="boolean")return e;const t=ft(e).toLowerCase().trim();if(t==="")return null;if(S0.includes(t))return!0;if(M0.includes(t))return!1}function Xo(e){if(_e(e))return null;if(Array.isArray(e))return NaN;if(typeof e=="string"){if(e.trim().length===0)return null;try{const t=fi.unformat(e.trim());if(st(t))return t}catch{}}else if(e instanceof Int32Array)return Number(e[0]);return Number(e)}function Hi(e){if(_e(e))return"";if(typeof e=="string")return e;try{return JSON.stringify(e,(t,n)=>typeof n=="bigint"?Number(n):n)}catch{return ft(e)}}function T0(e){if(e===0||Math.abs(e)>=1e-4)return 4;const t=e.toExponential().split("e");return Math.abs(parseInt(t[1],10))}function _r(e,t={}){const n=navigator.languages;try{return new Intl.NumberFormat(n,t).format(e)}catch(r){if(r instanceof RangeError)return new Intl.NumberFormat(void 0,t).format(e);throw r}}function Ai(e,t,n){return Number.isNaN(e)||!Number.isFinite(e)?"":_e(t)||t===""?st(n)?(n===0&&(e=Math.round(e)),fi(e).format({thousandSeparated:!1,mantissa:n,trimMantissa:!1})):fi(e).format({thousandSeparated:!1,mantissa:T0(e),trimMantissa:!0}):t==="plain"?fi(e).format({thousandSeparated:!1,mantissa:20,trimMantissa:!0}):t==="localized"?_r(e,{minimumFractionDigits:n??void 0,maximumFractionDigits:n??void 0}):t==="percent"?_r(e,{style:"percent",minimumFractionDigits:st(n)?Math.max(n-2,0):0,maximumFractionDigits:st(n)?Math.max(n-2,0):2}):t==="dollar"?_r(e,{style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumFractionDigits:n??2,maximumFractionDigits:n??2}):t==="euro"?_r(e,{style:"currency",currency:"EUR",minimumFractionDigits:n??2,maximumFractionDigits:n??2}):t==="yen"?_r(e,{style:"currency",currency:"JPY",minimumFractionDigits:n??0,maximumFractionDigits:n??0}):["compact","scientific","engineering"].includes(t)?_r(e,{notation:t}):t==="accounting"?fi(e).format({thousandSeparated:!0,negative:"parenthesis",mantissa:n??2,trimMantissa:!1}):t==="bytes"?_r(e,{notation:"compact",style:"unit",unit:"byte",unitDisplay:"narrow",maximumFractionDigits:1}).replace("BB","GB"):cC.sprintf(t,e)}function Au(e,t,n="datetime"){if(t==="localized"){const r=navigator.languages,o=n==="time"?void 0:"medium",i=n==="date"?void 0:"medium";try{return new Intl.DateTimeFormat(r,{dateStyle:o,timeStyle:i}).format(e.toDate())}catch(l){if(l instanceof RangeError)return new Intl.DateTimeFormat(void 0,{dateStyle:o,timeStyle:i}).format(e.toDate());throw l}}else{if(t==="distance")return e.fromNow();if(t==="calendar")return e.calendar();if(t==="iso8601")return n==="date"?e.format("YYYY-MM-DD"):n==="time"?e.format("HH:mm:ss.SSS[Z]"):e.toISOString()}return e.format(t)}function Li(e){if(_e(e))return null;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;if(typeof e=="string"&&e.trim().length===0)return null;try{const t=Number(e);if(!isNaN(t)){let n=t;t>=10**18?n=t/1e3**3:t>=10**15?n=t/1e3**2:t>=10**12&&(n=t/1e3);const r=Zr.unix(n).utc();if(r.isValid())return r.toDate()}if(typeof e=="string"){const n=Zr.utc(e);if(n.isValid())return n.toDate();const r=Zr.utc(e,[Zr.HTML5_FMT.TIME_MS,Zr.HTML5_FMT.TIME_SECONDS,Zr.HTML5_FMT.TIME]);if(r.isValid())return r.toDate()}}catch{return}}function Lu(e){if(e%1===0)return 0;let t=e.toString();return t.indexOf("e")!==-1&&(t=e.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20})),t.indexOf(".")===-1?0:t.split(".")[1].length}function O0(e,t){if(!Number.isFinite(e))return e;if(t<=0)return Math.trunc(e);const n=10**t,r=e*n,o=Number.EPSILON*Math.abs(r)*10;return Math.trunc(r+Math.sign(r)*o)/n}const D0=new RegExp(/(\r\n|\n|\r)/gm);function Go(e){return e.indexOf(`
`)!==-1?e.replace(D0," "):e}function P0(e,t){if(_e(t))return"";try{const n=t.match(e);return n&&n[1]!==void 0?decodeURIComponent(n[1].replace(/\+/g,"%20")):t}catch{return t}}const F0=Un("div",{target:"en99xsi0"})(({theme:e})=>({overflowY:"auto",padding:e.spacing.sm,".react-json-view .copy-icon svg":{fontSize:"0.9em !important",marginRight:`${e.spacing.threeXS} !important`,verticalAlign:"middle !important"}}),""),vl=({jsonValue:e,theme:t})=>{let n;if(e)try{n=typeof e=="string"?bs.parse(e):bs.parse(bs.stringify(e))}catch{n=void 0}return _e(n)?ye.jsx(Fr,{highlight:!0,autoFocus:!1,disabled:!0,value:Hi(e)??"",onChange:()=>{}}):ye.jsx(F0,{"data-testid":"stJsonColumnViewer",children:ye.jsx(Qy,{src:n,collapsed:2,theme:Jy(t.bgCell)>.5?"rjv-default":"monokai",displayDataTypes:!1,displayObjectSize:!1,name:!1,enableClipboard:!0,style:{fontFamily:t.fontFamily,fontSize:t.baseFontStyle,backgroundColor:t.bgCell,whiteSpace:"pre-wrap"}})})};d.memo(vl);const H0=e=>{const t=e.theme,n=e.value.data;return ye.jsx(vl,{jsonValue:n.value||n.displayValue,theme:t})},A0=e=>{const t=e.theme,n=e.value;return ye.jsx(vl,{jsonValue:n.data,theme:t})},L0={kind:Z.Custom,isMatch:e=>e.data.kind==="json-cell",draw:(e,t)=>{const{value:n,displayValue:r}=t.data;return $a(e,r??Hi(n)??"",t.contentAlign),!0},measure:(e,t,n)=>{const{value:r,displayValue:o}=t.data,i=o??Hi(r)??"";return(i?e.measureText(i).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:H0})},zu="line_chart",z0="area_chart",_u="bar_chart";function bl(e,t,n){const r=Uo({y_min:null,y_max:null},t.columnTypeOptions),o={kind:Z.Custom,allowOverlay:!1,copyData:"",contentAlign:t.contentAlignment,data:{kind:"sparkline-cell",values:[],displayValues:[],graphKind:n,yAxis:[r.y_min??0,r.y_max??1]}};return{...t,kind:e,typeIcon:e===zu?":material/show_chart:":e===_u?":material/bar_chart:":":material/area_chart:",sortMode:"default",isEditable:!1,getCell(i){if(_e(i))return gl();const l=Fu(i),a=[];let s=[];if(l.length===0)return gl();let c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER;for(let f=0;f<l.length;f++){const g=Xo(l[f]);if(Number.isNaN(g)||_e(g))return Et(ft(l),`The value cannot be interpreted as a numeric array. ${ft(g)} is not a number.`);g>c&&(c=g),g<u&&(u=g),a.push(g)}let h,p;if(l.length===1){let f;c<=0?f=c===0?1:0:f=c,h=r.y_max??f,p=r.y_min??(c>=0?0:c)}else h=r.y_max??c,p=r.y_min??u;return _e(p)||_e(h)||Number.isNaN(p)||Number.isNaN(h)||p>=h?Et("Invalid min/max y-axis configuration",`The y_min (${p}) and y_max (${h}) configuration options must be valid numbers.`):(a.length>0&&(c>h||u<p)?s=a.map(f=>c-u===0?c>(h||1)?h:p:(h-p)*((f-u)/(c-u))+p):s=a,{...o,copyData:a.join(","),data:{...o.data,values:s,displayValues:a.map(f=>Ai(f)),yAxis:[p,h]},isMissingValue:_e(i)})},getCellValue(i){return i.kind===Z.Loading||i.data?.values===void 0?null:i.data?.values}}}function Vu(e){return bl(zu,e,"line")}Vu.isEditableType=!1;function Nu(e){return bl(_u,e,"bar")}Nu.isEditableType=!1;function Bu(e){return bl(z0,e,"area")}Bu.isEditableType=!1;function wl(e){const t={kind:Z.Boolean,data:!1,allowOverlay:!1,contentAlign:e.contentAlignment,readonly:!e.isEditable,style:"normal"};return{...e,kind:"checkbox",typeIcon:":material/check_box:",sortMode:"default",getCell(n){let r=null;return r=Hu(n),r===void 0?Et(ft(n),"The value cannot be interpreted as boolean."):{...t,data:r,isMissingValue:_e(r)}},getCellValue(n){return n.data===void 0?null:n.data}}}wl.isEditableType=!0;function Wu(e,t){return t.startsWith("+")||t.startsWith("-")?e=e.utcOffset(t,!1):e=e.tz(t),e}function yl(e,t,n,r,o,i,l){const a=Uo({format:n,step:r,timezone:l},t.columnTypeOptions);let s;if(st(a.timezone))try{s=Wu(Lh(),a.timezone)?.utcOffset()||void 0}catch{}let c;st(a.min_value)&&(c=Li(a.min_value)||void 0);let u;st(a.max_value)&&(u=Li(a.max_value)||void 0);const h={kind:Z.Custom,allowOverlay:!0,copyData:"",readonly:!t.isEditable,contentAlign:t.contentAlignment,style:t.isPinned?"faded":"normal",data:{kind:"date-picker-cell",date:void 0,displayDate:"",step:a.step?.toString()||"1",format:o,min:c,max:u}},p=f=>{const g=Li(f);return g===null?!t.isRequired:!(g===void 0||st(c)&&i(g)<i(c)||st(u)&&i(g)>i(u))};return{...t,kind:e,typeIcon:e==="date"?":material/calendar_month:":e==="time"?":material/access_time:":":material/calendar_today:",sortMode:"default",validateInput:p,getCell(f,g){if(g===!0){const k=p(f);if(k===!1)return Et(ft(f),"Invalid input.");k instanceof Date&&(f=k)}const m=Li(f);let b="",y="",w=s;if(m===void 0)return Et(ft(f),"The value cannot be interpreted as a datetime object.");if(m!==null){let k=Lh.utc(m);if(!k.isValid())return Et(ft(m),`Invalid moment date. This should never happen. Please report this bug. 
Error: ${k.toString()}`);if(a.timezone){try{k=Wu(k,a.timezone)}catch(I){return Et(k.toISOString(),`Failed to adjust to the provided timezone: ${a.timezone}. 
Error: ${I}`)}w=k.utcOffset()}try{y=Au(k,a.format||n,e)}catch(I){return Et(k.toISOString(),`Failed to format the date for rendering with: ${a.format}. 
Error: ${I}`)}b=Au(k,n,e)}return{...h,copyData:b,isMissingValue:_e(m),data:{...h.data,date:m,displayDate:y,timezoneOffset:w}}},getCellValue(f){return _e(f?.data?.date)?null:i(f.data.date)}}}function xl(e){let t="YYYY-MM-DD HH:mm:ss";e.columnTypeOptions?.step>=60?t="YYYY-MM-DD HH:mm":e.columnTypeOptions?.step<1&&(t="YYYY-MM-DD HH:mm:ss.SSS");const n=ex(e.arrowType),r=st(n)||st(e?.columnTypeOptions?.timezone);return yl("datetime",e,r?t+"Z":t,1,"datetime-local",o=>r?o.toISOString():o.toISOString().replace("Z",""),n)}xl.isEditableType=!0;function Cl(e){let t="HH:mm:ss";return e.columnTypeOptions?.step>=60?t="HH:mm":e.columnTypeOptions?.step<1&&(t="HH:mm:ss.SSS"),yl("time",e,t,1,"time",n=>n.toISOString().split("T")[1].replace("Z",""))}Cl.isEditableType=!0;function kl(e){return yl("date",e,"YYYY-MM-DD",1,"date",t=>t.toISOString().split("T")[0])}kl.isEditableType=!0;function $u(e){const t={kind:Z.Image,data:[],displayData:[],readonly:!0,allowOverlay:!0,contentAlign:e.contentAlignment||"center",style:"normal"};return{...e,kind:"image",typeIcon:":material/image:",sortMode:"default",isEditable:!1,getCell(n){const r=st(n)?[ft(n)]:[];return{...t,data:r,isMissingValue:!st(n),displayData:r}},getCellValue(n){return n.data===void 0||n.data.length===0?null:n.data[0]}}}$u.isEditableType=!1;function ju(e){const t={kind:Z.Custom,allowOverlay:!0,contentAlign:e.contentAlignment,readonly:!0,style:e.isPinned?"faded":"normal",copyData:"",data:{kind:"json-cell",value:""}};return{...e,kind:"json",typeIcon:":material/code_blocks:",sortMode:"default",isEditable:!1,getCell(n){try{const r=st(n)?Go(Hi(n)):"";return{...t,copyData:r,isMissingValue:_e(n),data:{...t.data,value:n,displayValue:r}}}catch(r){return Et(ft(n),`The value cannot be interpreted as a JSON string. Error: ${r}`)}},getCellValue(n){return n.data?.value??null}}}ju.isEditableType=!1;function Uu(e){const t=e.columnTypeOptions||{};let n;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(s){n=`Invalid validate regex: ${t.validate}.
Error: ${s}`}let r=!1,o=t.display_text,i;if(!_e(o)){if(o.startsWith(":material/")&&tx(o))o=nx(o).icon,r=!0;else if(o.includes("(")&&o.includes(")"))try{i=new RegExp(o,"us")}catch{i=void 0}}const l={kind:Z.Uri,readonly:!e.isEditable,allowOverlay:!r,contentAlign:e.contentAlignment??(r?"center":void 0),style:"normal",hoverEffect:!0,data:"",displayData:"",copyData:"",...r&&{themeOverride:{fontFamily:rx.iconFont,linkColor:void 0}}},a=s=>{if(_e(s))return!e.isRequired;const c=ft(s);return!(t.max_chars&&c.length>t.max_chars||n instanceof RegExp&&n.test(c)===!1)};return{...e,kind:"link",typeIcon:":material/link:",sortMode:"default",validateInput:a,getCell(s,c){if(_e(s))return{...l,data:null,isMissingValue:!0,onClickUri:()=>{},themeOverride:void 0};const u=s;if(typeof n=="string")return Et(ft(u),n);if(c&&a(u)===!1)return Et(ft(u),"Invalid input.");let h="";return u&&(i!==void 0?h=P0(i,u):h=o||u),{...l,data:u,displayData:h,isMissingValue:_e(u),onClickUri:p=>{window.open(u.startsWith("www.")?`https://${u}`:u,"_blank","noopener,noreferrer"),p.preventDefault()},copyData:u}},getCellValue(s){return _e(s.data)?null:s.data}}}Uu.isEditableType=!0;function Sl(e){const t={kind:Z.Bubble,data:[],allowOverlay:!0,contentAlign:e.contentAlignment,style:"normal"};return{...e,kind:"list",sortMode:"default",typeIcon:":material/list:",isEditable:!1,getCell(n){const r=_e(n)?[]:Fu(n);return{...t,data:r,isMissingValue:_e(n),copyData:_e(n)?"":ft(r.map(o=>typeof o=="string"&&o.includes(",")?o.replace(/,/g," "):o))}},getCellValue(n){return _e(n.data)||Fi(n)?null:n.data}}}Sl.isEditableType=!1;function Ml(e){const t=Uo({step:zh(e.arrowType)?1:void 0,min_value:ox(e.arrowType)?0:void 0},e.columnTypeOptions),n=!t.format&&(ix(e.arrowType)||ax(e.arrowType)),r=_e(t.min_value)||t.min_value<0,o=st(t.step)&&!Number.isNaN(t.step)?Lu(t.step):void 0,i={kind:Z.Number,data:void 0,displayData:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment||n?"left":"right",style:e.isPinned?"faded":"normal",allowNegative:r,fixedDecimals:o,thousandSeparator:""},l=a=>{let s=Xo(a);if(_e(s))return!e.isRequired;if(Number.isNaN(s))return!1;let c=!1;return st(t.max_value)&&s>t.max_value&&(s=t.max_value,c=!0),st(t.min_value)&&s<t.min_value?!1:c?s:!0};return{...e,kind:"number",sortMode:"smart",typeIcon:":material/tag:",validateInput:l,getCell(a,s){if(s===!0){const h=l(a);if(h===!1)return Et(ft(a),"Invalid input.");typeof h=="number"&&(a=h)}let c=Xo(a),u="";if(st(c)){if(Number.isNaN(c))return Et(ft(a),"The value cannot be interpreted as a number.");if(st(o)&&(c=O0(c,o)),Number.isInteger(c)&&!Number.isSafeInteger(c))return Et(ft(a),"The value is larger than the maximum supported integer values in number columns (2^53).");try{n?u=ws(c,e.arrowType):u=Ai(c,t.format,o)}catch(h){return Et(ft(c),st(t.format)?`Failed to format the number based on the provided format configuration: (${t.format}). Error: ${h}`:`Failed to format the number. Error: ${h}`)}}return{...i,data:c,displayData:u,isMissingValue:_e(c),copyData:_e(c)?"":ft(c)}},getCellValue(a){return a.data===void 0?null:a.data}}}Ml.isEditableType=!0;function Yo(e){const t={kind:Z.Text,data:"",displayData:"",allowOverlay:!0,contentAlign:e.contentAlignment,allowWrapping:e.isWrappingAllowed,readonly:!0,style:e.isPinned?"faded":"normal"};return{...e,kind:"object",sortMode:"default",typeIcon:":material/data_object:",isEditable:!1,getCell(n){try{const r=st(n)?ft(n):null,o=st(r)?Go(r):"";return{...t,data:r,displayData:o,isMissingValue:_e(n)}}catch(r){return Et(ft(n),`The value cannot be interpreted as a string. Error: ${r}`)}},getCellValue(n){return n.data===void 0?null:n.data}}}Yo.isEditableType=!1;function Xu(e){const t=zh(e.arrowType),n=Uo({min_value:0,max_value:t?100:1,format:t?"%3d%%":"percent",step:t?1:void 0},e.columnTypeOptions),r=_e(n.step)||Number.isNaN(n.step)?void 0:Lu(n.step);let o;try{o=Ai(n.max_value,n.format,r)}catch{o=ft(n.max_value)}const i={kind:Z.Custom,allowOverlay:!1,copyData:"",contentAlign:e.contentAlignment,readonly:!0,data:{kind:"range-cell",min:n.min_value,max:n.max_value,step:n.step??.01,value:n.min_value,label:String(n.min_value),measureLabel:o}};return{...e,kind:"progress",sortMode:"smart",typeIcon:":material/commit:",isEditable:!1,getCell(l){if(_e(l))return gl();if(_e(n.min_value)||_e(n.max_value)||Number.isNaN(n.min_value)||Number.isNaN(n.max_value)||n.min_value>=n.max_value)return Et("Invalid min/max parameters",`The min_value (${n.min_value}) and max_value (${n.max_value}) parameters must be valid numbers.`);if(st(n.step)&&Number.isNaN(n.step))return Et("Invalid step parameter",`The step parameter (${n.step}) must be a valid number.`);const a=Xo(l);if(Number.isNaN(a)||_e(a))return Et(ft(l),"The value cannot be interpreted as a number.");if(Number.isInteger(a)&&!Number.isSafeInteger(a))return Et(ft(l),"The value is larger than the maximum supported integer values in number columns (2^53).");let s="";try{s=Ai(a,n.format,r)}catch(u){return Et(ft(a),st(n.format)?`Failed to format the number based on the provided format configuration: (${n.format}). Error: ${u}`:`Failed to format the number. Error: ${u}`)}const c=Math.min(n.max_value,Math.max(n.min_value,a));return{...i,isMissingValue:_e(l),copyData:String(a),data:{...i.data,value:c,label:s,measureLabel:s.length>o.length?s:o}}},getCellValue(l){return l.kind===Z.Loading||l.data?.value===void 0?null:l.data?.value}}}Xu.isEditableType=!1;function Rl(e){let t="string";const n=Uo({options:_h(e.arrowType)?[!0,!1]:e.arrowType.categoricalOptions??[]},e.columnTypeOptions),r=new Set(n.options.map(i=>typeof i));r.size===1&&(r.has("number")||r.has("bigint")?t="number":r.has("boolean")&&(t="boolean"));const o={kind:Z.Custom,allowOverlay:!0,copyData:"",contentAlign:e.contentAlignment,readonly:!e.isEditable,style:e.isPinned?"faded":"normal",data:{kind:"dropdown-cell",allowedValues:[...e.isRequired!==!0?[null]:[],...n.options.filter(i=>i!==null&&i!=="").map(i=>ft(i))],value:""}};return{...e,kind:"selectbox",sortMode:"default",typeIcon:":material/arrow_drop_down_circle:",getCell(i,l){let a=null;return st(i)&&i!==""&&(a=ft(i)),l&&!o.data.allowedValues.includes(a)?Et(ft(a),"The value is not part of the allowed options."):{...o,isMissingValue:a===null,copyData:a||"",data:{...o.data,value:a}}},getCellValue(i){return _e(i.data?.value)||i.data?.value===""?null:t==="number"?Xo(i.data?.value)??null:t==="boolean"?Hu(i.data?.value)??null:i.data?.value}}}Rl.isEditableType=!0;function El(e){const t=e.columnTypeOptions||{};let n;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(i){n=`Invalid validate regex: ${t.validate}.
Error: ${i}`}const r={kind:Z.Text,data:"",displayData:"",allowOverlay:!0,contentAlign:e.contentAlignment,allowWrapping:e.isWrappingAllowed,readonly:!e.isEditable,style:e.isPinned?"faded":"normal"},o=i=>{if(_e(i))return!e.isRequired;let l=ft(i),a=!1;return t.max_chars&&l.length>t.max_chars&&(l=l.slice(0,t.max_chars),a=!0),n instanceof RegExp&&n.test(l)===!1?!1:a?l:!0};return{...e,kind:"text",sortMode:"default",typeIcon:":material/notes:",validateInput:o,getCell(i,l){if(typeof n=="string")return Et(ft(i),n);if(l){const a=o(i);if(a===!1)return Et(ft(i),"Invalid input.");typeof a=="string"&&(i=a)}try{const a=st(i)?ft(i):null,s=st(a)?Go(a):"";return{...r,isMissingValue:_e(a),data:a,displayData:s}}catch(a){return Et("Incompatible value",`The value cannot be interpreted as string. Error: ${a}`)}},getCellValue(i){return i.data===void 0?null:i.data}}}El.isEditableType=!0;const Gu=Un("img",{target:"e24uaba0"})({name:"6eya2z",styles:"max-width:100%;max-height:37.5rem;object-fit:scale-down"}),_0=({urls:e})=>{const t=e&&e.length>0?e[0]:"";return t.startsWith("http")?ye.jsx("a",{href:t,target:"_blank",rel:"noreferrer noopener",children:ye.jsx(Gu,{src:t})}):ye.jsx(Gu,{src:t})},Yu=new Map(Object.entries({object:Yo,text:El,checkbox:wl,selectbox:Rl,list:Sl,number:Ml,link:Uu,datetime:xl,date:kl,time:Cl,line_chart:Vu,bar_chart:Nu,area_chart:Bu,image:$u,progress:Xu,json:ju})),V0=[L0];var N0=Vh();const B0=lr(N0);var Il,Ku;function W0(){if(Ku)return Il;Ku=1;var e=lx(),t=sx(),n=cx(),r=Vh(),o=ux(),i=dx(),l=hx(),a=fx(),s="[object Map]",c="[object Set]",u=Object.prototype,h=u.hasOwnProperty;function p(f){if(f==null)return!0;if(o(f)&&(r(f)||typeof f=="string"||typeof f.splice=="function"||i(f)||a(f)||n(f)))return!f.length;var g=t(f);if(g==s||g==c)return!f.size;if(l(f))return!e(f).length;for(var m in f)if(h.call(f,m))return!1;return!0}return Il=p,Il}var $0=W0();const j0=lr($0);function Tl(e,t,n){if(!n.includes(t))return;const r=new RegExp(`${e}[,\\s].*{(?:[^}]*[\\s;]{1})?${t}:\\s*([^;}]+)[;]?.*}`,"gm");n=n.replace(/{/g," {");const o=r.exec(n);if(o)return o[1].trim()}function U0(e,t,n){const r={};if(!n.includes(t))return e;const o=Tl(t,"color",n);o&&(r.textDark=o,e.kind===Z.Bubble&&(r.textBubble=o),e.kind===Z.Uri&&(r.linkColor=o));const i=Tl(t,"background-color",n);i&&(r.bgCell=i),i==="yellow"&&o===void 0&&(r.textDark="#31333F");const l=Tl(t,"font-weight",n);return l&&(r.baseFontStyle=`${l} ${Ix.sm}`),r?{...e,themeOverride:r}:e}function X0(e){return wx(e)||yx(e)?El:xx(e)?xl:Nh(e)?Cl:Cx(e)?kl:kx(e)||Sx(e)?Yo:_h(e)?wl:Mx(e)?Ml:Rx(e)?Rl:Ex(e)?Sl:Yo}function qu(e){const t=e.length>0?e[e.length-1]:"",n=e.length>1?e.slice(0,-1).filter(r=>r!=="").join(" / "):void 0;return{title:t,group:n}}function Ol(e){return{group:void 0,isEditable:!1,isIndex:!1,isPinned:!1,isHidden:!1,isStretched:!1,...e}}function G0(e,t){const n=e.columnNames.map(a=>a[t]),{title:r,group:o}=qu(n),i=e.columnTypes[t];let l=!0;return bx(i)&&(l=!1),Ol({id:`_index-${t}`,indexNumber:t,name:r,title:r,group:o,isEditable:l,arrowType:i,isIndex:!0,isPinned:!0})}function Y0(e,t){const n=e.columnNames.map(l=>l[t]),{title:r,group:o}=qu(n),i=e.columnTypes[t];return Ol({id:`_column-${r}-${t}`,indexNumber:t,name:r,isEditable:!0,title:r,arrowType:i,group:o})}function Zu(){return Ol({id:"_empty-index",indexNumber:0,title:"",name:"",isEditable:!1,isIndex:!0,isPinned:!0,arrowType:{type:Tx.INDEX,arrowField:new px("",new gx,!0),pandasType:void 0}})}function Qu(e){const t=[],{dimensions:n}=e,r=n.numIndexColumns,o=n.numDataColumns;if(r===0&&o===0)return t.push(Zu()),t;for(let i=0;i<r;i++)t.push(G0(e,i));for(let i=0;i<o;i++)t.push(Y0(e,i+r));return t}function K0(e,t,n,r=void 0){let o;if(e.kind==="object"||e.kind==="json")o=e.getCell(st(t.content)?Go(ws(t.content,t.contentType)):null);else if(["time","date","datetime"].includes(e.kind)&&st(t.content)&&(typeof t.content=="number"||typeof t.content=="bigint")){let i;Nh(t.contentType)&&st(t.field?.type?.unit)?i=mx(t.content,t.field):i=Zr.utc(Number(t.content)).toDate(),o=e.getCell(i)}else if(vx(t.contentType)){const i=_e(t.content)?null:ws(t.content,t.contentType);o=e.getCell(i)}else o=e.getCell(t.content);if(ao(o))return o;if(!e.isEditable){if(n&&st(n?.displayContent)){const i=Go(n.displayContent);o.kind===Z.Text?o={...o,displayData:i}:o.kind===Z.Number&&_e(e.columnTypeOptions?.format)?o={...o,displayData:i}:o.kind===Z.Uri&&_e(e.columnTypeOptions?.display_text)?o={...o,displayData:i}:o.kind===Z.Custom&&o.data?.kind==="date-picker-cell"&&_e(e.columnTypeOptions?.format)&&(o={...o,data:{...o.data,displayDate:i}})}r&&n?.cssId&&(o=U0(o,n.cssId,r))}return o}const zi="_index",Ju="_pos:",ed={small:75,medium:200,large:400},td=ba.getLogger("useColumnLoader");function q0(e){if(!_e(e)){if(typeof e=="number")return e;if(e in ed)return ed[e]}}const _i=(e,t)=>sC(e,t,(n,r)=>{if(B0(r))return r});function nd(e,t){if(!t)return e;let n={};return e.isIndex&&t.has(zi)&&(n=_i(n,t.get(zi)??{})),t.has(`${Ju}${e.indexNumber}`)&&(n=_i(n,t.get(`${Ju}${e.indexNumber}`)??{})),t.has(e.name)&&e.name!==zi&&(n=_i(n,t.get(e.name)??{})),t.has(e.id)&&(n=_i(n,t.get(e.id)??{})),j0(n)?e:Ah({...e},{title:n.label,width:q0(n.width),isEditable:st(n.disabled)?!n.disabled:void 0,isHidden:n.hidden,isPinned:n.pinned,isRequired:n.required,columnTypeOptions:n.type_config,contentAlignment:n.alignment,defaultValue:n.default,help:n.help})}function Z0(e){if(!e)return new Map;try{return new Map(Object.entries(JSON.parse(e)))}catch(t){return td.error(t),new Map}}function rd(e){const t=e.columnTypeOptions?.type;let n;return st(t)&&(Yu.has(t)?n=Yu.get(t):td.warn(`Unknown column type configured in column configuration: ${t}`)),_e(n)&&(n=X0(e.arrowType)),n}function Q0(e,t,n,r){const o=Qr(),i=d.useMemo(()=>Z0(e.columns),[e.columns]),[l,a]=d.useState(i);d.useEffect(()=>{a(i)},[i]);const s=e.useContainerWidth||st(e.width)&&e.width>0,c=st(e.rowHeight)&&e.rowHeight>cn("4rem"),u=d.useMemo(()=>Qu(t).map(h=>{let p={...h,...nd(h,l),isStretched:s};const f=rd(p);return(e.editingMode===xn.EditingMode.READ_ONLY||n||f.isEditableType===!1)&&(p={...p,isEditable:!1}),e.editingMode!==xn.EditingMode.READ_ONLY&&p.isEditable==!0&&(p={...p,icon:"editable"},p.isRequired&&e.editingMode===xn.EditingMode.DYNAMIC&&(p={...p,isHidden:!1})),f(p,o)}),[t,l,s,e.editingMode,n,o]);return{columns:d.useMemo(()=>{const h=Qu(t).map(m=>{let b={...m,...nd(m,l),isStretched:s,isWrappingAllowed:c};const y=rd(b);return(e.editingMode===xn.EditingMode.READ_ONLY||n||y.isEditableType===!1)&&(b={...b,isEditable:!1}),e.editingMode!==xn.EditingMode.READ_ONLY&&b.isEditable==!0&&(b={...b,icon:"editable"},b.isRequired&&e.editingMode===xn.EditingMode.DYNAMIC&&(b={...b,isHidden:!1})),y(b,o)}).filter(m=>!m.isHidden),p=[],f=[];r?.length?(h.forEach(m=>{m.isIndex&&!r.includes(m.name)&&!r.includes(m.id)&&m.isPinned!==!1&&p.push(m)}),r.forEach(m=>{const b=h.find(y=>y.name===m||y.id===m);b&&(b.isPinned?p.push(b):f.push(b))})):h.forEach(m=>{m.isPinned?p.push(m):f.push(m)});const g=[...p,...f];return g.length>0?g:[Yo(Zu())]},[t,l,c,s,n,e.editingMode,r,o]),allColumns:u,setColumnConfigMapping:a}}function Ko(e){return e.isIndex?zi:_e(e.name)?"":e.name}class Vi{constructor(t){this.editedCells=new Map,this.addedRows=[],this.deletedRows=[],this.numRows=0,this.numRows=t}toJson(t){const n=new Map;t.forEach(o=>{n.set(o.indexNumber,o)});const r={edited_rows:{},added_rows:[],deleted_rows:[]};return this.editedCells.forEach((o,i,l)=>{const a={};o.forEach((s,c)=>{const u=n.get(c);u&&(a[Ko(u)]=u.getCellValue(s))}),r.edited_rows[i]=a}),this.addedRows.forEach(o=>{const i={};let l=!1;o.forEach((a,s,c)=>{const u=n.get(s);if(u){const h=u.getCellValue(a);u.isRequired&&u.isEditable&&Fi(a)&&(l=!0),st(h)&&(i[Ko(u)]=h)}}),l||r.added_rows.push(i)}),r.deleted_rows=this.deletedRows,JSON.stringify(r,(o,i)=>i===void 0?null:i)}fromJson(t,n){this.editedCells=new Map,this.addedRows=[],this.deletedRows=[];const r=JSON.parse(t),o=new Map;n.forEach(l=>{o.set(l.indexNumber,l)});const i=new Map;n.forEach(l=>{i.set(Ko(l),l)}),Object.keys(r.edited_rows).forEach(l=>{const a=Number(l),s=r.edited_rows[l];Object.keys(s).forEach(c=>{const u=s[c],h=i.get(c);if(h){const p=h.getCell(u);p&&(this.editedCells.has(a)||this.editedCells.set(a,new Map),this.editedCells.get(a)?.set(h.indexNumber,p))}})}),r.added_rows.forEach(l=>{const a=new Map;n.forEach(s=>{a.set(s.indexNumber,s.getCell(null))}),Object.keys(l).forEach(s=>{const c=l[s],u=i.get(s);if(u){const h=u.getCell(c);h&&a.set(u.indexNumber,h)}}),this.addedRows.push(a)}),this.deletedRows=r.deleted_rows}isAddedRow(t){return t>=this.numRows}getCell(t,n){if(this.isAddedRow(n))return this.addedRows[n-this.numRows].get(t);const r=this.editedCells.get(n);if(r!==void 0)return r.get(t)}setCell(t,n,r){if(this.isAddedRow(n)){if(n-this.numRows>=this.addedRows.length)return;this.addedRows[n-this.numRows].set(t,r)}else this.editedCells.get(n)===void 0&&this.editedCells.set(n,new Map),this.editedCells.get(n).set(t,r)}addRow(t){this.addedRows.push(t)}deleteRows(t){t.sort((n,r)=>r-n).forEach(n=>{this.deleteRow(n)})}deleteRow(t){if(!(_e(t)||t<0)){if(this.isAddedRow(t)){this.addedRows.splice(t-this.numRows,1);return}this.deletedRows.includes(t)||(this.deletedRows.push(t),this.deletedRows=this.deletedRows.sort((n,r)=>n-r)),this.editedCells.delete(t)}}getOriginalRowIndex(t){let n=t;for(let r=0;r<this.deletedRows.length&&!(this.deletedRows[r]>n);r++)n+=1;return n}getNumRows(){return this.numRows+this.addedRows.length-this.deletedRows.length}}const qo=({columnId:e,columnConfigMapping:t,updatedProps:n})=>{const r=new Map(t),o=r.get(e),i={...o||{},...n||{}};return(o?.type_config||n?.type_config)&&(i.type_config={...o?.type_config||{},...n?.type_config||{}}),r.set(e,i),r};function J0(e){return{changeColumnFormat:d.useCallback((t,n)=>{e(r=>qo({columnId:t,columnConfigMapping:r,updatedProps:{type_config:{format:n}}}))},[e])}}function e1(e,t,n,r,o,i){const l=d.useMemo(()=>e.filter(c=>c.isPinned).reduce((c,u)=>c+(u.width??r*2),0)>n*.6,[e,n,r]),a=t||l?0:e.filter(c=>c.isPinned).length,s=d.useCallback(c=>{i(u=>qo({columnId:c,columnConfigMapping:u,updatedProps:{pinned:!1}})),o(!0,!1)},[o,i]);return{pinColumn:d.useCallback(c=>{i(u=>qo({columnId:c,columnConfigMapping:u,updatedProps:{pinned:!0}})),o(!0,!1)},[o,i]),unpinColumn:s,freezeColumns:a}}function t1(e,t,n,r,o){return{onColumnMoved:d.useCallback((i,l)=>{const a=[...e],[s]=a.splice(i,1);a.splice(l,0,s),l<t&&!s.isPinned?n(s.id):l>=t&&s.isPinned&&r(s.id),o(a.map(c=>c.id))},[e,t,n,r,o])}}function n1(e){const[t,n]=d.useState(()=>new Map),r=d.useCallback((o,i,l,a)=>{o.id&&n(new Map(t).set(o.id,a))},[t]);return{columns:d.useMemo(()=>e.map(o=>o.id&&t.has(o.id)&&t.get(o.id)!==void 0?{...o,width:t.get(o.id),grow:0}:o),[e,t]),onColumnResize:r}}function r1(e){switch(e.kind){case Z.Number:return e.data?.toString()??"";case Z.Boolean:return e.data?.toString()??"";case Z.Markdown:case Z.RowID:case Z.Text:case Z.Uri:return e.data??"";case Z.Bubble:case Z.Image:return e.data.join("");case Z.Drilldown:return e.data.map(t=>t.text).join("");case Z.Protected:case Z.Loading:return"";case Z.Custom:return e.copyData}}function od(e){if(typeof e=="number")return e;if(e.length>0){const t=Number(e);isNaN(t)||(e=t)}return e}function o1(e,t){return e=od(e),t=od(t),typeof e=="string"&&typeof t=="string"?e.localeCompare(t):typeof e=="number"&&typeof t=="number"?e===t?0:e>t?1:-1:e==t?0:e>t?1:-1}function i1(e,t){return e>t?1:e===t?0:-1}function a1(e){const{sort:t,rows:n,getCellContent:r}=e,o=d.useMemo(()=>t===void 0?[]:Array.isArray(t)?t:[t],[t]),i=d.useMemo(()=>o.map(c=>{const u=e.columns.findIndex(h=>c.column===h||h.id!==void 0&&c.column.id===h.id);return u===-1?void 0:u}),[o,e.columns]),l=d.useMemo(()=>{const c=o.map((h,p)=>({sort:h,col:i[p]})).filter(h=>h.col!==void 0);if(c.length===0)return;const u=c.map(()=>new Array(n));for(let h=0;h<c.length;h++){const{col:p}=c[h],f=[p,0];for(let g=0;g<n;g++)f[1]=g,u[h][g]=r1(r(f))}return Ir(n).sort((h,p)=>{for(let f=0;f<c.length;f++){const{sort:g}=c[f],m=u[f][h],b=u[f][p];let y;if(g.mode==="raw"?y=i1(m,b):g.mode==="smart"?y=o1(m,b):y=m.localeCompare(b),y!==0)return(g.direction??"asc")==="desc"&&(y=-y),y}return 0})},[r,n,o,i]),a=d.useCallback(c=>l===void 0?c:l[c],[l]),s=d.useCallback(([c,u])=>l===void 0?r([c,u]):(u=l[u],r([c,u])),[r,l]);return l===void 0?{getCellContent:e.getCellContent,getOriginalIndex:a}:{getOriginalIndex:a,getCellContent:s}}function l1(e,t){return t===void 0?e:e.map(n=>n.id===t.column.id?{...n,title:t.direction==="asc"?`\u2191 ${n.title}`:`\u2193 ${n.title}`}:n)}function s1(e,t,n){const[r,o]=d.useState(),{getCellContent:i,getOriginalIndex:l}=a1({columns:t.map(c=>ml(c)),getCellContent:n,rows:e,sort:r}),a=d.useMemo(()=>l1(t,r),[t,r]),s=d.useCallback((c,u,h)=>{const p=a[c];let f;u==="auto"?(f="asc",r&&r.column.id===p.id&&(r.direction==="asc"?f="desc":f=void 0)):f=u,f===void 0||h&&f===r?.direction?o(void 0):o({column:ml(p),direction:f,mode:p.sortMode})},[r,a]);return{columns:a,sortColumn:s,getOriginalIndex:l,getCellContent:i}}function c1(e,t){const n=d.useCallback(o=>{t(i=>qo({columnId:o,columnConfigMapping:i,updatedProps:{hidden:!0}})),e(!0,!1)},[e,t]),r=d.useCallback(o=>{t(i=>qo({columnId:o,columnConfigMapping:i,updatedProps:{hidden:!1}})),e(!0,!1)},[e,t]);return{hideColumn:n,showColumn:r}}function u1(){return{provideEditor:d.useCallback(e=>{if(e.kind===Z.Text&&e.readonly&&I0(e.data))return{editor:A0}},[])}}const d1={kind:Z.Custom,isMatch:e=>e.data.kind==="sparkline-cell",needsHover:!0,needsHoverPosition:!0,draw:(e,t)=>{const{ctx:n,theme:r,rect:o,hoverAmount:i,hoverX:l}=e;let{values:a,yAxis:s,color:c,graphKind:u="area",displayValues:h,hideAxis:p}=t.data;const[f,g]=s;if(a.length===0)return!0;a=a.map(x=>Math.min(1,Math.max(0,(x-f)/(g-f))));const m=r.cellHorizontalPadding,b=m+o.x,y=o.y+3,w=o.height-6,k=o.width-m*2,I=g-f,E=g<=0?y:f>=0?y+w:y+w*(g/I);if(!p&&f<=0&&g>=0&&(n.beginPath(),n.moveTo(b,E),n.lineTo(b+k,E),n.globalAlpha=.4,n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.globalAlpha=1),u==="bar"){n.beginPath();const x=2,F=(a.length-1)*x,O=(k-F)/a.length;let M=b;for(const H of a){const T=y+w-H*w;n.moveTo(M,E),n.lineTo(M+O,E),n.lineTo(M+O,T),n.lineTo(M,T),M+=O+x}n.fillStyle=t.data.color??r.accentColor,n.fill()}else{a.length===1&&(a=[a[0],a[0]],h&&(h=[h[0],h[0]])),n.beginPath();const x=(o.width-16)/(a.length-1),F=a.map((M,H)=>({x:b+x*H,y:y+w-M*w}));n.moveTo(F[0].x,F[0].y);let O=0;if(F.length>2)for(O=1;O<F.length-2;O++){const M=(F[O].x+F[O+1].x)/2,H=(F[O].y+F[O+1].y)/2;n.quadraticCurveTo(F[O].x,F[O].y,M,H)}if(n.quadraticCurveTo(F[O].x,F[O].y,F[O+1].x,F[O+1].y),n.strokeStyle=c??r.accentColor,n.lineWidth=1+i*.5,n.stroke(),n.lineTo(o.x+o.width-m,E),n.lineTo(o.x+m,E),n.closePath(),u==="area"){n.globalAlpha=.2+.2*i;const M=n.createLinearGradient(0,y,0,y+w*1.4);M.addColorStop(0,c??r.accentColor);const[H,T,C]=ki(c??r.accentColor);M.addColorStop(1,`rgba(${H}, ${T}, ${C}, 0)`),n.fillStyle=M,n.fill(),n.globalAlpha=1}if(l!==void 0&&(u==="line"||u==="area")&&h!==void 0){n.beginPath();const M=Math.min(a.length-1,Math.max(0,Math.round((l-m)/x)));n.moveTo(b+M*x,o.y+1),n.lineTo(b+M*x,o.y+o.height),n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.save(),n.font=`8px ${r.fontFamily}`,n.fillStyle=r.textMedium,n.textBaseline="top",n.fillText(h[M],b,o.y+r.cellVerticalPadding),n.restore()}}return!0},provideEditor:()=>{},onPaste:(e,t)=>t};function id(e,t,n,r,o,i){if(!(r<=0||o<=0)){if(typeof i=="number"&&i<=0){e.rect(t,n,r,o);return}typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.min(i.tl,o/2,r/2),tr:Math.min(i.tr,o/2,r/2),bl:Math.min(i.bl,o/2,r/2),br:Math.min(i.br,o/2,r/2)},i.tl=Math.max(0,i.tl),i.tr=Math.max(0,i.tr),i.br=Math.max(0,i.br),i.bl=Math.max(0,i.bl),e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}}function ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ad(Object(n),!0).forEach(function(r){pi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ad(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var h1=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function f1(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,o=r===void 0?!1:r,i=e.defaultValue,l=i===void 0?null:i,a=e.inputValue,s=e.menuIsOpen,c=e.onChange,u=e.onInputChange,h=e.onMenuClose,p=e.onMenuOpen,f=e.value,g=sr(e,h1),m=d.useState(a!==void 0?a:n),b=cr(m,2),y=b[0],w=b[1],k=d.useState(s!==void 0?s:o),I=cr(k,2),E=I[0],x=I[1],F=d.useState(f!==void 0?f:l),O=cr(F,2),M=O[0],H=O[1],T=d.useCallback(function(q,ie){typeof c=="function"&&c(q,ie),H(q)},[c]),C=d.useCallback(function(q,ie){var ee;typeof u=="function"&&(ee=u(q,ie)),w(ee!==void 0?ee:q)},[u]),R=d.useCallback(function(){typeof p=="function"&&p(),x(!0)},[p]),D=d.useCallback(function(){typeof h=="function"&&h(),x(!1)},[h]),S=a!==void 0?a:y,Q=s!==void 0?s:E,$=f!==void 0?f:M;return He(He({},g),{},{inputValue:S,menuIsOpen:Q,onChange:T,onInputChange:C,onMenuClose:D,onMenuOpen:R,value:$})}function p1(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function g1(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var m1=function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(g1(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=p1(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),v1=function(e,t,n){for(var r=0,o=0;r=o,o=ys(),r===38&&o===12&&(t[n]=1),!jh(o);)$h();return $x(e,Uh)},b1=function(e,t){var n=-1,r=44;do switch(jh(r)){case 0:r===38&&ys()===12&&(t[n]=1),e[n]+=v1(Uh-1,t,n);break;case 2:e[n]+=Wx(r);break;case 4:if(r===44){e[++n]=ys()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Bx(r)}while(r=$h());return e},w1=function(e,t){return zx(b1(_x(e),t))},ld=new WeakMap,y1=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!ld.get(n))&&!r){ld.set(e,!0);for(var o=[],i=w1(t,o),l=n.props,a=0,s=0;a<i.length;a++)for(var c=0;c<l.length;c++,s++)e.props[s]=o[a]?i[a].replace(/&\f/g,l[c]):l[c]+" "+i[a]}}},x1=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function sd(e,t){switch(Vx(e,t)){case 5103:return St+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return St+e+ya+e+vn+e+e;case 6828:case 4268:return St+e+vn+e+e;case 6165:return St+e+vn+"flex-"+e+e;case 5187:return St+e+Ht(e,/(\w+).+(:[^]+)/,St+"box-$1$2"+vn+"flex-$1$2")+e;case 5443:return St+e+vn+"flex-item-"+Ht(e,/flex-|-self/,"")+e;case 4675:return St+e+vn+"flex-line-pack"+Ht(e,/align-content|flex-|-self/,"")+e;case 5548:return St+e+vn+Ht(e,"shrink","negative")+e;case 5292:return St+e+vn+Ht(e,"basis","preferred-size")+e;case 6060:return St+"box-"+Ht(e,"-grow","")+St+e+vn+Ht(e,"grow","positive")+e;case 4554:return St+Ht(e,/([^-])(transform)/g,"$1"+St+"$2")+e;case 6187:return Ht(Ht(Ht(e,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),e,"")+e;case 5495:case 3959:return Ht(e,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return Ht(Ht(e,/(.+:)(flex-)?(.*)/,St+"box-pack:$3"+vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+e+e;case 4095:case 3583:case 4068:case 2532:return Ht(e,/(.+)-inline(.+)/,St+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bh(e)-1-t>6)switch(Jr(e,t+1)){case 109:if(Jr(e,t+4)!==45)break;case 102:return Ht(e,/(.+:)(.+)-([^]+)/,"$1"+St+"$2-$3$1"+ya+(Jr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Wh(e,"stretch")?sd(Ht(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Jr(e,t+1)!==115)break;case 6444:switch(Jr(e,Bh(e)-3-(~Wh(e,"!important")&&10))){case 107:return Ht(e,":",":"+St)+e;case 101:return Ht(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+St+(Jr(e,14)===45?"inline-":"")+"box$3$1"+St+"$2$3$1"+vn+"$2box$3")+e}break;case 5936:switch(Jr(e,t+11)){case 114:return St+e+vn+Ht(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return St+e+vn+Ht(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return St+e+vn+Ht(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return St+e+vn+e+e}return e}var C1=function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Lx:e.return=sd(e.value,e.length);break;case Ax:return wa([gi(e,{value:Ht(e.value,"@","@"+St)})],r);case Fx:if(e.length)return Hx(e.props,function(o){switch(Nx(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wa([gi(e,{props:[Ht(o,/:(read-\w+)/,":"+ya+"$1")]})],r);case"::placeholder":return wa([gi(e,{props:[Ht(o,/:(plac\w+)/,":"+St+"input-$1")]}),gi(e,{props:[Ht(o,/:(plac\w+)/,":"+ya+"$1")]}),gi(e,{props:[Ht(o,/:(plac\w+)/,vn+"input-$1")]})],r)}return""})}},k1=[C1],S1=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var r=e.stylisPlugins||k1,o={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),b=1;b<m.length;b++)o[m[b]]=!0;l.push(g)});var a,s=[y1,x1];{var c,u=[Dx,Px(function(g){c.insert(g)})],h=Ox(s.concat(r,u)),p=function(g){return wa(jx(g),h)};a=function(g,m,b,y){c=b,p(g?g+"{"+m.styles+"}":m.styles),y&&(f.inserted[m.name]=!0)}}var f={key:t,sheet:new m1({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(l),f},M1=function(e){return e()},R1=Xh.useInsertionEffect?Xh.useInsertionEffect:!1,E1=R1||M1,Dl={}.hasOwnProperty,cd=d.createContext(typeof HTMLElement<"u"?S1({key:"css"}):null);cd.Provider;var I1=function(e){return d.forwardRef(function(t,n){var r=d.useContext(cd);return e(t,r,n)})},T1=d.createContext({}),Pl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",O1=function(e,t){var n={};for(var r in t)Dl.call(t,r)&&(n[r]=t[r]);return n[Pl]=e,n},D1=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Xx(t,n,r),E1(function(){return Gx(t,n,r)}),null},P1=I1(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[Pl],i=[r],l="";typeof e.className=="string"?l=Ux(t.registered,i,e.className):e.className!=null&&(l=e.className+" ");var a=Gh(i,void 0,d.useContext(T1));l+=t.key+"-"+a.name;var s={};for(var c in e)Dl.call(e,c)&&c!=="css"&&c!==Pl&&(s[c]=e[c]);return s.ref=n,s.className=l,d.createElement(d.Fragment,null,d.createElement(D1,{cache:t,serialized:a,isStringTag:typeof o=="string"}),d.createElement(o,s))}),F1=P1,De=function(e,t){var n=arguments;if(t==null||!Dl.call(t,"css"))return d.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=F1,o[1]=O1(e,t);for(var i=2;i<r;i++)o[i]=n[i];return d.createElement.apply(null,o)};function Fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gh(t)}var H1=function(){var e=Fl.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function A1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const L1=Math.min,z1=Math.max,Ni=Math.round,Bi=Math.floor,Wi=e=>({x:e,y:e});function _1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function ud(e){return hd(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dd(e){var t;return(t=(hd(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hd(e){return e instanceof Node||e instanceof nr(e).Node}function V1(e){return e instanceof Element||e instanceof nr(e).Element}function Hl(e){return e instanceof HTMLElement||e instanceof nr(e).HTMLElement}function fd(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot}function pd(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Al(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function N1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function B1(e){return["html","body","#document"].includes(ud(e))}function Al(e){return nr(e).getComputedStyle(e)}function W1(e){if(ud(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fd(e)&&e.host||dd(e);return fd(t)?t.host:t}function gd(e){const t=W1(e);return B1(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hl(t)&&pd(t)?t:gd(t)}function $i(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=gd(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=nr(o);return i?t.concat(l,l.visualViewport||[],pd(o)?o:[],l.frameElement&&n?$i(l.frameElement):[]):t.concat(o,$i(o,[],n))}function $1(e){const t=Al(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Hl(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,a=Ni(n)!==i||Ni(r)!==l;return a&&(n=i,r=l),{width:n,height:r,$:a}}function Ll(e){return V1(e)?e:e.contextElement}function md(e){const t=Ll(e);if(!Hl(t))return Wi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=$1(t);let l=(i?Ni(n.width):n.width)/r,a=(i?Ni(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const j1=Wi(0);function U1(e){const t=nr(e);return!N1()||!t.visualViewport?j1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X1(e,t,n){return!1}function vd(e,t,n,r){t===void 0&&(t=!1);const o=e.getBoundingClientRect(),i=Ll(e);let l=Wi(1);t&&(l=md(e));const a=X1()?U1(i):Wi(0);let s=(o.left+a.x)/l.x,c=(o.top+a.y)/l.y,u=o.width/l.x,h=o.height/l.y;if(i){const p=nr(i),f=r;let g=p.frameElement;for(;g&&r&&f!==p;){const m=md(g),b=g.getBoundingClientRect(),y=Al(g),w=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,k=b.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;s*=m.x,c*=m.y,u*=m.x,h*=m.y,s+=w,c+=k,g=nr(g).frameElement}}return _1({width:u,height:h,x:s,y:c})}function G1(e,t){let n=null,r;const o=dd(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),i();const{left:c,top:u,width:h,height:p}=e.getBoundingClientRect();if(a||t(),!h||!p)return;const f=Bi(u),g=Bi(o.clientWidth-(c+h)),m=Bi(o.clientHeight-(u+p)),b=Bi(c),y={rootMargin:-f+"px "+-g+"px "+-m+"px "+-b+"px",threshold:z1(0,L1(1,s))||1};let w=!0;function k(I){const E=I[0].intersectionRatio;if(E!==s){if(!w)return l();E?l(!1,E):r=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(k,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return l(!0),i}function Y1(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,c=Ll(e),u=o||i?[...c?$i(c):[],...$i(t)]:[];u.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=c&&a?G1(c,n):null;let p=-1,f=null;l&&(f=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{f&&f.observe(t)})),n()}),c&&!s&&f.observe(c),f.observe(t));let g,m=s?vd(e):null;s&&b();function b(){const y=vd(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(b)}return n(),()=>{u.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h&&h(),f&&f.disconnect(),f=null,s&&cancelAnimationFrame(g)}}var zl=d.useLayoutEffect,K1=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ji=function(){};function q1(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Z1(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=[].concat(r);if(t&&e)for(var l in t)t.hasOwnProperty(l)&&t[l]&&i.push("".concat(q1(e,l)));return i.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var bd=function(e){return av(e)?e.filter(Boolean):Yx(e)==="object"&&e!==null?[e]:[]},wd=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=sr(e,K1);return He({},t)},Kt=function(e,t,n){var r=e.cx,o=e.getStyles,i=e.getClassNames,l=e.className;return{css:o(t,e),className:r(n??{},i(t,e),l)}};function Ui(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Q1(e){return Ui(e)?window.innerHeight:e.clientHeight}function yd(e){return Ui(e)?window.pageYOffset:e.scrollTop}function Xi(e,t){if(Ui(e)){window.scrollTo(0,t);return}e.scrollTop=t}function J1(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function ev(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Gi(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ji,o=yd(e),i=t-o,l=10,a=0;function s(){a+=l;var c=ev(a,o,i,n);Xi(e,c),a<n?window.requestAnimationFrame(s):r(e)}s()}function xd(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?Xi(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&Xi(e,Math.max(t.offsetTop-o,0))}function tv(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Cd(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function nv(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kd=!1,rv={get passive(){return kd=!0}},Yi=typeof window<"u"?window:{};Yi.addEventListener&&Yi.removeEventListener&&(Yi.addEventListener("p",ji,rv),Yi.removeEventListener("p",ji,!1));var ov=kd;function iv(e){return e!=null}function av(e){return Array.isArray(e)}function Ki(e,t,n){return e?t:n}var lv=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object.entries(e).filter(function(i){var l=cr(i,1),a=l[0];return!n.includes(a)});return o.reduce(function(i,l){var a=cr(l,2),s=a[0],c=a[1];return i[s]=c,i},{})},sv=["children","innerProps"],cv=["children","innerProps"];function uv(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,l=e.isFixedPosition,a=e.controlHeight,s=J1(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=s.getBoundingClientRect(),h=u.height,p=n.getBoundingClientRect(),f=p.bottom,g=p.height,m=p.top,b=n.offsetParent.getBoundingClientRect(),y=b.top,w=l?window.innerHeight:Q1(s),k=yd(s),I=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),x=y-E,F=w-m,O=x+k,M=h-k-m,H=f-w+k+I,T=k+m-E,C=160;switch(o){case"auto":case"bottom":if(F>=g)return{placement:"bottom",maxHeight:t};if(M>=g&&!l)return i&&Gi(s,H,C),{placement:"bottom",maxHeight:t};if(!l&&M>=r||l&&F>=r){i&&Gi(s,H,C);var R=l?F-I:M-I;return{placement:"bottom",maxHeight:R}}if(o==="auto"||l){var D=t,S=l?x:O;return S>=r&&(D=Math.min(S-I-a,t)),{placement:"top",maxHeight:D}}if(o==="bottom")return i&&Xi(s,H),{placement:"bottom",maxHeight:t};break;case"top":if(x>=g)return{placement:"top",maxHeight:t};if(O>=g&&!l)return i&&Gi(s,T,C),{placement:"top",maxHeight:t};if(!l&&O>=r||l&&x>=r){var Q=t;return(!l&&O>=r||l&&x>=r)&&(Q=l?x-E:O-E),i&&Gi(s,T,C),{placement:"top",maxHeight:Q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}function dv(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var Sd=function(e){return e==="auto"?"bottom":e},hv=function(e,t){var n,r=e.placement,o=e.theme,i=o.borderRadius,l=o.spacing,a=o.colors;return He((n={label:"menu"},pi(n,dv(r),"100%"),pi(n,"position","absolute"),pi(n,"width","100%"),pi(n,"zIndex",1),n),t?{}:{backgroundColor:a.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},Md=d.createContext(null),fv=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,o=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,s=d.useContext(Md)||{},c=s.setPortalPlacement,u=d.useRef(null),h=d.useState(r),p=cr(h,2),f=p[0],g=p[1],m=d.useState(null),b=cr(m,2),y=b[0],w=b[1],k=a.spacing.controlHeight;return zl(function(){var I=u.current;if(I){var E=i==="fixed",x=l&&!E,F=uv({maxHeight:r,menuEl:I,minHeight:n,placement:o,shouldScroll:x,isFixedPosition:E,controlHeight:k});g(F.maxHeight),w(F.placement),c?.(F.placement)}},[r,o,i,l,n,c,k]),t({ref:u,placerProps:He(He({},e),{},{placement:y||Sd(o),maxHeight:f})})},pv=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return De("div",$e({},Kt(e,"menu",{menu:!0}),{ref:n},r),t)},gv=pv,mv=function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return He({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},vv=function(e){var t=e.children,n=e.innerProps,r=e.innerRef,o=e.isMulti;return De("div",$e({},Kt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:r},n),t)},Rd=function(e,t){var n=e.theme,r=n.spacing.baseUnit,o=n.colors;return He({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},bv=Rd,wv=Rd,yv=function(e){var t=e.children,n=t===void 0?"No options":t,r=e.innerProps,o=sr(e,sv);return De("div",$e({},Kt(He(He({},o),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},xv=function(e){var t=e.children,n=t===void 0?"Loading...":t,r=e.innerProps,o=sr(e,cv);return De("div",$e({},Kt(He(He({},o),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},Cv=function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},kv=function(e){var t=e.appendTo,n=e.children,r=e.controlElement,o=e.innerProps,i=e.menuPlacement,l=e.menuPosition,a=d.useRef(null),s=d.useRef(null),c=d.useState(Sd(i)),u=cr(c,2),h=u[0],p=u[1],f=d.useMemo(function(){return{setPortalPlacement:p}},[]),g=d.useState(null),m=cr(g,2),b=m[0],y=m[1],w=d.useCallback(function(){if(r){var x=tv(r),F=l==="fixed"?0:window.pageYOffset,O=x[h]+F;(O!==b?.offset||x.left!==b?.rect.left||x.width!==b?.rect.width)&&y({offset:O,rect:x})}},[r,l,h,b?.offset,b?.rect.left,b?.rect.width]);zl(function(){w()},[w]);var k=d.useCallback(function(){typeof s.current=="function"&&(s.current(),s.current=null),r&&a.current&&(s.current=Y1(r,a.current,w,{elementResize:"ResizeObserver"in window}))},[r,w]);zl(function(){k()},[k]);var I=d.useCallback(function(x){a.current=x,k()},[k]);if(!t&&l!=="fixed"||!b)return null;var E=De("div",$e({ref:I},Kt(He(He({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),o),n);return De(Md.Provider,{value:f},t?Yh.createPortal(E,t):E)},Sv=function(e){var t=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},Mv=function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,o=e.isRtl;return De("div",$e({},Kt(e,"container",{"--is-disabled":r,"--is-rtl":o}),n),t)},Rv=function(e,t){var n=e.theme.spacing,r=e.isMulti,o=e.hasValue,i=e.selectProps.controlShouldRenderValue;return He({alignItems:"center",display:r&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Ev=function(e){var t=e.children,n=e.innerProps,r=e.isMulti,o=e.hasValue;return De("div",$e({},Kt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":o}),n),t)},Iv=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Tv=function(e){var t=e.children,n=e.innerProps;return De("div",$e({},Kt(e,"indicatorsContainer",{indicators:!0}),n),t)},Ed,Ov=["size"],Dv=["innerProps","isRtl","size"],Pv={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Id=function(e){var t=e.size,n=sr(e,Ov);return De("svg",$e({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Pv},n))},_l=function(e){return De(Id,$e({size:20},e),De("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Td=function(e){return De(Id,$e({size:20},e),De("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Od=function(e,t){var n=e.isFocused,r=e.theme,o=r.spacing.baseUnit,i=r.colors;return He({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?i.neutral60:i.neutral20,padding:o*2,":hover":{color:n?i.neutral80:i.neutral40}})},Fv=Od,Hv=function(e){var t=e.children,n=e.innerProps;return De("div",$e({},Kt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||De(Td,null))},Av=Od,Lv=function(e){var t=e.children,n=e.innerProps;return De("div",$e({},Kt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||De(_l,null))},zv=function(e,t){var n=e.isDisabled,r=e.theme,o=r.spacing.baseUnit,i=r.colors;return He({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},_v=function(e){var t=e.innerProps;return De("span",$e({},t,Kt(e,"indicatorSeparator",{"indicator-separator":!0})))},Vv=H1(Ed||(Ed=A1([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Nv=function(e,t){var n=e.isFocused,r=e.size,o=e.theme,i=o.colors,l=o.spacing.baseUnit;return He({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},Vl=function(e){var t=e.delay,n=e.offset;return De("span",{css:Fl({animation:"".concat(Vv," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Bv=function(e){var t=e.innerProps,n=e.isRtl,r=e.size,o=r===void 0?4:r,i=sr(e,Dv);return De("div",$e({},Kt(He(He({},i),{},{innerProps:t,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),De(Vl,{delay:0,offset:n}),De(Vl,{delay:160,offset:!0}),De(Vl,{delay:320,offset:!n}))},Wv=function(e,t){var n=e.isDisabled,r=e.isFocused,o=e.theme,i=o.colors,l=o.borderRadius,a=o.spacing;return He({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},$v=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return De("div",$e({ref:o},Kt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),t)},jv=$v,Uv=["data"],Xv=function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Gv=function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.getClassNames,i=e.Heading,l=e.headingProps,a=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return De("div",$e({},Kt(e,"group",{group:!0}),a),De(i,$e({},l,{selectProps:u,theme:c,getStyles:r,getClassNames:o,cx:n}),s),De("div",null,t))},Yv=function(e,t){var n=e.theme,r=n.colors,o=n.spacing;return He({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},Kv=function(e){var t=wd(e);t.data;var n=sr(t,Uv);return De("div",$e({},Kt(e,"groupHeading",{"group-heading":!0}),n))},qv=Gv,Zv=["innerRef","isDisabled","isHidden","inputClassName"],Qv=function(e,t){var n=e.isDisabled,r=e.value,o=e.theme,i=o.spacing,l=o.colors;return He(He({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},Jv),t?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},Dd={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Jv={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":He({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Dd)},eb=function(e){return He({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Dd)},tb=function(e){var t=e.cx,n=e.value,r=wd(e),o=r.innerRef,i=r.isDisabled,l=r.isHidden,a=r.inputClassName,s=sr(r,Zv);return De("div",$e({},Kt(e,"input",{"input-container":!0}),{"data-value":n||""}),De("input",$e({className:t({input:!0},a),ref:o,style:eb(l),disabled:i},s)))},nb=tb,rb=function(e,t){var n=e.theme,r=n.spacing,o=n.borderRadius,i=n.colors;return He({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:r.baseUnit/2})},ob=function(e,t){var n=e.theme,r=n.borderRadius,o=n.colors,i=e.cropWithEllipsis;return He({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ib=function(e,t){var n=e.theme,r=n.spacing,o=n.borderRadius,i=n.colors,l=e.isFocused;return He({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},Pd=function(e){var t=e.children,n=e.innerProps;return De("div",n,t)},ab=Pd,lb=Pd;function sb(e){var t=e.children,n=e.innerProps;return De("div",$e({role:"button"},n),t||De(_l,{size:14}))}var cb=function(e){var t=e.children,n=e.components,r=e.data,o=e.innerProps,i=e.isDisabled,l=e.removeProps,a=e.selectProps,s=n.Container,c=n.Label,u=n.Remove;return De(s,{data:r,innerProps:He(He({},Kt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:a},De(c,{data:r,innerProps:He({},Kt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),De(u,{data:r,innerProps:He(He({},Kt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},l),selectProps:a}))},ub=cb,db=function(e,t){var n=e.isDisabled,r=e.isFocused,o=e.isSelected,i=e.theme,l=i.spacing,a=i.colors;return He({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:o?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:o?a.primary:a.primary50}})},hb=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.isSelected,i=e.innerRef,l=e.innerProps;return De("div",$e({},Kt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":o}),{ref:i,"aria-disabled":n},l),t)},fb=hb,pb=function(e,t){var n=e.theme,r=n.spacing,o=n.colors;return He({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},gb=function(e){var t=e.children,n=e.innerProps;return De("div",$e({},Kt(e,"placeholder",{placeholder:!0}),n),t)},mb=gb,vb=function(e,t){var n=e.isDisabled,r=e.theme,o=r.spacing,i=r.colors;return He({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},bb=function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return De("div",$e({},Kt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},wb=bb,Fd={ClearIndicator:Lv,Control:jv,DropdownIndicator:Hv,DownChevron:Td,CrossIcon:_l,Group:qv,GroupHeading:Kv,IndicatorsContainer:Tv,IndicatorSeparator:_v,Input:nb,LoadingIndicator:Bv,Menu:gv,MenuList:vv,MenuPortal:kv,LoadingMessage:xv,NoOptionsMessage:yv,MultiValue:ub,MultiValueContainer:ab,MultiValueLabel:lb,MultiValueRemove:sb,Option:fb,Placeholder:mb,SelectContainer:Mv,SingleValue:wb,ValueContainer:Ev},yb=function(e){return He(He({},Fd),e.components)},Hd=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function xb(e,t){return!!(e===t||Hd(e)&&Hd(t))}function Cb(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!xb(e[n],t[n]))return!1;return!0}function kb(e,t){t===void 0&&(t=Cb);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var l=e.apply(this,o);return n={lastResult:l,lastArgs:o,lastThis:this},l}return r.clear=function(){n=null},r}for(var Sb={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Mb=function(e){return De("span",$e({css:Sb},e))},Ad=Mb,Rb={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,o=e.context,i=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=n===void 0?"":n,o=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,o=e.label,i=o===void 0?"":o,l=e.selectValue,a=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(f,g){return f&&f.length?"".concat(f.indexOf(g)+1," of ").concat(f.length):""};if(t==="value"&&l)return"value ".concat(i," focused, ").concat(u(l,n),".");if(t==="menu"&&c){var h=a?" disabled":"",p="".concat(s?" selected":"").concat(h);return"".concat(i).concat(p,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Eb=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,i=e.isFocused,l=e.selectValue,a=e.selectProps,s=e.id,c=e.isAppleDevice,u=a.ariaLiveMessages,h=a.getOptionLabel,p=a.inputValue,f=a.isMulti,g=a.isOptionDisabled,m=a.isSearchable,b=a.menuIsOpen,y=a.options,w=a.screenReaderStatus,k=a.tabSelectsValue,I=a.isLoading,E=a["aria-label"],x=a["aria-live"],F=d.useMemo(function(){return He(He({},Rb),u||{})},[u]),O=d.useMemo(function(){var D="";if(t&&F.onChange){var S=t.option,Q=t.options,$=t.removedValue,q=t.removedValues,ie=t.value,ee=function(ae){return Array.isArray(ae)?null:ae},K=$||S||ee(ie),se=K?h(K):"",te=Q||q||void 0,ue=te?te.map(h):[],fe=He({isDisabled:K&&g(K,l),label:se,labels:ue},t);D=F.onChange(fe)}return D},[t,F,g,l,h]),M=d.useMemo(function(){var D="",S=n||r,Q=!!(n&&l&&l.includes(n));if(S&&F.onFocus){var $={focused:S,label:h(S),isDisabled:g(S,l),isSelected:Q,options:o,context:S===n?"menu":"value",selectValue:l,isAppleDevice:c};D=F.onFocus($)}return D},[n,r,h,g,F,o,l,c]),H=d.useMemo(function(){var D="";if(b&&y.length&&!I&&F.onFilter){var S=w({count:o.length});D=F.onFilter({inputValue:p,resultsMessage:S})}return D},[o,p,b,F,y,w,I]),T=t?.action==="initial-input-focus",C=d.useMemo(function(){var D="";if(F.guidance){var S=r?"value":b?"menu":"input";D=F.guidance({"aria-label":E,context:S,isDisabled:n&&g(n,l),isMulti:f,isSearchable:m,tabSelectsValue:k,isInitialFocus:T})}return D},[E,n,r,f,g,m,b,F,l,k,T]),R=De(d.Fragment,null,De("span",{id:"aria-selection"},O),De("span",{id:"aria-focused"},M),De("span",{id:"aria-results"},H),De("span",{id:"aria-guidance"},C));return De(d.Fragment,null,De(Ad,{id:s},T&&R),De(Ad,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!T&&R))},Ib=Eb,Nl=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],Tb=new RegExp("["+Nl.map(function(e){return e.letters}).join("")+"]","g"),Ld={},Bl=0;Bl<Nl.length;Bl++)for(var Wl=Nl[Bl],$l=0;$l<Wl.letters.length;$l++)Ld[Wl.letters[$l]]=Wl.base;var zd=function(e){return e.replace(Tb,function(t){return Ld[t]})},Ob=kb(zd),_d=function(e){return e.replace(/^\s+|\s+$/g,"")},Db=function(e){return"".concat(e.label," ").concat(e.value)},Pb=function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=He({ignoreCase:!0,ignoreAccents:!0,stringify:Db,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,i=r.ignoreAccents,l=r.stringify,a=r.trim,s=r.matchFrom,c=a?_d(n):n,u=a?_d(l(t)):l(t);return o&&(c=c.toLowerCase(),u=u.toLowerCase()),i&&(c=Ob(c),u=zd(u)),s==="start"?u.substr(0,c.length)===c:u.indexOf(c)>-1}},Fb=["innerRef"];function Hb(e){var t=e.innerRef,n=sr(e,Fb),r=lv(n,"onExited","in","enter","exit","appear");return De("input",$e({ref:t},r,{css:Fl({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ab=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Lb(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,l=d.useRef(!1),a=d.useRef(!1),s=d.useRef(0),c=d.useRef(null),u=d.useCallback(function(b,y){if(c.current!==null){var w=c.current,k=w.scrollTop,I=w.scrollHeight,E=w.clientHeight,x=c.current,F=y>0,O=I-E-k,M=!1;O>y&&l.current&&(r&&r(b),l.current=!1),F&&a.current&&(i&&i(b),a.current=!1),F&&y>O?(n&&!l.current&&n(b),x.scrollTop=I,M=!0,l.current=!0):!F&&-y>k&&(o&&!a.current&&o(b),x.scrollTop=0,M=!0,a.current=!0),M&&Ab(b)}},[n,r,o,i]),h=d.useCallback(function(b){u(b,b.deltaY)},[u]),p=d.useCallback(function(b){s.current=b.changedTouches[0].clientY},[]),f=d.useCallback(function(b){var y=s.current-b.changedTouches[0].clientY;u(b,y)},[u]),g=d.useCallback(function(b){if(b){var y=ov?{passive:!1}:!1;b.addEventListener("wheel",h,y),b.addEventListener("touchstart",p,y),b.addEventListener("touchmove",f,y)}},[f,p,h]),m=d.useCallback(function(b){b&&(b.removeEventListener("wheel",h,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",f,!1))},[f,p,h]);return d.useEffect(function(){if(t){var b=c.current;return g(b),function(){m(b)}}},[t,g,m]),function(b){c.current=b}}var Vd=["boxSizing","height","overflow","paddingRight","position"],Nd={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Bd(e){e.cancelable&&e.preventDefault()}function Wd(e){e.stopPropagation()}function $d(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function jd(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ud=!!(typeof window<"u"&&window.document&&window.document.createElement),Zo=0,lo={capture:!1,passive:!1};function zb(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=d.useRef({}),i=d.useRef(null),l=d.useCallback(function(s){if(Ud){var c=document.body,u=c&&c.style;if(r&&Vd.forEach(function(g){var m=u&&u[g];o.current[g]=m}),r&&Zo<1){var h=parseInt(o.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,f=window.innerWidth-p+h||0;Object.keys(Nd).forEach(function(g){var m=Nd[g];u&&(u[g]=m)}),u&&(u.paddingRight="".concat(f,"px"))}c&&jd()&&(c.addEventListener("touchmove",Bd,lo),s&&(s.addEventListener("touchstart",$d,lo),s.addEventListener("touchmove",Wd,lo))),Zo+=1}},[r]),a=d.useCallback(function(s){if(Ud){var c=document.body,u=c&&c.style;Zo=Math.max(Zo-1,0),r&&Zo<1&&Vd.forEach(function(h){var p=o.current[h];u&&(u[h]=p)}),c&&jd()&&(c.removeEventListener("touchmove",Bd,lo),s&&(s.removeEventListener("touchstart",$d,lo),s.removeEventListener("touchmove",Wd,lo)))}},[r]);return d.useEffect(function(){if(t){var s=i.current;return l(s),function(){a(s)}}},[t,l,a]),function(s){i.current=s}}var _b=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Vb={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Nb(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,i=e.onBottomArrive,l=e.onBottomLeave,a=e.onTopArrive,s=e.onTopLeave,c=Lb({isEnabled:o,onBottomArrive:i,onBottomLeave:l,onTopArrive:a,onTopLeave:s}),u=zb({isEnabled:n}),h=function(p){c(p),u(p)};return De(d.Fragment,null,n&&De("div",{onClick:_b,css:Vb}),t(h))}var Bb={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Wb=function(e){var t=e.name,n=e.onFocus;return De("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Bb,value:"",onChange:function(){}})},$b=Wb;function jl(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function jb(){return jl(/^iPhone/i)}function Xd(){return jl(/^Mac/i)}function Ub(){return jl(/^iPad/i)||Xd()&&navigator.maxTouchPoints>1}function Xb(){return jb()||Ub()}function Gb(){return Xd()||Xb()}var Yb=function(e){return e.label},Kb=function(e){return e.label},qb=function(e){return e.value},Zb=function(e){return!!e.isDisabled},Qb={clearIndicator:Av,container:Sv,control:Wv,dropdownIndicator:Fv,group:Xv,groupHeading:Yv,indicatorsContainer:Iv,indicatorSeparator:zv,input:Qv,loadingIndicator:Nv,loadingMessage:wv,menu:hv,menuList:mv,menuPortal:Cv,multiValue:rb,multiValueLabel:ob,multiValueRemove:ib,noOptionsMessage:bv,option:db,placeholder:pb,singleValue:vb,valueContainer:Rv},Jb={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},ew=4,Gd=4,tw=38,nw=Gd*2,rw={baseUnit:Gd,controlHeight:tw,menuGutter:nw},Ul={borderRadius:ew,colors:Jb,spacing:rw},ow={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Cd(),captureMenuScroll:!Cd(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Pb(),formatGroupLabel:Yb,getOptionLabel:Kb,getOptionValue:qb,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Zb,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!nv(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Yd(e,t,n,r){var o=Jd(e,t,n),i=eh(e,t,n),l=Qd(e,t),a=Zi(e,t);return{type:"option",data:t,isDisabled:o,isSelected:i,label:l,value:a,index:r}}function qi(e,t){return e.options.map(function(n,r){if("options"in n){var o=n.options.map(function(l,a){return Yd(e,l,t,a)}).filter(function(l){return Zd(e,l)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var i=Yd(e,n,t,r);return Zd(e,i)?i:void 0}).filter(iv)}function Kd(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,xs(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function qd(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,xs(r.options.map(function(o){return{data:o.data,id:"".concat(t,"-").concat(r.index,"-").concat(o.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function iw(e,t){return Kd(qi(e,t))}function Zd(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,i=t.isSelected,l=t.label,a=t.value;return(!nh(e)||!i)&&th(e,{label:l,value:a,data:o},r)}function aw(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var i=t.indexOf(n);if(i>-1)return n;if(o<t.length)return t[o]}return null}function lw(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Xl=function(e,t){var n,r=(n=e.find(function(o){return o.data===t}))===null||n===void 0?void 0:n.id;return r||null},Qd=function(e,t){return e.getOptionLabel(t)},Zi=function(e,t){return e.getOptionValue(t)};function Jd(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function eh(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Zi(e,t);return n.some(function(o){return Zi(e,o)===r})}function th(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var nh=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return t===void 0?n:t},sw=1,rh=function(e){gC(n,e);var t=bC(n);function n(r){var o;if(vC(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(s){o.controlRef=s},o.focusedOptionRef=null,o.getFocusedOptionRef=function(s){o.focusedOptionRef=s},o.menuListRef=null,o.getMenuListRef=function(s){o.menuListRef=s},o.inputRef=null,o.getInputRef=function(s){o.inputRef=s},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(s,c){var u=o.props,h=u.onChange,p=u.name;c.name=p,o.ariaOnChange(s,c),h(s,c)},o.setValue=function(s,c,u){var h=o.props,p=h.closeMenuOnSelect,f=h.isMulti,g=h.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:g}),p&&(o.setState({inputIsHiddenAfterUpdate:!f}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(s,{action:c,option:u})},o.selectOption=function(s){var c=o.props,u=c.blurInputOnSelect,h=c.isMulti,p=c.name,f=o.state.selectValue,g=h&&o.isOptionSelected(s,f),m=o.isOptionDisabled(s,f);if(g){var b=o.getOptionValue(s);o.setValue(f.filter(function(y){return o.getOptionValue(y)!==b}),"deselect-option",s)}else if(!m)h?o.setValue([].concat(xs(f),[s]),"select-option",s):o.setValue(s,"select-option");else{o.ariaOnChange(s,{action:"select-option",option:s,name:p});return}u&&o.blurInput()},o.removeValue=function(s){var c=o.props.isMulti,u=o.state.selectValue,h=o.getOptionValue(s),p=u.filter(function(g){return o.getOptionValue(g)!==h}),f=Ki(c,p,p[0]||null);o.onChange(f,{action:"remove-value",removedValue:s}),o.focusInput()},o.clearValue=function(){var s=o.state.selectValue;o.onChange(Ki(o.props.isMulti,[],null),{action:"clear",removedValues:s})},o.popValue=function(){var s=o.props.isMulti,c=o.state.selectValue,u=c[c.length-1],h=c.slice(0,c.length-1),p=Ki(s,h,h[0]||null);u&&o.onChange(p,{action:"pop-value",removedValue:u})},o.getFocusedOptionId=function(s){return Xl(o.state.focusableOptionsWithIds,s)},o.getFocusableOptionsWithIds=function(){return qd(qi(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return Z1.apply(void 0,[o.props.classNamePrefix].concat(c))},o.getOptionLabel=function(s){return Qd(o.props,s)},o.getOptionValue=function(s){return Zi(o.props,s)},o.getStyles=function(s,c){var u=o.props.unstyled,h=Qb[s](c,u);h.boxSizing="border-box";var p=o.props.styles[s];return p?p(h,c):h},o.getClassNames=function(s,c){var u,h;return(u=(h=o.props.classNames)[s])===null||u===void 0?void 0:u.call(h,c)},o.getElementId=function(s){return"".concat(o.state.instancePrefix,"-").concat(s)},o.getComponents=function(){return yb(o.props)},o.buildCategorizedOptions=function(){return qi(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return Kd(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(s,c){o.setState({ariaSelection:He({value:s},c)})},o.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(s){o.blockOptionHover=!1},o.onControlMouseDown=function(s){if(!s.defaultPrevented){var c=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&o.onMenuClose():c&&o.openMenu("first"):(c&&(o.openAfterFocus=!0),o.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},o.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!o.props.isDisabled){var c=o.props,u=c.isMulti,h=c.menuIsOpen;o.focusInput(),h?(o.setState({inputIsHiddenAfterUpdate:!u}),o.onMenuClose()):o.openMenu("first"),s.preventDefault()}},o.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(o.clearValue(),s.preventDefault(),o.openAfterFocus=!1,s.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(s){typeof o.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&Ui(s.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(s)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(s){var c=s.touches,u=c&&c.item(0);u&&(o.initialTouchX=u.clientX,o.initialTouchY=u.clientY,o.userIsDragging=!1)},o.onTouchMove=function(s){var c=s.touches,u=c&&c.item(0);if(u){var h=Math.abs(u.clientX-o.initialTouchX),p=Math.abs(u.clientY-o.initialTouchY),f=5;o.userIsDragging=h>f||p>f}},o.onTouchEnd=function(s){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(s.target)&&o.menuListRef&&!o.menuListRef.contains(s.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(s){o.userIsDragging||o.onControlMouseDown(s)},o.onClearIndicatorTouchEnd=function(s){o.userIsDragging||o.onClearIndicatorMouseDown(s)},o.onDropdownIndicatorTouchEnd=function(s){o.userIsDragging||o.onDropdownIndicatorMouseDown(s)},o.handleInputChange=function(s){var c=o.props.inputValue,u=s.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(u,{action:"input-change",prevInputValue:c}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(s){o.props.onFocus&&o.props.onFocus(s),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(s){var c=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(s),o.onInputChange("",{action:"input-blur",prevInputValue:c}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(s){if(!(o.blockOptionHover||o.state.focusedOption===s)){var c=o.getFocusableOptions(),u=c.indexOf(s);o.setState({focusedOption:s,focusedOptionId:u>-1?o.getFocusedOptionId(s):null})}},o.shouldHideSelectedOptions=function(){return nh(o.props)},o.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),o.focus()},o.onKeyDown=function(s){var c=o.props,u=c.isMulti,h=c.backspaceRemovesValue,p=c.escapeClearsValue,f=c.inputValue,g=c.isClearable,m=c.isDisabled,b=c.menuIsOpen,y=c.onKeyDown,w=c.tabSelectsValue,k=c.openMenuOnFocus,I=o.state,E=I.focusedOption,x=I.focusedValue,F=I.selectValue;if(!m&&!(typeof y=="function"&&(y(s),s.defaultPrevented))){switch(o.blockOptionHover=!0,s.key){case"ArrowLeft":if(!u||f)return;o.focusValue("previous");break;case"ArrowRight":if(!u||f)return;o.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(x)o.removeValue(x);else{if(!h)return;u?o.popValue():g&&o.clearValue()}break;case"Tab":if(o.isComposing||s.shiftKey||!b||!w||!E||k&&o.isOptionSelected(E,F))return;o.selectOption(E);break;case"Enter":if(s.keyCode===229)break;if(b){if(!E||o.isComposing)return;o.selectOption(E);break}return;case"Escape":b?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:f}),o.onMenuClose()):g&&p&&o.clearValue();break;case" ":if(f)return;if(!b){o.openMenu("first");break}if(!E)return;o.selectOption(E);break;case"ArrowUp":b?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":b?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!b)return;o.focusOption("pageup");break;case"PageDown":if(!b)return;o.focusOption("pagedown");break;case"Home":if(!b)return;o.focusOption("first");break;case"End":if(!b)return;o.focusOption("last");break;default:return}s.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++sw),o.state.selectValue=bd(r.value),r.menuIsOpen&&o.state.selectValue.length){var i=o.getFocusableOptionsWithIds(),l=o.buildFocusableOptions(),a=l.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=i,o.state.focusedOption=l[a],o.state.focusedOptionId=Xl(i,l[a])}return o}return mC(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&xd(this.menuListRef,this.focusedOptionRef),Gb()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(r){var o=this.props,i=o.isDisabled,l=o.menuIsOpen,a=this.state.isFocused;(a&&!i&&r.isDisabled||a&&l&&!r.menuIsOpen)&&this.focusInput(),a&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(xd(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,o){this.props.onInputChange(r,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var o=this,i=this.state,l=i.selectValue,a=i.isFocused,s=this.buildFocusableOptions(),c=r==="first"?0:s.length-1;if(!this.props.isMulti){var u=s.indexOf(l[0]);u>-1&&(c=u)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[c],focusedOptionId:this.getFocusedOptionId(s[c])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(r){var o=this.state,i=o.selectValue,l=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=i.indexOf(l);l||(a=-1);var s=i.length-1,c=-1;if(i.length){switch(r){case"previous":a===0?c=0:a===-1?c=s:c=a-1;break;case"next":a>-1&&a<s&&(c=a+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:i[c]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,s=l.indexOf(i);i||(s=-1),r==="up"?a=s>0?s-1:l.length-1:r==="down"?a=(s+1)%l.length:r==="pageup"?(a=s-o,a<0&&(a=0)):r==="pagedown"?(a=s+o,a>l.length-1&&(a=l.length-1)):r==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ul):He(He({},Ul),this.props.theme):Ul}},{key:"getCommonProps",value:function(){var r=this.clearValue,o=this.cx,i=this.getStyles,l=this.getClassNames,a=this.getValue,s=this.selectOption,c=this.setValue,u=this.props,h=u.isMulti,p=u.isRtl,f=u.options,g=this.hasValue();return{clearValue:r,cx:o,getStyles:i,getClassNames:l,getValue:a,hasValue:g,isMulti:h,isRtl:p,options:f,selectOption:s,selectProps:u,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,o=r.isClearable,i=r.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(r,o){return Jd(this.props,r,o)}},{key:"isOptionSelected",value:function(r,o){return eh(this.props,r,o)}},{key:"filterOption",value:function(r,o){return th(this.props,r,o)}},{key:"formatOptionLabel",value:function(r,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:o,inputValue:i,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,o=r.isDisabled,i=r.isSearchable,l=r.inputId,a=r.inputValue,s=r.tabIndex,c=r.form,u=r.menuIsOpen,h=r.required,p=this.getComponents(),f=p.Input,g=this.state,m=g.inputIsHidden,b=g.ariaSelection,y=this.commonProps,w=l||this.getElementId("input"),k=He(He(He({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},u&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?d.createElement(f,$e({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:o,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:c,type:"text",value:a},k)):d.createElement(Hb,$e({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ji,onFocus:this.onInputFocus,disabled:o,tabIndex:s,inputMode:"none",form:c,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,o=this.getComponents(),i=o.MultiValue,l=o.MultiValueContainer,a=o.MultiValueLabel,s=o.MultiValueRemove,c=o.SingleValue,u=o.Placeholder,h=this.commonProps,p=this.props,f=p.controlShouldRenderValue,g=p.isDisabled,m=p.isMulti,b=p.inputValue,y=p.placeholder,w=this.state,k=w.selectValue,I=w.focusedValue,E=w.isFocused;if(!this.hasValue()||!f)return b?null:d.createElement(u,$e({},h,{key:"placeholder",isDisabled:g,isFocused:E,innerProps:{id:this.getElementId("placeholder")}}),y);if(m)return k.map(function(F,O){var M=F===I,H="".concat(r.getOptionLabel(F),"-").concat(r.getOptionValue(F));return d.createElement(i,$e({},h,{components:{Container:l,Label:a,Remove:s},isFocused:M,isDisabled:g,key:H,index:O,removeProps:{onClick:function(){return r.removeValue(F)},onTouchEnd:function(){return r.removeValue(F)},onMouseDown:function(T){T.preventDefault()}},data:F}),r.formatOptionLabel(F,"value"))});if(b)return null;var x=k[0];return d.createElement(c,$e({},h,{data:x,isDisabled:g}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),o=r.ClearIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,s=l.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||a||!this.hasValue()||s)return null;var u={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(o,$e({},i,{innerProps:u,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),o=r.LoadingIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,s=l.isLoading,c=this.state.isFocused;if(!o||!s)return null;var u={"aria-hidden":"true"};return d.createElement(o,$e({},i,{innerProps:u,isDisabled:a,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator,i=r.IndicatorSeparator;if(!o||!i)return null;var l=this.commonProps,a=this.props.isDisabled,s=this.state.isFocused;return d.createElement(i,$e({},l,{isDisabled:a,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator;if(!o)return null;var i=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(o,$e({},i,{innerProps:s,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var r=this,o=this.getComponents(),i=o.Group,l=o.GroupHeading,a=o.Menu,s=o.MenuList,c=o.MenuPortal,u=o.LoadingMessage,h=o.NoOptionsMessage,p=o.Option,f=this.commonProps,g=this.state.focusedOption,m=this.props,b=m.captureMenuScroll,y=m.inputValue,w=m.isLoading,k=m.loadingMessage,I=m.minMenuHeight,E=m.maxMenuHeight,x=m.menuIsOpen,F=m.menuPlacement,O=m.menuPosition,M=m.menuPortalTarget,H=m.menuShouldBlockScroll,T=m.menuShouldScrollIntoView,C=m.noOptionsMessage,R=m.onMenuScrollToTop,D=m.onMenuScrollToBottom;if(!x)return null;var S=function(K,se){var te=K.type,ue=K.data,fe=K.isDisabled,ae=K.isSelected,z=K.label,P=K.value,G=g===ue,le=fe?void 0:function(){return r.onOptionHover(ue)},de=fe?void 0:function(){return r.selectOption(ue)},Oe="".concat(r.getElementId("option"),"-").concat(se),ge={id:Oe,onClick:de,onMouseMove:le,onMouseOver:le,tabIndex:-1,role:"option","aria-selected":r.state.isAppleDevice?void 0:ae};return d.createElement(p,$e({},f,{innerProps:ge,data:ue,isDisabled:fe,isSelected:ae,key:Oe,label:z,type:te,value:P,isFocused:G,innerRef:G?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(K.data,"menu"))},Q;if(this.hasOptions())Q=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var se=K.data,te=K.options,ue=K.index,fe="".concat(r.getElementId("group"),"-").concat(ue),ae="".concat(fe,"-heading");return d.createElement(i,$e({},f,{key:fe,data:se,options:te,Heading:l,headingProps:{id:ae,data:K.data},label:r.formatGroupLabel(K.data)}),K.options.map(function(z){return S(z,"".concat(ue,"-").concat(z.index))}))}else if(K.type==="option")return S(K,"".concat(K.index))});else if(w){var $=k({inputValue:y});if($===null)return null;Q=d.createElement(u,f,$)}else{var q=C({inputValue:y});if(q===null)return null;Q=d.createElement(h,f,q)}var ie={minMenuHeight:I,maxMenuHeight:E,menuPlacement:F,menuPosition:O,menuShouldScrollIntoView:T},ee=d.createElement(fv,$e({},f,ie),function(K){var se=K.ref,te=K.placerProps,ue=te.placement,fe=te.maxHeight;return d.createElement(a,$e({},f,ie,{innerRef:se,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:w,placement:ue}),d.createElement(Nb,{captureEnabled:b,onTopArrive:R,onBottomArrive:D,lockEnabled:H},function(ae){return d.createElement(s,$e({},f,{innerRef:function(z){r.getMenuListRef(z),ae(z)},innerProps:{role:"listbox","aria-multiselectable":f.isMulti,id:r.getElementId("listbox")},isLoading:w,maxHeight:fe,focusedOption:g}),Q)}))});return M||O==="fixed"?d.createElement(c,$e({},f,{appendTo:M,controlElement:this.controlRef,menuPlacement:F,menuPosition:O}),ee):ee}},{key:"renderFormField",value:function(){var r=this,o=this.props,i=o.delimiter,l=o.isDisabled,a=o.isMulti,s=o.name,c=o.required,u=this.state.selectValue;if(c&&!this.hasValue()&&!l)return d.createElement($b,{name:s,onFocus:this.onValueInputFocus});if(!(!s||l))if(a)if(i){var h=u.map(function(g){return r.getOptionValue(g)}).join(i);return d.createElement("input",{name:s,type:"hidden",value:h})}else{var p=u.length>0?u.map(function(g,m){return d.createElement("input",{key:"i-".concat(m),name:s,type:"hidden",value:r.getOptionValue(g)})}):d.createElement("input",{name:s,type:"hidden",value:""});return d.createElement("div",null,p)}else{var f=u[0]?this.getOptionValue(u[0]):"";return d.createElement("input",{name:s,type:"hidden",value:f})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,o=this.state,i=o.ariaSelection,l=o.focusedOption,a=o.focusedValue,s=o.isFocused,c=o.selectValue,u=this.getFocusableOptions();return d.createElement(Ib,$e({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:a,isFocused:s,selectValue:c,focusableOptions:u,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),o=r.Control,i=r.IndicatorsContainer,l=r.SelectContainer,a=r.ValueContainer,s=this.props,c=s.className,u=s.id,h=s.isDisabled,p=s.menuIsOpen,f=this.state.isFocused,g=this.commonProps=this.getCommonProps();return d.createElement(l,$e({},g,{className:c,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:f}),this.renderLiveRegion(),d.createElement(o,$e({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:f,menuIsOpen:p}),d.createElement(a,$e({},g,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),d.createElement(i,$e({},g,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,o){var i=o.prevProps,l=o.clearFocusValueOnUpdate,a=o.inputIsHiddenAfterUpdate,s=o.ariaSelection,c=o.isFocused,u=o.prevWasFocused,h=o.instancePrefix,p=r.options,f=r.value,g=r.menuIsOpen,m=r.inputValue,b=r.isMulti,y=bd(f),w={};if(i&&(f!==i.value||p!==i.options||g!==i.menuIsOpen||m!==i.inputValue)){var k=g?iw(r,y):[],I=g?qd(qi(r,y),"".concat(h,"-option")):[],E=l?aw(o,y):null,x=lw(o,k),F=Xl(I,x);w={selectValue:y,focusedOption:x,focusedOptionId:F,focusableOptionsWithIds:I,focusedValue:E,clearFocusValueOnUpdate:!1}}var O=a!=null&&r!==i?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},M=s,H=c&&u;return c&&!H&&(M={value:Ki(b,y,y[0]||null),options:y,action:"initial-input-focus"},H=!u),s?.action==="initial-input-focus"&&(M=null),He(He(He({},w),O),{},{prevProps:r,ariaSelection:M,prevWasFocused:H})}}]),n}(d.Component);rh.defaultProps=ow;var cw=d.forwardRef(function(e,t){var n=f1(e);return d.createElement(rh,$e({ref:t},n))}),uw=cw;const dw=e=>{const{Menu:t}=Fd,{children:n,...r}=e;return d.createElement(t,{...r},n)},hw=rn("div")({name:"Wrap",class:"gdg-wghi2zc",propsAsIs:!1}),fw=rn("div")({name:"PortalWrap",class:"gdg-p13nj8j0",propsAsIs:!1}),pw=rn("div")({name:"ReadOnlyWrap",class:"gdg-r6sia3g",propsAsIs:!1}),gw=e=>{const{value:t,onFinishedEditing:n,initialValue:r,portalElementRef:o}=e,{allowedValues:i,value:l}=t.data,[a,s]=d.useState(l),[c,u]=d.useState(r??""),h=Cp(),p=d.useMemo(()=>i.map(f=>typeof f=="string"||f===null||f===void 0?{value:f,label:f?.toString()??""}:f),[i]);return t.readonly?d.createElement(pw,null,d.createElement(Fr,{highlight:!0,autoFocus:!1,disabled:!0,value:a??"",onChange:()=>{}})):d.createElement(hw,null,d.createElement(uw,{className:"glide-select",inputValue:c,onInputChange:u,menuPlacement:"auto",value:p.find(f=>f.value===a),styles:{control:f=>({...f,border:0,boxShadow:"none"}),option:(f,{isFocused:g})=>({...f,fontSize:h.editorFontSize,fontFamily:h.fontFamily,cursor:g?"pointer":void 0,paddingLeft:h.cellHorizontalPadding,paddingRight:h.cellHorizontalPadding,":active":{...f[":active"],color:h.accentFg},":empty::after":{content:'"&nbsp;"',visibility:"hidden"}})},theme:f=>({...f,colors:{...f.colors,neutral0:h.bgCell,neutral5:h.bgCell,neutral10:h.bgCell,neutral20:h.bgCellMedium,neutral30:h.bgCellMedium,neutral40:h.bgCellMedium,neutral50:h.textLight,neutral60:h.textMedium,neutral70:h.textMedium,neutral80:h.textDark,neutral90:h.textDark,neutral100:h.textDark,primary:h.accentColor,primary75:h.accentColor,primary50:h.accentColor,primary25:h.accentLight}}),menuPortalTarget:o?.current??document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:f=>d.createElement(fw,null,d.createElement(dw,{className:"click-outside-ignore",...f}))},options:p,onChange:async f=>{f!==null&&(s(f.value),await new Promise(g=>window.requestAnimationFrame(g)),n({...t,data:{...t.data,value:f.value}}))}}))},mw={kind:Z.Custom,isMatch:e=>e.data.kind==="dropdown-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{value:i}=t.data,l=t.data.allowedValues.find(s=>typeof s=="string"||s===null||s===void 0?s===i:s.value===i),a=typeof l=="string"?l:l?.label??"";return a&&(n.fillStyle=r.textDark,n.fillText(a,o.x+r.cellHorizontalPadding,o.y+o.height/2+Gn(n,r))),!0},measure:(e,t,n)=>{const{value:r}=t.data;return(r?e.measureText(r).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:gw,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,value:""}})}),onPaste:(e,t)=>({...t,value:t.allowedValues.some(n=>n==null?!1:typeof n=="string"?n===e:n.value===e)?e:t.value})};function vw(e,t){const n=/(\d+\.?\d*)\s*(px|rem|em|%|pt)/,r=e.match(n);if(r){const o=parseFloat(r[1]),i=r[2],l=o*t;return e.replace(n,`${Number(l.toPrecision(3))}${i}`)}return e}const bw={marginRight:8},ww={display:"flex",alignItems:"center",flexGrow:1},yw={kind:Z.Custom,isMatch:e=>e.data.kind==="range-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{min:i,max:l,value:a,label:s,measureLabel:c}=t.data,u=o.x+r.cellHorizontalPadding,h=o.y+o.height/2,p=l-i,f=(a-i)/p,g=`${vw(r.baseFontStyle,.9)} ${r.fontFamily}`,m=ja(n,g)/2;n.save();let b=0;s!==void 0&&(n.font=g,b=Lr(c??s,n,g).width+r.cellHorizontalPadding);const y=o.width-r.cellHorizontalPadding*2-b;if(y>=m){const w=n.createLinearGradient(u,h,u+y,h);w.addColorStop(0,r.accentColor),w.addColorStop(f,r.accentColor),w.addColorStop(f,r.bgBubble),w.addColorStop(1,r.bgBubble),n.beginPath(),n.fillStyle=w,id(n,u,h-m/2,y,m,m/2),n.fill(),n.beginPath(),id(n,u+.5,h-m/2+.5,y-1,m-1,(m-1)/2),n.strokeStyle=r.accentLight,n.lineWidth=1,n.stroke()}return s!==void 0&&(n.textAlign="right",n.fillStyle=r.textDark,n.fillText(s,o.x+o.width-r.cellHorizontalPadding,h+Gn(n,g))),n.restore(),!0},provideEditor:()=>e=>{const{data:t,readonly:n}=e.value,r=t.value.toString(),o=t.min.toString(),i=t.max.toString(),l=t.step.toString(),a=s=>{e.onChange({...e.value,data:{...t,value:Number(s.target.value)}})};return d.createElement("label",{style:ww},d.createElement("input",{style:bw,type:"range",value:r,min:o,max:i,step:l,onChange:a,disabled:n}),r)},onPaste:(e,t)=>{let n=Number.parseFloat(e);return n=Number.isNaN(n)?t.value:Math.max(t.min,Math.min(t.max,n)),{...t,value:n}}},xw=rn("input")({name:"StyledInputBox",class:"gdg-s1wtovjx",propsAsIs:!1}),Gl=(e,t,n)=>{if(t==null)return"";n&&(t=new Date(t.getTime()+n));const r=t.toISOString();switch(e){case"date":return r.split("T")[0];case"datetime-local":return r.replace("Z","");case"time":return r.split("T")[1].replace("Z","");default:throw new Error(`Unknown date kind ${e}`)}},Cw=e=>{const t=e.value.data,{format:n,displayDate:r}=t,o=t.step!==void 0&&!Number.isNaN(Number(t.step))?Number(t.step):void 0,i=t.timezoneOffset?t.timezoneOffset*60*1e3:0,l=t.min instanceof Date?Gl(n,t.min,i):t.min,a=t.max instanceof Date?Gl(n,t.max,i):t.max,s=Gl(n,t.date,i);return e.value.readonly?Bt.createElement(Fr,{highlight:!0,autoFocus:!1,disabled:!0,value:r??"",onChange:()=>{}}):Bt.createElement(xw,{"data-testid":"date-picker-cell",required:!0,type:n,defaultValue:s,min:l,max:a,step:o,autoFocus:!0,onChange:c=>{isNaN(c.target.valueAsNumber)?e.onChange({...e.value,data:{...e.value.data,date:void 0}}):e.onChange({...e.value,data:{...e.value.data,date:new Date(c.target.valueAsNumber-i)}})}})},kw={kind:Z.Custom,isMatch:e=>e.data.kind==="date-picker-cell",draw:(e,t)=>{const{displayDate:n}=t.data;return $a(e,n,t.contentAlign),!0},measure:(e,t,n)=>{const{displayDate:r}=t.data;return e.measureText(r).width+n.cellHorizontalPadding*2},provideEditor:()=>({editor:Cw}),onPaste:(e,t)=>{let n=NaN;return e&&(n=Number(e).valueOf(),Number.isNaN(n)&&(n=Date.parse(e),t.format==="time"&&Number.isNaN(n)&&(n=Date.parse(`1970-01-01T${e}Z`)))),{...t,date:Number.isNaN(n)?void 0:new Date(n)}}},Sw="None";function oh(e,t,n){e.save(),e.beginPath(),e.moveTo(t.x+t.width-n.cellHorizontalPadding,t.y+1),e.lineTo(t.x+t.width,t.y+1),e.lineTo(t.x+t.width,t.y+1+n.cellHorizontalPadding),e.fillStyle=n.accentColor,e.fill(),e.restore()}const Mw=e=>{const{cell:t,theme:n,ctx:r}=e;$a({...e,theme:{...n,textDark:n.textLight,headerFontFull:`${n.headerFontStyle} ${n.fontFamily}`,baseFontFull:`${n.baseFontStyle} ${n.fontFamily}`,markerFontFull:`${n.markerFontStyle} ${n.fontFamily}`}},Sw,t.contentAlign),r.fillStyle=n.textDark};function Rw(e){const t=d.useCallback((r,o)=>{const{cell:i,theme:l,ctx:a,rect:s}=r,c=r.col;if(ao(i))oh(a,s,l);else if(Fi(i)&&c<e.length){const u=e[c];["checkbox","line_chart","bar_chart","progress"].includes(u.kind)?o():Mw(r),u.isRequired&&u.isEditable&&oh(a,s,l);return}o()},[e]),n=d.useMemo(()=>[d1,mw,yw,kw,...V0],[]);return{drawCell:t,customRenderers:n}}function Ew(){const e=Qr();return d.useMemo(()=>{const t={editable:n=>`<svg xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 96 960 960" width="40" fill="${n.bgColor}"><path d="m800.641 679.743-64.384-64.384 29-29q7.156-6.948 17.642-6.948 10.485 0 17.742 6.948l29 29q6.948 7.464 6.948 17.95 0 10.486-6.948 17.434l-29 29Zm-310.64 246.256v-64.383l210.82-210.821 64.384 64.384-210.821 210.82h-64.383Zm-360-204.872v-50.254h289.743v50.254H130.001Zm0-162.564v-50.255h454.615v50.255H130.001Zm0-162.307v-50.255h454.615v50.255H130.001Z"/></svg>`};return{glideTheme:{accentColor:e.colors.primary,accentFg:e.colors.white,accentLight:So(e.colors.primary,.9),borderColor:e.colors.dataframeBorderColor,horizontalBorderColor:e.colors.dataframeBorderColor,fontFamily:e.genericFonts.bodyFont,bgSearchResult:So(e.colors.primary,.9),resizeIndicatorColor:e.colors.primary,bgIconHeader:e.colors.fadedText60,fgIconHeader:e.colors.white,bgHeader:e.colors.dataframeHeaderBackgroundColor,bgHeaderHasFocus:So(e.colors.darkenedBgMix100,.9),bgHeaderHovered:So(e.colors.darkenedBgMix100,.9),textHeader:e.colors.fadedText60,textHeaderSelected:e.colors.white,textGroupHeader:e.colors.fadedText60,headerIconSize:Math.round(cn("1.125rem")),headerFontStyle:`${e.fontWeights.normal} ${cn(e.fontSizes.sm)}px`,baseFontStyle:`${e.fontWeights.normal} ${cn(e.fontSizes.sm)}px`,editorFontSize:e.fontSizes.sm,textDark:e.colors.bodyText,textMedium:So(e.colors.bodyText,.2),textLight:e.colors.fadedText40,bgCell:e.colors.bgColor,bgCellMedium:e.colors.bgColor,cellHorizontalPadding:Math.round(cn(e.spacing.sm)),cellVerticalPadding:Math.round(cn("0.1875rem")),textBubble:e.colors.fadedText60,bgBubble:e.colors.secondaryBg,bgBubbleSelected:e.colors.secondaryBg,bubbleHeight:Math.round(cn("1.25rem")),bubblePadding:Math.round(cn(e.spacing.sm)),bubbleMargin:Math.round(cn(e.spacing.twoXS)),linkColor:e.colors.link,drilldownBorder:e.colors.darkenedBgMix25,checkboxMaxSize:Math.round(cn(e.sizes.checkbox))},tableBorderRadius:e.radii.default,tableBorderWidth:1,defaultTableHeight:Math.round(cn("25rem")),minColumnWidth:Math.round(cn("3.125rem")),maxColumnWidth:Math.round(cn("62.5rem")),maxColumnAutoWidth:Math.round(cn("31.25rem")),defaultRowHeight:Math.round(cn("2.1875rem")),defaultHeaderHeight:Math.round(cn("2.1875rem")),bgRowHovered:Kx(e.colors.bgColor,e.colors.secondaryBg,.3),headerIcons:t}},[e])}const Iw=ba.getLogger("useDataEditor");function Tw(e,t,n,r,o,i,l,a,s){const c=d.useCallback(([m,b],y)=>{const w=e[m];if(!w.isEditable)return;const k=w.indexNumber,I=n.current.getOriginalRowIndex(o(b)),E=r([m,b]),x=w.getCellValue(E),F=w.getCellValue(y);if(!ao(E)&&F===x)return;const O=w.getCell(F,!0);ao(O)?Iw.warn(`Not applying the cell edit since it causes this error:
 ${O.data}`):(n.current.setCell(k,I,{...O,lastUpdated:performance.now()}),a())},[e,n,o,r,a]),u=d.useCallback(()=>{if(t)return;const m=new Map;e.forEach(b=>{m.set(b.indexNumber,b.getCell(b.defaultValue))}),n.current.addRow(m),l()},[e,n,t,l]),h=d.useCallback(()=>{t||(u(),a())},[u,a,t]),p=d.useCallback(m=>{if(m.rows.length>0){if(t)return!0;const b=m.rows.toArray().map(y=>n.current.getOriginalRowIndex(o(y)));return n.current.deleteRows(b),l(),s(),a(),!1}if(m.current?.range){const b=[],y=m.current.range;for(let w=y.y;w<y.y+y.height;w++)for(let k=y.x;k<y.x+y.width;k++){const I=e[k];I.isEditable&&!I.isRequired&&(b.push({cell:[k,w]}),c([k,w],I.getCell(null)))}return b.length>0&&(a(),i(b)),!1}return!0},[e,n,t,i,o,a,c,s,l]),f=d.useCallback((m,b)=>{const[y,w]=m,k=[];for(let I=0;I<b.length;I++){const E=b[I];if(I+w>=n.current.getNumRows()){if(t)break;u()}for(let x=0;x<E.length;x++){const F=E[x],O=I+w,M=x+y;if(M>=e.length)break;const H=e[M];if(H.isEditable){const T=H.getCell(F,!0);if(st(T)&&!ao(T)){const C=H.indexNumber,R=n.current.getOriginalRowIndex(o(O)),D=H.getCellValue(r([M,O]));H.getCellValue(T)!==D&&(n.current.setCell(C,R,{...T,lastUpdated:performance.now()}),k.push({cell:[M,O]}))}}}k.length>0&&(a(),i(k))}return!1},[e,n,t,o,r,u,a,i]),g=d.useCallback((m,b)=>{const y=m[0];if(y>=e.length)return!0;const w=e[y];if(w.validateInput){const k=w.validateInput(w.getCellValue(b));return k===!0||k===!1?k:w.getCell(k)}return!0},[e]);return{onCellEdited:c,onPaste:f,onRowAppended:h,onDelete:p,validateCell:g}}const ih=",",Qo='"',Ow='"',ah=`
`,Dw="\uFEFF",Pw=new RegExp(`[${[ih,Qo,ah].join("")}]`),lh=ba.getLogger("useDataExporter");function sh(e){return e.map(t=>Fw(t)).join(ih)+ah}function Fw(e){if(_e(e))return"";const t=ft(e);return Pw.test(t)?`${Qo}${t.replace(new RegExp(Qo,"g"),Ow+Qo)}${Qo}`:t}async function ch(e,t,n,r){const o=new TextEncoder;await e.write(o.encode(Dw));const i=n.map(l=>l.name);await e.write(o.encode(sh(i)));for(let l=0;l<r;l++){const a=[];n.forEach((s,c,u)=>{a.push(s.getCellValue(t([c,l])))}),await e.write(o.encode(sh(a)))}await e.close()}function Hw(e,t,n,r){return{exportToCsv:d.useCallback(async()=>{const o=`${new Date().toISOString().slice(0,16).replace(":","-")}_export.csv`;try{const i=await(await(await import("./es6--XPcqeHG.js").then(async l=>(await l.__tla,l)).then(l=>l.a)).showSaveFilePicker({suggestedName:o,types:[{accept:{"text/csv":[".csv"]}}],excludeAcceptAllOption:!1})).createWritable();await ch(i,e,t,n)}catch(i){if(i instanceof Error&&i.name==="AbortError")return;try{lh.warn("Failed to export data as CSV with FileSystem API, trying fallback method",i);let l="";const a=new WritableStream({write:h=>{l+=new TextDecoder("utf-8").decode(h)},close:async()=>{}});await ch(a.getWriter(),e,t,n);const s=new Blob([l],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(s),u=fC({enforceDownloadInNewTab:r,url:c,filename:o});u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)}catch(l){lh.error("Failed to export data as CSV",l)}}},[t,n,e,r])}}function Aw(e,t,n,r){return{getCellContent:d.useCallback(([o,i])=>{if(o>t.length-1)return Et("Column index out of bounds","This error should never happen. Please report this bug.");if(i>n-1)return Et("Row index out of bounds","This error should never happen. Please report this bug.");try{const l=t[o],a=l.indexNumber,s=r.current.getOriginalRowIndex(i),c=r.current.isAddedRow(s);if(l.isEditable||c){const p=r.current.getCell(a,s);if(st(p))return{...l.getCell(l.getCellValue(p),!1),lastUpdated:p.lastUpdated};if(c)return Et("Error during cell creation",`This error should never happen. Please report this bug. No cell found for an added row: col=${a}; row=${s}`)}const u=e.getCell(s,a),h=qx(e,s,a);return K0(l,u,h,e.styler?.cssStyles)}catch(l){return Et("Error during cell creation",`This error should never happen. Please report this bug. 
Error: ${l}`)}},[t,n,e,r])}}function Lw(e){const[t,n]=d.useState(void 0),r=d.useCallback(o=>{if(o.kind!=="cell")n(void 0);else{const[,i]=o.location;n(i)}},[n]);return{getRowThemeOverride:d.useCallback(o=>{if(o===t)return{bgCell:e.bgRowHovered,bgCellMedium:e.bgRowHovered}},[e.bgRowHovered,t]),onItemHovered:r}}function zw(e,t,n,r,o){const[i,l]=d.useState({columns:ot.empty(),rows:ot.empty(),current:void 0}),a=!t&&!n&&(e.selectionMode.includes(xn.SelectionMode.MULTI_ROW)||e.selectionMode.includes(xn.SelectionMode.SINGLE_ROW)),s=a&&e.selectionMode.includes(xn.SelectionMode.MULTI_ROW),c=!t&&!n&&(e.selectionMode.includes(xn.SelectionMode.SINGLE_COLUMN)||e.selectionMode.includes(xn.SelectionMode.MULTI_COLUMN)),u=c&&e.selectionMode.includes(xn.SelectionMode.MULTI_COLUMN),h=i.rows.length>0,p=i.columns.length>0,f=i.current!==void 0,g=d.useCallback(b=>{const y=!Cs(b.rows.toArray(),i.rows.toArray()),w=!Cs(b.columns.toArray(),i.columns.toArray()),k=!Cs(b.current,i.current);let I=a&&y||c&&w,E=b;if((a||c)&&b.current!==void 0&&k&&(E={...b,rows:i.rows,columns:i.columns},I=!1),y&&b.rows.length>0&&w&&b.columns.length===0&&(E={...E,columns:i.columns},I=!0),w&&b.columns.length>0&&y&&b.rows.length===0&&(E={...E,rows:i.rows},I=!0),w&&E.columns.length>=0){let x=E.columns;r.forEach((F,O)=>{F.isIndex&&(x=x.remove(O))}),x.length<E.columns.length&&(E={...E,columns:x})}l(E),I&&o(E)},[i,a,c,o,r]),m=d.useCallback((b=!1,y=!1)=>{const w={columns:y?i.columns:ot.empty(),rows:b?i.rows:ot.empty(),current:void 0};l(w),(!b&&a||!y&&c)&&o(w)},[i,a,c,o]);return{gridSelection:i,isRowSelectionActivated:a,isMultiRowSelectionActivated:s,isColumnSelectionActivated:c,isMultiColumnSelectionActivated:u,isRowSelected:h,isColumnSelected:p,isCellSelected:f,clearSelection:m,processSelectionChange:g}}function _w(e,t,n,r,o,i,l){const a=e.rowHeight??t.defaultRowHeight,s=t.defaultHeaderHeight+a+2*t.tableBorderWidth,c=r?2:1,u=e.editingMode===xn.EditingMode.DYNAMIC?1:0,h=n+u;let p=Math.max(h*a+c*t.defaultHeaderHeight+2*t.tableBorderWidth,s),f=Math.min(p,t.defaultTableHeight);e.height&&(f=Math.max(e.height,s),p=Math.max(e.height,p)),i&&(f=Math.min(f,i),p=Math.min(p,i),e.height||(f=p));const g=t.minColumnWidth+2*t.tableBorderWidth,m=Math.max(o,g);let b,y=m;e.useContainerWidth?b=m:e.width&&(b=Math.min(Math.max(e.width,g),m),y=Math.min(Math.max(e.width,y),m));const[w,k]=d.useState({width:b||"100%",height:f});return d.useLayoutEffect(()=>{e.useContainerWidth&&w.width==="100%"&&k(I=>({...I,width:m}))},[m]),d.useLayoutEffect(()=>{k(I=>({...I,width:b||"100%"}))},[b]),d.useLayoutEffect(()=>{k(I=>({...I,height:f}))},[f,n]),d.useLayoutEffect(()=>{if(l){const I=e.useContainerWidth||st(e.width)&&e.width>0;k({width:I?y:"100%",height:p})}else k({width:b||"100%",height:f})},[l]),{minHeight:s,maxHeight:p,minWidth:g,maxWidth:y,rowHeight:a,resizableSize:w,setResizableSize:k}}const Vw=600,Nw="\u26A0\uFE0F Please fill out this cell.";function Bw(e,t,n=[]){const[r,o]=d.useState(),i=d.useRef(null),l=d.useCallback(s=>{if(clearTimeout(i.current),i.current=0,o(void 0),(s.kind==="header"||s.kind==="cell")&&s.location){const c=s.location[0],u=s.location[1];let h;if(c<0||c>=e.length||n.includes(u))return;const p=e[c];if(s.kind==="header"&&st(p))h=p.help;else if(s.kind==="cell"){const f=t([c,u]);ao(f)?h=f.errorDetails:p.isRequired&&p.isEditable&&Fi(f)?h=Nw:R0(f)&&(h=f.tooltip)}h&&(i.current=setTimeout(()=>{h&&o({content:h,left:s.bounds.x+s.bounds.width/2,top:s.bounds.y})},Vw))}},[e,t,o,i,n]),a=d.useCallback(()=>{o(void 0)},[o]);return{tooltip:r,clearTooltip:a,onItemHovered:l}}const uh=Un("div",{target:"e1hnsd047"})(({theme:e})=>({paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}),""),vr=Un("div",{target:"e1hnsd046"})(({theme:e,isActive:t,hasSubmenu:n})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",gap:e.spacing.sm,paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,paddingTop:e.spacing.twoXS,paddingBottom:e.spacing.twoXS,cursor:"pointer",backgroundColor:t?e.colors.darkenedBgMix15:void 0,"&:hover":{backgroundColor:e.colors.darkenedBgMix15},minWidth:e.sizes.minMenuWidth,...n&&{justifyContent:"space-between","& > :first-of-type":{display:"flex",alignItems:"center",gap:e.spacing.sm}}}),""),Ww=Un("div",{target:"e1hnsd045"})(({theme:e})=>({height:e.sizes.borderWidth,backgroundColor:e.colors.borderColor,marginTop:e.spacing.xs,marginBottom:e.spacing.xs}),""),$w=Un("div",{target:"e1hnsd044"})(({theme:e})=>({display:"flex",alignItems:"center",padding:`${e.spacing.sm} ${e.spacing.sm}`,cursor:"default",gap:e.spacing.twoXS}),""),jw=Un("div",{target:"e1hnsd043"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing.twoXS,border:`${e.sizes.borderWidth} solid ${e.colors.borderColor}`,borderRadius:e.radii.md,backgroundColor:"transparent",color:e.colors.bodyText,height:"fit-content"}),""),Uw=Un("div",{target:"e1hnsd042"})(({theme:e})=>({display:"flex",alignItems:"center",flexGrow:1,padding:`${e.spacing.threeXS} ${e.spacing.threeXS}`,border:`${e.sizes.borderWidth} solid ${e.colors.borderColor}`,borderRadius:e.radii.md,backgroundColor:e.colors.secondaryBg,minWidth:0,overflow:"hidden"}),""),Xw=Un("span",{target:"e1hnsd041"})(({theme:e})=>({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1,margin:`0 ${e.spacing.xs}`,fontSize:e.fontSizes.twoSm,maxWidth:"4rem"}),""),Gw=Un("button",{target:"e1hnsd040"})(({theme:e})=>({background:"none",border:"none",padding:e.spacing.twoXS,cursor:"pointer",color:e.colors.bodyText,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.radii.md,transition:"background-color 0.2s ease","&:hover":{backgroundColor:e.colors.fadedText05},"&:active":{backgroundColor:e.colors.fadedText10}}),""),dh=[{format:"",label:"Automatic",icon:":material/123:"},{format:"localized",label:"Localized",icon:":material/translate:"},{format:"plain",label:"Plain",icon:":material/speed_1_75:"},{format:"compact",label:"Compact",icon:":material/1k:"},{format:"dollar",label:"Dollar",icon:":material/attach_money:"},{format:"euro",label:"Euro",icon:":material/euro:"},{format:"yen",label:"Yen",icon:":material/currency_yen:"},{format:"percent",label:"Percent",icon:":material/percent:"},{format:"scientific",label:"Scientific",icon:":material/experiment:"},{format:"accounting",label:"Accounting",icon:":material/finance_chip:"}],Yw={number:dh,progress:dh,datetime:[{format:"",label:"Automatic",icon:":material/schedule:"},{format:"localized",label:"Localized",icon:":material/translate:"},{format:"distance",label:"Distance",icon:":material/search_activity:"},{format:"calendar",label:"Calendar",icon:":material/today:"}],date:[{format:"",label:"Automatic",icon:":material/schedule:"},{format:"localized",label:"Localized",icon:":material/translate:"},{format:"distance",label:"Distance",icon:":material/search_activity:"}],time:[{format:"",label:"Automatic",icon:":material/schedule:"},{format:"localized",label:"Localized",icon:":material/translate:"}]};function Kw({columnKind:e,isOpen:t,onMouseEnter:n,onMouseLeave:r,onChangeFormat:o,onCloseMenu:i,children:l}){const a=Qr(),{colors:s,fontSizes:c,radii:u,fontWeights:h}=a,p=Yw[e]||[];return p.length===0?ye.jsx(ye.Fragment,{}):ye.jsx(xa,{triggerType:Kh.hover,returnFocus:!0,autoFocus:!0,focusLock:!0,isOpen:t,onMouseEnter:n,onMouseLeave:r,ignoreBoundary:!0,content:ye.jsx(uh,{role:"menu",children:p.map(f=>ye.jsxs(vr,{onClick:()=>{o(f.format),i()},role:"menuitem",children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:f.icon}),f.label]},f.format))}),placement:Ca.right,showArrow:!1,popoverMargin:2,overrides:{Body:{props:{"data-testid":"stDataFrameColumnFormattingMenu"},style:{borderTopLeftRadius:u.default,borderTopRightRadius:u.default,borderBottomLeftRadius:u.default,borderBottomRightRadius:u.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent",border:`${a.sizes.borderWidth} solid ${a.colors.borderColor}`}},Inner:{style:{backgroundColor:ka(a)?s.bgColor:s.secondaryBg,color:s.bodyText,fontSize:c.sm,fontWeight:h.normal,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},children:l})}const qw=d.memo(Kw),hh=ba.getLogger("ColumnMenu");function Zw({top:e,left:t,isColumnPinned:n,onPinColumn:r,onUnpinColumn:o,onCloseMenu:i,onSortColumn:l,onHideColumn:a,column:s,onChangeFormat:c,onAutosize:u}){const h=Qr(),[p,f]=d.useState(!1),{colors:g,fontSizes:m,radii:b,fontWeights:y}=h;d.useEffect(()=>{function I(E){E.preventDefault()}return document.addEventListener("wheel",I,{passive:!1}),document.addEventListener("touchmove",I,{passive:!1}),()=>{document.removeEventListener("wheel",I),document.removeEventListener("touchmove",I)}},[]);const w=d.useCallback(()=>{i()},[i]),k=d.useCallback(()=>{navigator.clipboard?navigator.clipboard.writeText(s.title).catch(I=>{hh.error("Failed to copy column name to clipboard:",I)}):hh.error("Clipboard API not supported.")},[s.title]);return ye.jsx(xa,{autoFocus:!0,"aria-label":"Dataframe column menu",content:ye.jsxs(uh,{children:[ye.jsxs($w,{children:[ye.jsx(jw,{title:s.kind,children:ye.jsx(Xn,{iconValue:s.typeIcon||":material/notes:",size:"base",color:"inherit"})}),ye.jsxs(Uw,{title:s.title,children:[ye.jsx(Xw,{children:s.title}),ye.jsx(Gw,{onClick:k,title:"Copy column name","aria-label":"Copy column name",children:ye.jsx(Xn,{iconValue:":material/content_copy:",size:"sm",margin:"0",color:"inherit"})})]})]}),l&&ye.jsxs(ye.Fragment,{children:[ye.jsxs(vr,{onClick:()=>{l("asc"),w()},role:"menuitem",children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrow_upward:"}),"Sort ascending"]}),ye.jsxs(vr,{onClick:()=>{l("desc"),w()},role:"menuitem",children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrow_downward:"}),"Sort descending"]}),ye.jsx(Ww,{})]}),c&&ye.jsx(qw,{columnKind:s.kind,isOpen:p,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onChangeFormat:c,onCloseMenu:w,children:ye.jsxs(vr,{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),isActive:p,hasSubmenu:!0,children:[ye.jsxs("div",{children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/format_list_numbered:"}),"Format"]}),ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/chevron_right:"})]})}),u&&ye.jsxs(vr,{onClick:()=>{u(),w()},children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrows_outward:"}),"Autosize"]}),n&&ye.jsxs(vr,{onClick:()=>{o(),w()},children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/keep_off:"}),"Unpin column"]}),!n&&ye.jsxs(vr,{onClick:()=>{r(),w()},children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/keep:"}),"Pin column"]}),a&&ye.jsxs(vr,{onClick:()=>{a(),w()},children:[ye.jsx(Xn,{size:"base",margin:"0",color:"inherit",iconValue:":material/visibility_off:"}),"Hide column"]})]}),placement:Ca.bottomRight,accessibilityType:qh.menu,showArrow:!1,popoverMargin:cn("0.375rem"),onClickOutside:p?void 0:w,onEsc:w,overrides:{Body:{props:{"data-testid":"stDataFrameColumnMenu"},style:{paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{border:`${h.sizes.borderWidth} solid ${h.colors.borderColor}`,backgroundColor:ka(h)?g.bgColor:g.secondaryBg,color:g.bodyText,fontSize:m.sm,fontWeight:y.normal,borderTopLeftRadius:b.default,borderTopRightRadius:b.default,borderBottomLeftRadius:b.default,borderBottomRightRadius:b.default,overflow:"auto",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:!0,children:ye.jsx("div",{"data-testid":"stDataFrameColumnMenuTarget",style:{position:"fixed",top:e,left:t,visibility:"hidden",transform:"unset"}})})}const Qw=d.memo(Zw),Jw="(index)",ey=({label:e,initialValue:t,onChange:n})=>{const r=Qr();return ye.jsx(uC,{checked:t,onChange:o=>{n(o.target.checked)},"aria-label":e,checkmarkType:hC.default,labelPlacement:dC.right,overrides:{Root:{style:({$isFocusVisible:o})=>({marginBottom:r.spacing.none,marginTop:r.spacing.none,paddingLeft:r.spacing.md,paddingRight:r.spacing.md,paddingTop:r.spacing.twoXS,paddingBottom:r.spacing.twoXS,backgroundColor:o?r.colors.darkenedBgMix25:"",display:"flex",alignItems:"start"})},Checkmark:{style:({$isFocusVisible:o,$checked:i})=>{const l=i?r.colors.primary:r.colors.fadedText40;return{outline:0,width:r.sizes.checkbox,height:r.sizes.checkbox,marginTop:r.spacing.twoXS,marginLeft:0,marginBottom:0,boxShadow:o&&i?`0 0 0 0.2rem ${So(r.colors.primary,.5)}`:"",borderLeftWidth:r.sizes.borderWidth,borderRightWidth:r.sizes.borderWidth,borderTopWidth:r.sizes.borderWidth,borderBottomWidth:r.sizes.borderWidth,borderLeftColor:l,borderRightColor:l,borderTopColor:l,borderBottomColor:l}}},Label:{style:{lineHeight:r.lineHeights.small,paddingLeft:r.spacing.sm,position:"relative",color:r.colors.bodyText,fontSize:r.fontSizes.sm,fontWeight:r.fontWeights.normal}}},children:e})},ty=({columns:e,columnOrder:t,setColumnOrder:n,hideColumn:r,showColumn:o,children:i,isOpen:l,onClose:a})=>{const s=Qr();return ye.jsx(xa,{triggerType:Kh.click,placement:Ca.bottomRight,autoFocus:!0,focusLock:!0,content:()=>ye.jsx("div",{style:{paddingTop:s.spacing.sm,paddingBottom:s.spacing.sm},children:e.map(c=>{const u=t.length&&!c.isIndex?!t.includes(c.id)&&!t.includes(c.name):!1;return ye.jsx(ey,{label:!c.title&&c.isIndex?Jw:c.title,initialValue:!(c.isHidden===!0||u),onChange:h=>{h?(o(c.id),u&&n(p=>[...p,c.id])):r(c.id)}},c.id)})}),isOpen:l,onClickOutside:a,onClick:()=>l?a():void 0,onEsc:a,ignoreBoundary:!1,overrides:{Body:{props:{"data-testid":"stDataFrameColumnVisibilityMenu"},style:{borderTopLeftRadius:s.radii.default,borderTopRightRadius:s.radii.default,borderBottomLeftRadius:s.radii.default,borderBottomRightRadius:s.radii.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent",border:`${s.sizes.borderWidth} solid ${s.colors.borderColor}`}},Inner:{style:{backgroundColor:ka(s)?s.colors.bgColor:s.colors.secondaryBg,color:s.colors.bodyText,fontSize:s.fontSizes.sm,fontWeight:s.fontWeights.normal,minWidth:s.sizes.minMenuWidth,maxWidth:`calc(${s.sizes.minMenuWidth} * 2)`,maxHeight:s.sizes.maxDropdownHeight,overflow:"auto",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},children:ye.jsx("div",{children:i})})},ny=d.memo(ty),fh=Un("div",{target:"e1w7nams0"})(({theme:e,isInHorizontalLayout:t})=>({position:"relative",display:t?"flex":"inline-block","& .stDataFrameGlideDataEditor":{height:"100%",minWidth:"100%",borderRadius:e.radii.default},"& .dvn-scroller":{overflowX:"auto !important",overflowY:"auto !important"},"& .gdg-search-bar":{maxWidth:"19rem",width:"80%",minWidth:"6rem",top:e.spacing.sm,right:e.spacing.sm,padding:e.spacing.sm,borderRadius:e.radii.default,"& .gdg-search-status":{paddingTop:e.spacing.twoXS,fontSize:e.fontSizes.twoSm},"& .gdg-search-progress":{display:"none"},"& input":{width:"100%"},"& button":{width:e.iconSizes.xl,height:e.iconSizes.xl,"& .button-icon":{width:e.iconSizes.base,height:e.iconSizes.base}}}}),"");function ry({top:e,left:t,content:n,clearTooltip:r}){const[o,i]=d.useState(!0),l=Qr(),{colors:a,fontSizes:s,radii:c,fontWeights:u}=l,h=d.useCallback(()=>{i(!1),r()},[r,i]);return ye.jsx(xa,{content:ye.jsx(Zx,{"data-testid":"stDataFrameTooltipContent",children:ye.jsx(Qx,{style:{fontSize:s.sm},source:n,allowHTML:!1})}),placement:Ca.top,accessibilityType:qh.tooltip,showArrow:!1,popoverMargin:5,onClickOutside:h,onEsc:h,overrides:{Body:{style:{borderTopLeftRadius:c.default,borderTopRightRadius:c.default,borderBottomLeftRadius:c.default,borderBottomRightRadius:c.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{backgroundColor:ka(l)?a.bgColor:a.secondaryBg,color:a.bodyText,fontSize:s.sm,fontWeight:u.normal,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:o,children:ye.jsx("div",{"data-testid":"stDataFrameTooltipTarget",style:{position:"fixed",top:e,left:t}})})}const oy=d.memo(ry),ph=150,iy=15e4,ay="0.5rem";function ly({element:e,data:t,disabled:n,widgetMgr:r,disableFullscreenMode:o,fragmentId:i}){const{expanded:l,expand:a,collapse:s,width:c,height:u}=Zh(iC),{isInHorizontalLayout:h}=Zh(Jx),p=d.useRef(null),f=d.useRef(null),g=d.useRef(null),m=eC(),b=Ew(),{getRowThemeOverride:y,onItemHovered:w}=Lw(b),{libConfig:{enforceDownloadInNewTab:k=!1}}=d.useContext(tC),[I,E]=d.useState(!0),[x,F]=d.useState(!1),[O,M]=d.useState(!1),[H,T]=d.useState(!1),[C,R]=d.useState(),[D,S]=d.useState(!1),Q=d.useCallback(()=>S(ve=>!ve),[]),$=d.useCallback(()=>S(!1),[]),q=d.useMemo(()=>window.matchMedia&&window.matchMedia("(pointer: coarse)").matches,[]);_e(e.editingMode)&&(e.editingMode=xn.EditingMode.READ_ONLY);const{READ_ONLY:ie,DYNAMIC:ee}=xn.EditingMode,K=t.dimensions,se=Math.max(0,K.numDataRows),te=se===0&&!(e.editingMode===ee&&K.numDataColumns>0),ue=se>iy,fe=!ue&&!te&&e.editingMode!==ee,ae=!te&&e.editingMode===ee&&!n,z=d.useRef(new Vi(se)),[P,G]=d.useState(z.current.getNumRows());d.useEffect(()=>{z.current=new Vi(se),G(z.current.getNumRows())},[se]);const le=d.useCallback(()=>{z.current=new Vi(se),G(z.current.getNumRows())},[se]),[de,Oe]=d.useState(e.columnOrder);d.useEffect(()=>{Oe(e.columnOrder)},[e.columnOrder.join(",")]);const{columns:ge,allColumns:it,setColumnConfigMapping:Re}=Q0(e,t,n,de);d.useEffect(()=>{if(e.editingMode===ie)return;const ve=r.getStringValue({id:e.id,formId:e.formId});ve&&(z.current.fromJson(ve,ge),G(z.current.getNumRows()))},[]);const{getCellContent:Lt}=Aw(t,ge,P,z),{columns:Ye,sortColumn:Xe,getOriginalIndex:ne,getCellContent:pe}=s1(se,ge,Lt),Ce=d.useCallback(ve=>{const ut={selection:{rows:[],columns:[]}};ut.selection.rows=ve.rows.toArray().map(Xt=>ne(Xt)),ut.selection.columns=ve.columns.toArray().map(Xt=>Ko(Ye[Xt]));const bt=JSON.stringify(ut),Zt=r.getStringValue({id:e.id,formId:e.formId});(Zt===void 0||Zt!==bt)&&r.setStringValue({id:e.id,formId:e.formId},bt,{fromUi:!0},i)},[Ye,e.id,e.formId,r,i,ne]),{debouncedCallback:ce}=Du(Ce,ph),{gridSelection:xe,isRowSelectionActivated:Ie,isMultiRowSelectionActivated:Ae,isColumnSelectionActivated:et,isMultiColumnSelectionActivated:Pe,isRowSelected:je,isColumnSelected:Ne,isCellSelected:Te,clearSelection:Ee,processSelectionChange:mt}=zw(e,te,n,Ye,ce);d.useEffect(()=>{Ee(!0,!0)},[l]);const pt=d.useCallback(ve=>{f.current?.updateCells(ve)},[]);d.useEffect(()=>{if(!Ie&&!et)return;const ve=r.getStringValue({id:e.id,formId:e.formId});if(ve){const ut=Ye.map(or=>Ko(or)),bt=JSON.parse(ve);let Zt=ot.empty(),Xt=ot.empty();bt.selection?.rows?.forEach(or=>{Zt=Zt.add(or)}),bt.selection?.columns?.forEach(or=>{Xt=Xt.add(ut.indexOf(or))}),(Zt.length>0||Xt.length>0)&&mt({rows:Zt,columns:Xt,current:void 0})}},[]);const Ke=d.useCallback(()=>{P!==z.current.getNumRows()&&G(z.current.getNumRows())},[P]),Ct=d.useCallback(()=>{const ve=z.current.toJson(Ye);let ut=r.getStringValue({id:e.id,formId:e.formId});ut===void 0&&(ut=new Vi(0).toJson([])),ve!==ut&&r.setStringValue({id:e.id,formId:e.formId},ve,{fromUi:!0},i)},[Ye,e.id,e.formId,r,i]),{debouncedCallback:qt}=Du(Ct,ph),{exportToCsv:zt}=Hw(pe,Ye,P,k),{onCellEdited:Mt,onPaste:fn,onRowAppended:jt,onDelete:on,validateCell:Tt}=Tw(Ye,e.editingMode!==ee,z,pe,ne,pt,Ke,qt,Ee),wt=d.useMemo(()=>te?[0]:ae?[P]:[],[te,ae,P]),{tooltip:an,clearTooltip:ct,onItemHovered:ln}=Bw(Ye,pe,wt),{drawCell:Wt,customRenderers:Le}=Rw(Ye),{provideEditor:Rt}=u1(),_t=d.useCallback(ve=>({...ve,hasMenu:!te}),[te]),On=d.useMemo(()=>Ye.map(ve=>_t(ml(ve))),[Ye,_t]),{columns:Ut,onColumnResize:pn}=n1(On),Dn=t.dimensions.numHeaderRows>1,{minHeight:Jt,maxHeight:en,minWidth:Ue,maxWidth:Ot,rowHeight:Cn,resizableSize:vt,setResizableSize:Ft}=_w(e,b,P,Dn,c||0,u,l),kn=d.useCallback(([ve,ut])=>({...E0(!0,!1),displayData:"empty",contentAlign:"center",allowOverlay:!1,themeOverride:{textDark:b.glideTheme.textLight},span:[0,Math.max(Ye.length-1,0)]}),[Ye,b.glideTheme.textLight]),rr=d.useCallback(()=>{le(),Ee()},[le,Ee]);lC({element:e,widgetMgr:r,onFormCleared:rr});const{pinColumn:Bn,unpinColumn:N,freezeColumns:Be}=e1(Ye,te,c||0,b.minColumnWidth,Ee,Re),{changeColumnFormat:Ge}=J0(Re),{hideColumn:yt,showColumn:wn}=c1(Ee,Re),{onColumnMoved:un}=t1(Ye,Be,Bn,N,Oe);return d.useEffect(()=>{let ve;const ut=requestAnimationFrame(()=>{ve=setTimeout(()=>{if(g.current&&f.current){const bt=g.current?.querySelector(".dvn-stack")?.getBoundingClientRect();bt&&(M(bt.height>g.current.clientHeight),T(bt.width>g.current.clientWidth))}},0)});return()=>{cancelAnimationFrame(ut),ve&&clearTimeout(ve)}},[vt,P,Ut]),d.useEffect(()=>{it.length==Ye.length&&S(!1)},[it.length,Ye.length]),ye.jsxs(fh,{className:"stDataFrame","data-testid":"stDataFrame",ref:g,isInHorizontalLayout:h,onPointerDown:ve=>{if(g.current){const ut=g.current.getBoundingClientRect(),bt=(m||Math.round(cn(ay)))+1;H&&ut.height-bt<ve.clientY-ut.top&&ve.stopPropagation(),O&&ut.width-bt<ve.clientX-ut.left&&ve.stopPropagation()}},onBlur:ve=>{!I&&!q&&!ve.currentTarget.contains(ve.relatedTarget)&&Ee(!0,!0)},children:[ye.jsxs(aC,{isFullScreen:l,disableFullscreenMode:o,locked:je&&!Ie||Te||q&&I||D,onExpand:a,onCollapse:s,target:fh,children:[(Ie&&je||et&&Ne)&&ye.jsx(Mo,{label:"Clear selection",icon:pC,onClick:()=>{Ee(),ct()}}),ae&&je&&ye.jsx(Mo,{label:"Delete row(s)",icon:wC,onClick:()=>{on&&(on(xe),ct())}}),ae&&!je&&ye.jsx(Mo,{label:"Add row",icon:Rs,onClick:()=>{jt&&(E(!0),jt(),ct(),f.current?.scrollTo(0,P,"vertical"))}}),!te&&it.length>Ye.length&&ye.jsx(ny,{columns:it,columnOrder:de,setColumnOrder:Oe,hideColumn:yt,showColumn:wn,isOpen:D,onClose:$,children:ye.jsx(Mo,{label:"Show/hide columns",icon:Is,onClick:Q})}),!ue&&!te&&ye.jsx(Mo,{label:"Download as CSV",icon:yC,onClick:zt}),!te&&ye.jsx(Mo,{label:"Search",icon:Es,onClick:()=>{x?F(!1):(E(!0),F(!0)),ct()}})]}),ye.jsx(nC,{"data-testid":"stDataFrameResizable",ref:p,defaultSize:vt,style:{border:`${b.tableBorderWidth}px solid ${b.glideTheme.borderColor}`,borderRadius:`${b.tableBorderRadius}`},minHeight:Jt,maxHeight:en,minWidth:Ue,maxWidth:h?void 0:Ot,size:vt,enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!h,bottomLeft:!1,topLeft:!1},grid:[1,Cn],snapGap:Cn/3,onResizeStop:(ve,ut,bt,Zt)=>{if(p.current){const Xt=2*b.tableBorderWidth;Ft({width:p.current.size.width,height:en-p.current.size.height===Xt?p.current.size.height+Xt:p.current.size.height})}},children:ye.jsx(w0,{className:"stDataFrameGlideDataEditor","data-testid":"stDataFrameGlideDataEditor",ref:f,columns:Ut,rows:te?1:P,minColumnWidth:b.minColumnWidth,maxColumnWidth:b.maxColumnWidth,maxColumnAutoWidth:b.maxColumnAutoWidth,rowHeight:Cn,headerHeight:b.defaultHeaderHeight,getCellContent:te?kn:pe,onColumnResize:q?void 0:pn,resizeIndicator:"header",freezeColumns:Be,smoothScrollX:!0,smoothScrollY:!0,verticalBorder:!0,getCellsForSelection:!0,rowMarkers:"none",rangeSelect:q?"cell":"rect",columnSelect:"none",rowSelect:"none",onColumnMoved:et?void 0:un,onItemHovered:ve=>{w?.(ve),ln?.(ve)},keybindings:{downFill:!0},onKeyDown:ve=>{(ve.ctrlKey||ve.metaKey)&&ve.key==="f"&&(F(ut=>!ut),ve.stopPropagation(),ve.preventDefault())},showSearch:x,searchResults:x?void 0:[],onSearchClose:()=>{F(!1),ct()},onHeaderClicked:(ve,ut)=>{!fe||et||(x&&F(!1),Ie&&je?Ee():Ee(!0,!0),Xe(ve,"auto"))},gridSelection:xe,onGridSelectionChange:ve=>{(I||q)&&(mt(ve),an!==void 0&&ct())},theme:b.glideTheme,getRowThemeOverride:y,onMouseMove:ve=>{ve.kind==="out-of-bounds"&&I?E(!1):ve.kind!=="out-of-bounds"&&!I&&E(!0)},fixedShadowX:!0,fixedShadowY:!0,experimental:{scrollbarWidthOverride:0,paddingBottom:H?-m:void 0,paddingRight:O?-m:void 0},provideEditor:Rt,drawCell:Wt,customRenderers:Le,imageEditorOverride:_0,headerIcons:b.headerIcons,validateCell:Tt,onHeaderMenuClick:(ve,ut)=>{R({columnIdx:ve,headerBounds:ut})},onPaste:!1,...Ie&&{rowMarkers:{kind:"checkbox-visible",checkboxStyle:"square",theme:{bgCell:b.glideTheme.bgHeader,bgCellMedium:b.glideTheme.bgHeader,textMedium:b.glideTheme.textLight}},rowSelectionMode:Ae?"multi":"auto",rowSelect:n?"none":Ae?"multi":"single",rowSelectionBlending:"mixed",rangeSelectionBlending:"exclusive"},...et&&{columnSelect:n?"none":Pe?"multi":"single",columnSelectionBlending:"mixed",rangeSelectionBlending:"exclusive"},...!te&&e.editingMode!==ie&&!n&&{fillHandle:!q,onCellEdited:Mt,onPaste:fn,onDelete:on},...!te&&e.editingMode===ee&&{trailingRowOptions:{sticky:!1,tint:!0},rowMarkers:{kind:"checkbox",checkboxStyle:"square",theme:{bgCell:b.glideTheme.bgHeader,bgCellMedium:b.glideTheme.bgHeader}},rowSelectionMode:"multi",rowSelect:n?"none":"multi",onRowAppended:n?void 0:jt,onHeaderClicked:void 0}})}),an&&an.content&&ye.jsx(oy,{top:an.top,left:an.left,content:an.content,clearTooltip:ct}),C&&Yh.createPortal(ye.jsx(Qw,{top:C.headerBounds.y+C.headerBounds.height,left:C.headerBounds.x+C.headerBounds.width,column:ge[C.columnIdx],onCloseMenu:()=>R(void 0),onSortColumn:fe?ve=>{x&&F(!1),Ee(!(Ie&&je),!0),Xe(C.columnIdx,ve,!0)}:void 0,isColumnPinned:ge[C.columnIdx].isPinned,onUnpinColumn:()=>{N(ge[C.columnIdx].id)},onPinColumn:()=>{Bn(ge[C.columnIdx].id)},onHideColumn:()=>{yt(ge[C.columnIdx].id)},onChangeFormat:ve=>{Ge(ge[C.columnIdx].id,ve),setTimeout(()=>{f.current?.remeasureColumns(ot.fromSingleSelection(C.columnIdx))},100)},onAutosize:()=>{f.current?.remeasureColumns(ot.fromSingleSelection(C.columnIdx))}}),document.querySelector("#portal"))]})}let gh,mh;gh=oC(ly),mh=d.memo(gh),Qh=Object.freeze(Object.defineProperty({__proto__:null,default:mh},Symbol.toStringTag,{value:"Module"}))});export{ks as C,Sa as T,xC as __tla,Tr as a,Ss as b,Qh as c,Or as i,Ms as m,rn as s};
