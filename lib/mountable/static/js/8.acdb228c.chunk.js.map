{"version":3,"sources":["../../../node_modules/lodash/range.js","../../../node_modules/lodash/toNumber.js","../../../node_modules/lodash/_createRange.js","../../../node_modules/lodash/_baseRange.js","../../../node_modules/lodash/toFinite.js","../../../node_modules/lodash/_baseTrim.js","../../../node_modules/lodash/_trimmedEndIndex.js","../../../node_modules/lodash/clamp.js","../../../node_modules/lodash/_arrayIncludes.js","../../../node_modules/lodash/_baseIndexOf.js","../../../node_modules/lodash/_baseFindIndex.js","../../../node_modules/lodash/_baseIsNaN.js","../../../node_modules/lodash/_strictIndexOf.js","../../../node_modules/lodash/_arrayIncludesWith.js","../../../node_modules/lodash/debounce.js","../../../node_modules/react-responsive-carousel/lib/js/CSSTranslate.js","../../../node_modules/react-number-format/dist/react-number-format.es.js","../../../src/multi-line.ts","../../../node_modules/@glideapps/glide-data-grid/dist/js/index.js","../../../node_modules/react-easy-swipe/lib/index.js","../../../node_modules/react-responsive-carousel/lib/js/cssClasses.js","../../../node_modules/react-responsive-carousel/lib/js/components/Thumbs.js","../../../node_modules/react-responsive-carousel/lib/js/shims/window.js","../../../node_modules/react-responsive-carousel/lib/js/components/Carousel/utils.js","../../../node_modules/lodash/_baseClamp.js","../../../node_modules/lodash/uniq.js","../../../node_modules/lodash/_baseUniq.js","../../../node_modules/lodash/_createSet.js","../../../node_modules/lodash/noop.js","../../../node_modules/lodash/flatten.js","../../../node_modules/lodash/_baseFlatten.js","../../../node_modules/lodash/_isFlattenable.js","../../../node_modules/lodash/now.js","../../../node_modules/lodash/has.js","../../../node_modules/lodash/_baseHas.js","../../../node_modules/react-responsive-carousel/lib/js/index.js","../../../node_modules/react-responsive-carousel/lib/js/components/Carousel/index.js","../../../node_modules/react-easy-swipe/lib/react-swipe.js","../../../node_modules/react-easy-swipe/node_modules/prop-types/index.js","../../../node_modules/react-easy-swipe/node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/react-easy-swipe/node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/react-responsive-carousel/lib/js/dimensions.js","../../../node_modules/react-responsive-carousel/lib/js/shims/document.js","../../../node_modules/react-responsive-carousel/lib/js/components/Carousel/animations.js","../../../node_modules/marked/lib/marked.umd.js","../../../node_modules/lodash/throttle.js","../../../node_modules/lodash/groupBy.js","../../../node_modules/lodash/_createAggregator.js","../../../node_modules/lodash/_arrayAggregator.js","../../../node_modules/lodash/_baseAggregator.js","../../../node_modules/@glideapps/glide-data-grid-source/dist/js/use-column-sort.js"],"names":["range","require","createRange","module","exports","baseTrim","isObject","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","value","other","valueOf","isBinary","test","slice","baseRange","isIterateeCall","toFinite","fromRight","start","end","step","undefined","nativeCeil","Math","ceil","nativeMax","max","index","length","result","Array","toNumber","INFINITY","trimmedEndIndex","reTrimStart","string","replace","reWhitespace","charAt","baseClamp","number","lower","upper","baseIndexOf","array","baseFindIndex","baseIsNaN","strictIndexOf","fromIndex","predicate","comparator","now","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","this","clearTimeout","cancel","flush","Object","defineProperty","default","position","metric","axis","positionPercent","join","noop","charIsNumber","char","match","isNil","val","escapeRegExp","str","splitDecimal","numStr","allowNegative","hasNagation","addNegation","parts","split","beforeDecimal","afterDecimal","limitToScale","scale","fixedDecimalScale","filler","i","repeat","count","setCaretPosition","el","caretPos","createTextRange","move","select","selectionStart","focus","setSelectionRange","clamp","num","getCurrentCaretPosition","selectionEnd","defaultProps","displayType","decimalSeparator","thousandsGroupStyle","prefix","suffix","allowEmptyFormatting","allowLeadingZeros","isNumericString","type","onValueChange","onChange","onKeyDown","onMouseUp","onFocus","onBlur","isAllowed","NumberFormat","superclass","props","call","defaultValue","validateProps","formattedValue","formatValueProp","state","numAsString","removeFormatting","mounted","selectionBeforeInput","bind","__proto__","prototype","create","constructor","componentDidMount","setState","componentDidUpdate","prevProps","updateValueIfRequired","componentWillUnmount","focusTimeout","caretPositionTimeout","ref","focusedElm","stateValue","lastNumStr","lastValueWithNewFormat","formatNumString","floatValue","parseFloat","lastFloatValue","isNaN","updateValue","input","source","event","getFloatString","decimalScale","getSeparators","numRegex","getNumberRegex","hasNegation","firstDecimalIndex","indexOf","substring","RegExp","g","ignoreDecimalSeparator","format","customNumerals","ref$1","thousandSeparator","allowedDecimalSeparators","getMaskAtIndex","mask","getValueObject","Error","toString","setPatchedCaretPosition","currentValue","correctCaretPosition","direction","firstHashPosition","lastIndexOf","nextPos","caretLeftBound","caretRightBound","getCaretPosition","inputValue","j","inputNumber","formattedNumber","currentInputChar","currentFormatChar","removePrefixAndSuffix","isNegative","suffixLastIndex","removePatternFormatting","formatArray","filter","ln","part","formatWithPattern","hashCount","formattedNumberAry","formatAsNumber","hasDecimalSeparator","ref$2","thousandsGroupRegex","getThousandsGroupRegex","search","applyThousandSeparator","customNumeralRegex","digit","isNonNumericFalsy","sign","coefficient","exponent","Number","decimalIndex","coffiecientLn","abs","toNumericString","shoudHaveDecimalSeparator","roundedDecimalParts","toFixed","reverse","reduce","roundedStr","current","idx","roundToPrecision","formatInput","formatNegation","negationRegex","doubleNegationRegex","removeNegation","isCharacterAFormat","correctInputValue","lastValue","this$1","ref$3","prevValue","newValue","prevLength","newLength","findChangedIndex","separator","substr","leftBound","rightBound","deletedValues","concat","find","deletedVal","deletedValuePortion","recordIndexOfFormatCharacters","resolvedPortion","forEach","currentPortion","push","keys","splice","numericString","ref$4","isBeforeDecimalPoint","params","currentCaretPosition","e","target","isChangeAllowed","fixLeadingZero","expectedCaretPosition","key","negativeRegex","isPatternFormat","newCaretPosition","preventDefault","isUnitTestRun","caretPosition","persist","render","customInput","renderText","getInputRef","otherProps","obj","exclude","k","hasOwnProperty","objectWithoutProperties","inputMode","navigator","platform","addInputMode","inputProps","assign","React","createElement","CustomInput","Component","Map","clear","get","measureText","width","set","size","c","t","floor","o","console","log","memoize_browser_esm_default","__defProp","__getOwnPropNames","getOwnPropertyNames","__esm","fn","res","memoize","cache2","arg","reactPropsRegex","is_prop_valid_browser_esm_default","cx_default","isCapital","filterKey","omit","warnIfInvalid","styled_default","init_memoize_browser_esm","init_is_prop_valid_browser_esm","prop","charCodeAt","init_cx","presentClassNames","Boolean","atomicClasses","nonAtomicClasses","className","startsWith","keyHash","init_esm","styled","tag","isArray","as","component","class","filteredProps","omitKeys","filterProps","atomic","vars","style","name","variable","unit","ownStyle","__linaria","React5","Result","forwardRef","rest","innerRef","displayName","extends","NumberOverlayEditorStyle","number_overlay_editor_default","init_styled","ch","toUpperCase","componentName","isFinite","stringified","JSON","stringify","String","warn","Proxy","init_esm2","init_","init_number_overlay_editor_style","number_overlay_editor_exports","getDecimalSeparator","_a","_b","_c","Intl","formatToParts","all","enumerable","__export","init_number_overlay_editor","p","disabled","highlight","validatedSelection","inputRef","React16","range2","autoFocus","is","panic","message","assert","fact","assertNever","_never","maybe","has","deepEqual","foo","bar","ctor","len","Date","getTime","ClickOutsideContainer","wrapperRef","clickOutside","contains","node","classList","parentElement","onClickOutside","document","addEventListener","removeEventListener","children","makeCSSStyle","theme","accentColor","accentFg","accentLight","textDark","textMedium","textLight","textBubble","bgIconHeader","fgIconHeader","textHeader","textGroupHeader","textHeaderSelected","bgCell","bgCellMedium","bgHeader","bgHeaderHasFocus","bgHeaderHovered","bgBubble","bgBubbleSelected","bgSearchResult","borderColor","horizontalBorderColor","drilldownBorder","linkColor","cellHorizontalPadding","cellVerticalPadding","headerFontStyle","baseFontStyle","fontFamily","editorFontSize","dataEditorBaseTheme","lineHeight","ThemeContext","React2","createContext","GridCellKind","GridCellKind2","GridColumnIcon","GridColumnIcon2","BooleanEmpty","BooleanIndeterminate","headerKind","groupHeaderKind","outOfBoundsKind","InnerGridCellKind","InnerGridCellKind2","emptyCompactSelection","headerCellCheckboxPrefix","headerCellCheckedMarker","headerCellUnheckedMarker","isSizedGridColumn","resolveCellsThunk","thunk","a","isEditableGridCell","cell","kind","Loading","Bubble","RowID","Protected","Drilldown","isInnerOnlyCell","Marker","NewRow","isReadWriteCell","Image","Text","Markdown","Uri","Custom","readonly","isObjectEditorCallbackResult","has2","booleanCellIsEditable","_CompactSelection","items","offset","amount","map","x","add","selection","ranges","stack","sort","b","top","mergeRanges","remove","items2","selMin","selMax","entries","toAdd","first","last","hasIndex","index2","hasAll","some","equals","left","right","toArray","Symbol","iterator","CompactSelection","useEventListener","eventName","handler","element","passive","capture","savedHandler","React3","eventListener","whenDefined","empty","fromSingleSelection","PI","degreesToRadians","degrees","EditPencil","fg","fgColor","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","vectorEffect","Checkmark","ltrRange","rtl","ltr","scrollbarWidthCache","isGroupEqual","cellIsInRect","location","rect","startX","endX","startY","y","endY","height","cellCol","cellRow","span","spanStart","spanEnd","remapForDnDState","columns","dndState","mappedCols","writable","temp","src","dest","sticky","getStickyWidth","remapped","getEffectiveColumns","cellXOffset","tx","endIndex","curX","metricsSize","metricsCache","isSSR","window","fonts","ready","clearCache","measureTextCached","s","ctx","font","baseline","makeCacheKey","metrics","getMiddleCenterBias","biasCache","alphabeticMetrics","loadMetric","bias","actualBoundingBoxDescent","actualBoundingBoxAscent","getMiddleCenterBiasInner","save","textBaseline","restore","clearCacheOnLoad","prepTextCell","lastPrep","overrideColor","newFill","fillStyle","drawSingleTextLine","data","w","h","contentAlign","fillText","drawTextCell","allowWrapping","hyperWrapping","includes","isRtl","changed","textAlign","fontStyle","trimEnd","trim","delete","next","splitText","textMetrics","emHeight","actualHeight","mustClip","clip","optimalY","drawY","drawCheckbox","checked","highlighted","hoverX","hoverY","centerX","centerY","hovered","beginPath","roundedRect","moveTo","lineTo","strokeStyle","lineJoin","lineCap","lineWidth","radius","tl","tr","br","bl","arcTo","drilldownCache","drawDrilldownCell","imageLoader","col","row","renderX","tileMap","border","dpr","devicePixelRatio","innerHeight","innerWidth","sideWidth","middleWidth","canvas","getContext","targetHeight","shadowColor","shadowBlur","shadowOffsetY","getAndCacheDrilldownBorder","renderBoxes","textWidth","text","imgWidth","img","loadOrGetImage","bubbleHeight","renderWidth","bubblePad","rectInfo","rx","rw","imageSmoothingEnabled","maxSideWidth","drawImage","drawX","imgSize","srcX","srcY","srcWidth","srcHeight","computeBounds","groupHeaderHeight","totalHeaderHeight","cellYOffset","translateX","translateY","rows","freezeColumns","lastRowSticky","mappedColumns","rowHeight","headerHeight","dir","freezeWidth","group","stickyHeight","delta","r","toggleBoolean","booleanCellRenderer","getAccessibilityString","needsHover","useLabel","needsHoverPosition","measure","canEdit","hoverAmount","alpha","globalAlpha","drawBoolean","onDelete","onClick","bounds","BubblesOverlayEditorStyle","bubbles_overlay_editor_default","bubbles","React6","bubbleCellRenderer","acc","drawBubbles","getEditor","React7","DrilldownOverlayEditorStyle","drilldown_overlay_editor_default","drilldowns","React8","drilldownCellRenderer","React9","ImageOverlayEditorStyle","image_overlay_editor_default","urls","canWrite","onEditClick","renderImage","filtered","u","allowMove","React10","Carousel","showArrows","showThumbs","swipeable","emulateTouch","infiniteLoop","url","innerContent","draggable","imageCellRenderer","imgHeight","displayData","_ctx","onFinishedEditing","imageEditorOverride","ImageEditor","React11","allowAdd","onCancel","newImage","loadingCellRenderer","MarkdownContainer","MarkdownDiv","targetElement","containerRefHook","renderMarkdownIntoDiv","contents","createNode","innerHTML","marked","childRange","selectNodeContents","deleteContents","newChild","childDoc","content","append","tags","getElementsByTagName","rel","React12","PureComponent","InputBox","ShadowBox","GrowingEntryStyle","growing_entry_default","placeholder","altNewline","React13","useText","ta","onKeyDownInner","shiftKey","MarkdownOverlayEditorStyle","targetWidth","MarkdownOverlayEditor","markdown","forceEditMode","targetRect","onFinish","React14","editMode","setEditMode","addLeftPad","markdownCellRenderer","renderPrep","firstLine","markdownDivCreateNode","React15","markerCellRenderer","newFont","renderDeprep","markerKind","drawHandle","checkedboxAlpha","offsetAmount","xOffset","yOffset","drawMarkerRowCell","newRowCellRenderer","icon","spriteManager","alwaysShowIcon","textX","px","padding","py","drawSprite","lineSize","xTranslate","padPlus","drawNewRowCell","hint","NumberOverlayEditor2","React17","Promise","resolve","then","numberCellRenderer","isHighlighted","fallback","protectedCellRenderer","xStart","center","cos","q","sin","rowIDCellRenderer","React18","textCellRenderer","lines","l","React19","UriOverlayEditorStyle","uri_overlay_editor_default","uri","React20","href","uriCellRenderer","React21","CellRenderers","DataGridOverlayEditorStyle","targetY","targetX","useStayOnScreen","React22","refState","useRefState","setRef","setXOffset","isIntersecting","setIsIntersecting","observer","IntersectionObserver","ents","threshold","observe","disconnect","rafHandle","requestAnimationFrame","refRight","getBoundingClientRect","cv","cancelAnimationFrame","transform","data_grid_overlay_editor_default","onFinishEditingIn","onFinishEditing","initialValue","id","validateCell","provideEditor","React23","tempValue","setTempValueRaw","lastValueRef","editor","styleOverride","isValid","setIsValid","newCell","movement","setTempValue","newVal","validResult","finished","customMotion","onCustomFinishedEditing","onKeyDownCustom","stopPropagation","ctrlKey","targetValue","customEditor","renderer","CellEditor","stayOnScreenStyle","pad","disablePadding","disableStyling","isObjectEditor","CustomEditor","selectionRange","portalElement","getElementById","error","classWrap","createPortal","Provider","rowShift","imgPool","packColRowToNumber","unpackCol","packed","unpackRow","unpackNumberToColRow","image_window_loader_default","imageLoaded","loadedLocations","visibleWindow","freezeCols","isInWindow","cache","sendLoaded","throttle","clearOutOfWindow","keep","cells","newWindow","loaded","pop","canceled","unshift","loadPromise","decode","toWrite","loadImage","iconHead","headerUri","bg","bgColor","sprites","headerRowID","headerNumber","headerCode","headerString","headerBoolean","headerAudioUri","headerVideoUri","headerEmoji","headerImage","headerPhone","headerMarkdown","headerDate","headerTime","headerEmail","headerReference","headerIfThenElse","headerSingleValue","headerLookup","headerTextTemplate","headerMath","headerRollup","headerJoinStrings","headerSplitString","headerGeoDistance","headerArray","rowOwnerOverlay","protectedColumnOverlay","renameIcon","getColors","variant","SpriteManager","headerIcons","onSettled","spriteMap","inFlight","sprite","rSize","spriteCanvas","spriteCb","spriteCtx","imgSource","encodeURIComponent","promise","finally","div","parseToRgba","color","normalizedColor","toLowerCase","opacity","pointerEvents","body","createDiv","control","getComputedStyle","computedColor","withAlpha","blend","background","bb","ba","ao","go","bo","loadingCell","allowOverlay","drawCell","drawCustomCell","hoverInfo","frameTime","enqueue","forceAnim","lastUpdate","draw","progress","MAX_SAFE_INTEGER","fade","fillRect","drawWithLastUpdate","lastUpdated","deprep","partialPrepResult","drawGridLines","effectiveCols","drawRegions","spans","getRowHeight","getRowThemeOverride","verticalBorder","trailingRowType","verticalOnly","hColor","vColor","minX","maxX","minY","maxY","MIN_SAFE_INTEGER","toDraw","x1","y1","x2","y2","stickyRowY","isHeader","ty","rowTheme","groups","groupBy","line","getActionBoundsForGroup","box","actions","pointInRect","getHeaderMenuBounds","menuButtonSize","drawHeader","selected","isHovered","hasSelectedCell","drawHeaderCallback","touchMode","isCheckboxHeader","title","menuBounds","passCol","column","columnIndex","sourceIndex","isSelected","shouldDrawMenu","hasMenu","overlayIcon","fadeStartPercent","fadeEndPercent","fadeWidth","grad","createLinearGradient","trans","addColorStop","triangleX","triangleY","points","radiusAll","asVec","pp","vx","vy","vlen","sqrt","vnx","vny","nx","ny","ang","atan2","p1","p2","p3","v1","v2","sinA","sinA90","angle","asin","radDirection","drawDirection","halfAngle","lenOut","cRadius","arc","closePath","roundedPoly","drawGridHeaders","enableGroups","dragAndDropState","isResizing","outerTheme","hoverValues","getGroupDetails","damage","hCol","hRow","walkColumns","_y","clipX","_a2","diff","groupTheme","overrideTheme","themeOverride","f","noHover","hoveredBoolean","hover","item","bgFillStyle","_hoverValues","finalX","walkGroups","groupName","fillColor","actionBoxes","fadeStartX","mouseX","mouseY","action","actionHovered","drawGroups","intersectRect","w1","h1","w2","h2","clipDamage","effectiveColumns","includeCells","stickyRowHeight","_group","colDrawY","startRow","finalWidth","walkRowsInCol","rh","isSticky","isDamaged","getSpanBounds","cellX","cellY","cellW","cellH","allColumns","frozenRect","contentRect","startCol","endCol","firstNonSticky","renderFromCol","tempX","tempW","renderToCol","drawCells","getCellContent","disabledRows","isFocused","prelightCells","highlightRegions","performance","handledSpans","Set","colDrawStartY","colDrawX","colWidth","colHeight","found","dr","reclip","colSelected","colTheme","colFont","prepResult","isTrailingRow","_a3","_d","rowSelected","rowDisabled","cellWidth","drawingSpan","skipContents","spanKey","areas","area","trailingTheme","trailingRowOptions","cellIndex","cellIsSelected","accentCount","rangeStack","cellIsInRange","spanIsHighlighted","pre","region","hoverValue","hv","cellFont","drawFocusRing","selectedCell","fillHandle","targetCol","targetRow","targetColSpan","stickRowHeight","drawCb","drawGrid","lastArg","headerCanvas","lastBlitData","scrolling","canBlit","resized","curCol","lastCol","curRest","computeCanBlit","overlayCanvas","targetCtx","overlayCtx","drawHeaderTexture","doHeaders","blittedYOnly","deltaY","deltaX","stickyWidth","regions","yOnly","blitWidth","blitHeight","sx","sy","sw","sh","dx","dy","dw","dh","setTransform","blitLastFrame","resizedIndex","_drawY","blitResizedCol","drawFreezeBorder","doCell","overdrawStickyBoundaries","focusRedraw","highlightRedraw","allHighlightRegions","drawRects","_e","topLeftBounds","bottomRightBounds","freezeSectionRightBounds","unfreezeSectionleftBounds","dashed","setDashed","dash","setLineDash","strokeRect","clipped","drawHighlightRings","getRowTheme","selectedRows","blankTheme","drawBlanks","lastRowDrawn","__drawX","_clipX","_rh","getLastRow","setWindow","cb","doSticky","doingSticky","boxWidth","localX","easeOutCubic","AnimationManager","callback","currentHoveredItem","leavingItems","areSameItems","addToLeavingItems","removeFromLeavingItems","leavingItem","cleanUpLeavingElements","shouldStep","hasLeavingItems","currentHoveredIsAnimating","getAnimatingItems","timestamp","lastAnimationTime","animating","setHovered","Lazy","lazy2","browserIsFirefox","userAgent","browserIsSafari","browserIsOSX","useAnimationQueue","queue","React24","seq","drawRef","loop","arr","hasItem","data_grid_default","React25","forwardedRef","_f","_g","_h","accessibilityHeight","cellXOffsetReal","onHeaderMenuClick","isFilling","onCanvasFocused","onCanvasBlur","onContextMenu","fixedShadowX","fixedShadowY","onMouseDown","onMouseMoveRaw","onMouseMove","onItemHovered","firstColAccessible","onKeyUp","canvasRef","onDragStart","onDragEnd","eventTargetRef","isDragging","isDraggable","allowResize","onCellFocused","onDragOverCell","onDrop","onDragLeave","smoothScrollX","smoothScrollY","experimental","damageRegion","setScrolling","hoveredItemInfo","setHoveredItemInfo","hoveredOnEdge","setHoveredOnEdge","overlayRef","lastWasTouch","setLastWasTouch","lastWasTouchRef","lastArgsRef","lastDrawRef","scrollingStopRef","disableFirefoxRescaling","enableFirefoxRescaling","React4","useMemo","useMappedColumns","getBoundsForItem","getMouseArgsForPosition","posX","posY","ev","_b2","button","MouseEvent","getColumnIndexForX","hasGroups","lastRowHeight","effectiveRows","curY","getRowIndexForY","metaKey","isTouch","scrollEdge","horizontal","vertical","isEdge","previousCol","localEventX","localEventY","isFillHandle","hoveredItem","enqueueRef","_item","hoverInfoRef","overlay","round","damageInternal","locations","setCallback","cursorOverride","overFill","setOverFill","headerHovered","groupHeaderHovered","clickableInnerCellHovered","editableBoolHovered","cursor","contain","display","groupHeaderActionForEvent","groupDesc","boxes","isOverHeaderMenu","clientX","clientY","header","headerBounds","downTime","downPosition","onMouseDownImpl","eventTarget","touches","clientWidth","clientHeight","onMouseUpImpl","isOutside","changedTouches","isLongTouch","cancelable","onAnimationFrame","values","animManagerValue","animationManager","am","hoveredRef","newInfo","toCheck","sb","onKeyDownImpl","altKey","keyCode","onKeyUpImpl","refImpl","instance","dragMime","dragData","dragImage","dragImageX","dragImageY","prevented","setData","mime","payload","setDragImage","image","defaultPrevented","dataTransfer","effectAllowed","offscreen","boundsForDragTarget","activeDropTarget","rawCol","activeCol","activeRow","selectionRef","focusRef","focusElement","activeElement","preventScroll","getBounds","lastFocusedSubdomNode","accessibilityTree","factory","deps","mountedRef","debouncedSetState","debounce","useDebouncedMemo","_c2","_d2","colOffset","fCol","fRow","visibleCols","visibleRows","makeRange","role","tabIndex","focused","cellContent","onFocusCapture","_b3","copyData","getRowData","stickyX","opacityX","clamp2","absoluteOffsetY","opacityY","stickyShadow","styleX","transition","boxShadow","styleY","overlayStyle","offsetColumnSize","clamp3","growOffset","data_grid_dnd_default","React26","resizeColStartX","setResizeColStartX","resizeCol","setResizeCol","dragCol","setDragCol","dropCol","setDropCol","dragColActive","setDragColActive","dragStartX","setDragStartX","dragRow","setDragRow","dropRow","setDropRow","dragRowActive","setDragRowActive","dragStartY","setDragStartY","onColumnMoved","onColumnResize","onColumnResizeStart","onColumnResizeEnd","gridRef","maxColumnWidth","minColumnWidth","onRowMoved","lockColumns","canResize","selectedColumns","onItemHoveredImpl","canDragCol","onHeaderMenuClickMangled","screenPosition","lastResizeWidthRef","clearAll","dragOffset","newWidth","getMangledCellContent","dragStart","ScrollRegionStyle","isSafari","InfiniteScroller","scrollHeight","scrollWidth","update","preventDiagonalScrolling","paddingBottom","paddingRight","rightElement","rightElementProps","scrollRef","scrollToEnd","minimap","padders","rightElementSticky","rightElementFill","offsetY","React27","lastScrollY","scroller","scrollLeft","lastScrollPosition","scrollTop","lockDirection","resetHandle","rightWrapRef","onScroll","lastScrollTop","lastScrollLeft","lock","newY","scrollableHeight","maxFakeY","prog","recomputed","lx","ly","onScrollRef","lastProps","nomEvent","setRefs","useRef8","useState8","setSize","useLayoutEffect6","notifyResize","prev","createNotifier","resizeObserver","ResizeObserver","entry","useResizeDetector","maxHeight","paddingLeft","marginBottom","marginRight","flexGrow","MinimapStyle","scrolling_data_grid_default","clientSize","onVisibleRegionChanged","overscrollX","overscrollY","showMinimap","dataGridProps","React28","lastX","lastY","lastSize","processArgs","cellRight","stickyColWidth","cx3","cellBottom","cy","oldRect","onScrollUpdate","aspect","clamp4","maxSize","hRatio","vRatio","vWidth","vHeight","handleMouse","currentTarget","newScrollLeft","newScrollTop","scrollTo","behavior","buttons","borderRadius","SearchWrapper","showSearch","upArrow","React29","downArrow","closeX","data_grid_search_default","getCellsForSelection","onSearchResultsChanged","onSearchClose","random","searchID","searchString","setSearchString","searchStatus","setSearchStatus","searchStatusRef","abortControllerRef","AbortController","searchHandle","searchResults","setSearchResults","cancelSearch","abort","cellYOffsetRef","beginSearch","regex","searchStride","rowsSearched","runningResult","tick","tStart","rowsLeft","signal","added","testString","tEnd","selectedIndex","results","tElapsed","rounded","scalar","onClose","onSearchChange","onNext","newIndex","onPrev","onSearchKeyDown","nativeEvent","code","searchbox","resultString","cancelEvent","rowsSearchedProgress","progressStyle","onKeyDownCapture","htmlFor","RenameInput","GroupRename","canvasBounds","React30","useState","setValue","defaultSize","measureColumn","colIndex","selectedData","removeOutliers","sizes","measureCell","average","biggest","final","isHotkey","hotkey","wantCtrl","wantShift","wantAlt","wantMeta","checkKey","descape","endsWith","unquote","State","State2","decodeHTML","tableEl","walkEl","HTMLTableElement","nodeName","HTMLTableRowElement","HTMLTableCellElement","innerText","textContent","escape","copyToClipboard","columnIndexes","formatCell","raw","pv","formatBoolean","clipboard","write","rootEl","rowEl","cellEl","link","ClipboardItem","Blob","outerHTML","clipboardData","e2","writeText","toCss","Wrapper","DataEditorContainer","inWidth","inHeight","React34","idCounter","shiftSelection","keybindingDefaults","selectAll","selectRow","selectColumn","downFill","rightFill","pageUp","pageDown","copy","paste","loadingCell2","emptyGridSelection","DataEditor","React36","gridSelectionInner","setGridSelectionInner","setOverlay","mouseState","setMouseState","lastSent","rowMarkers","rowMarkerWidthRaw","rowMarkerWidth","columnsIn","onCellClicked","onCellActivated","coercePasteValue","drawHeaderIn","onHeaderClicked","spanRangeBehavior","onGroupHeaderClicked","onCellContextMenu","onHeaderContextMenu","getCellsForSelectionIn","onGroupHeaderContextMenu","onGroupHeaderRenamed","onCellEdited","onCellsEdited","keybindingsIn","keybindings","onRowAppended","validateCellIn","highlightRegionsIn","drawCell2","rangeSelect","columnSelect","rowSelect","rangeSelectionBlending","columnSelectionBlending","rowSelectionBlending","onDeleteIn","onPaste","rowSelectionMode","rowMarkerStartIndex","onSearchCloseIn","onSelectionCleared","showSearchIn","gridSelectionOuter","gridSelection","onGridSelectionChange","minColumnWidthIn","maxColumnWidthIn","onColumnResizeIn","onColumnResizeEndIn","onColumnResizeStartIn","hasRowMarkers","rowMarkerOffset","showTrailingBlankRow","showSearchInner","setShowSearchInner","gridSelectionOuterMangled","abortController","getCellsForSelectionDirectWhenValid","React33","getCellsForSelectionDirect","getCellsForSelectionMangled","newRect","useCellsForSelection","getCellsForSeletionDirect","setGridSelection","expand","origVal","isFilled","leftCells","rightCells","rCells","expandSelection","_","ind","drawHeader2","sel","rangeBehavior","columnBehavior","rowBehavior","React32","useCallback","trigger","rangeMixable","allowColumnCoSelect","allowRowCoSelect","newRows","allowMixed","columnMixed","newCols","rowMixed","useSelectionBehavior","setCurrent","setSelectedRows","setSelectedColumns","mergedTheme","setClientSize","rowsRef","React31","getCellsForSelectionRef","themeRef","memoMap","lastColumns","setSelectionData","getCells","every","computeRows","tailRows","computeArea","tailComputeArea","getResult","tailGetResult","toSet","totalWidth","totalGrow","distribute","grow","writeable","extra","remaining","di","weighted","useColumnSizer","visibleRegion","setVisibleRegion","immediate","mangledRows","mangledOnCellsEdited","mangledItems","numSelectedRows","rowMarkerHeader","mangledCols","maxWidth","visibleRegionRef","mangledColsRef","_e2","_f2","_i","_j","_k","isTrailing","maybeFirstColumnHint","addIcon","outerCol","strict","vr","isOutsideMainArea","extras","isOutsideFreezeArea","freezeRegion","mangledGetGroupDetails","setRenameGroup","setOverlaySimple","reselect","fromKeyboard","focusOnRowFromTrailingBlankRow","paddingX","paddingY","grid","rawBounds","scrollBounds","scrollX","scrollY","frozenWidth","sLeft","sRight","sTop","trailingRowHeight","sBottom","bottom","focusCallback","getCellContentRef","appendRow","appendResult","backoff","doFocus","getCustomNewRowTargetColumn","customTargetColumn","targetColumn","maybeIndex","lastSelectedRowRef","lastSelectedColRef","handleSelect","isMultiKey","isMultiRow","isMultiCol","lastMouseSelectLocation","markerCell","postClick","lastHighlighted","newSlice","isLastStickyRow","startedFromLastSticky","touchDownArgs","mouseDownData","isPrevented","wasDoubleClick","previousSelection","renameGroup","handleGroupHeaderSelection","needle","fillDown","v","fillCol","fillVal","clickLocation","normalSizeColumn","inputCol","newCol","scrollDir","setScrollDir","mouse","lastMouseDownCol","lastMouseDownRow","handleMaybeClick","_c3","selectedCol","selectedRow","prevCol","prevRow","touchVr","onMouseMoveImpl","scrollDirection","speedScalar","React35","useRef","xDir","yDir","useEffect","lastTime","scrollFn","curTime","motion","scrollBy","useAutoscroll","onHeaderMenuClickInner","currentCell","onVisibleRegionChangedImpl","rightElWidth","newRegion","onColumnMovedImpl","startIndex","isActivelyDragging","onDragStartImpl","newRange","adjustSelection","direction2","old","disallowed","uniq","flatten","getSpanStops","done","n","updateSelectedCell","fromEditingTrailingRow","freeMove","rowMax","clamp5","newStack","movX","movY","isEditingTrailingRow","overlayID","deleteRange","editList","cellValue","deletedValue","toDelete","overlayOpen","isOSX","isPrimaryKey","isDeleteKey","getSelection","removeAllRanges","addRange","callbackResult","col2","fillRow","asPrimary","onPasteInternal","pasteToCell","inner","target2","toPaste","coerced","newNumber","textPlain","textHtml","read","clipboardContent","types","getType","htmlBlob","html","fragment","querySelector","readText","getData","gridCol","gridRow","cellData","dataRow","dataItem","onCopy","ignoreFocus","toCopy","rowIndex","cols","navIndex","outCol","outRow","scrollToRef","tint","mangledVerticalBorder","renameGroupNode","mangledFreezeColumns","updateCells","damageList","emit","selCol","selRow","setIsFocused","setIsFocusedDebounced","debounce2","onFocusOut","scrollbarWidth","scrollbarWidthOverride","outer","visibility","overflow","offsetWidth","getScrollBarWidth","rowsCountWithTrailingRow","avg","toAverage","idealWidth","idealHeight","isSubGrid","define","_reactSwipe","_reactSwipe2","_interopRequireDefault","__esModule","_classnames","_default","ROOT","customClassName","configurable","_defineProperty","CAROUSEL","isSlider","carousel","WRAPPER","SLIDER","isSwiping","thumbs","slider","animated","ITEM","previous","thumb","slide","ARROW_PREV","ARROW_NEXT","DOT","dot","_react","_typeof","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_cssClasses","_dimensions","_CSSTranslate","_reactEasySwipe","_window","WeakMap","_extends","_defineProperties","descriptor","_setPrototypeOf","setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","Thumbs","_Component","subClass","superClass","_inherits","Constructor","protoProps","staticProps","_super","_props","_this","_classCallCheck","itemsWrapperRef","itemsListRef","thumbsRef","total","Children","wrapperSize","itemSize","thumbWidth","outerWidth","visibleItems","lastPosition","_state","firstItem","getFirstItem","selectedItem","isKeyboardEvent","onSelectItem","swiping","childrenLength","currentPosition","positions","setupThumbs","updateSizes","destroyThumbs","_this2","itemClass","thumbProps","setThumbsRef","handleClickItem","labels","_this3","itemListStyles","isSwipeable","hasPrev","hasNext","transformProp","transitionTime","WebkitTransform","MozTransform","MsTransform","OTransform","msTransform","WebkitTransitionDuration","MozTransitionDuration","MsTransitionDuration","OTransitionDuration","transitionDuration","msTransitionDuration","setItemsWrapperRef","slideRight","leftArrow","tagName","onSwipeLeft","slideLeft","onSwipeRight","onSwipeMove","onSwipeStart","onSwipeEnd","setItemsListRef","allowMouseEvents","renderItems","rightArrow","setPosition","getPosition","defaultStatusFormatter","centerMode","centerSlidePercentage","baseUniq","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","iteratee","isCommon","seen","computed","seenIndex","baseFlatten","arrayPush","isFlattenable","depth","isStrict","isArguments","spreadableSymbol","isConcatSpreadable","root","baseHas","hasPath","object","path","_Carousel","_types","CarouselProps","_Thumbs","_document","_utils","_animations","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","_React$Component","carouselWrapperRef","listRef","itemsRef","clearAutoPlay","autoPlay","timer","increment","interval","isMouseEntered","isFocusWithinTheCarousel","isHorizontal","prevKey","decrement","initialized","hasMount","cancelClick","onClickItem","onClickThumb","swipeMovementStarted","animationHandlerResponse","swipeAnimationHandler","selectItem","resetAutoPlay","previousItem","animationHandler","handleOnChange","slideImages","complete","onImageLoad","forceUpdate","initState","itemListStyle","slideStyle","selectedStyle","prevStyle","fadeAnimationHandler","slideAnimationHandler","setupCarousel","prevState","forceFocus","stopSwipingHandler","setupAutoPlay","destroyAutoPlay","destroyCarousel","bindEvents","initialImage","getInitialImage","setMountState","unbindEvents","carouselWrapper","stopOnHover","startOnLeave","useKeyboardArrows","navigateWithKeyboard","_this$carouselWrapper","isClone","isPrevious","minWidth","slideProps","setItemsRef","renderItem","_this4","_this$props","showIndicators","renderIndicator","changeItem","showStatus","statusFormatter","handleClickThumb","renderThumbs","_this5","canShowArrows","itemsClone","firstClone","shift","lastClone","swiperProps","tolerance","swipeScrollTolerance","containerStyles","onSwipeForward","onSwipeBackwards","dynamicHeight","itemHeight","getVariableItemHeight","onSwipeUp","verticalSwipe","onSwipeDown","ariaLabel","setCarouselWrapperRef","renderControls","renderArrowPrev","onClickPrev","setListRef","renderArrowNext","onClickNext","renderStatus","preventMovementUntilSwipeScrollTolerance","onClickHandler","label","images","slideSwipeAnimationHandler","slideStopSwipingHandler","_propTypes","setHasSupportToCaptureOption","_react2","_propTypes2","_objectWithoutProperties","_createClass","supportsCaptureOption","hasSupport","getSafeEventHandlerOpts","_event$touches$","pageX","pageY","screenX","screenY","ReactSwipe","_ref","_len","_key","_handleSwipeStart","_handleSwipeMove","_handleSwipeEnd","_onMouseDown","_onMouseMove","_onMouseUp","_setSwiperRef","swiper","mouseDown","_getPosition","moveStart","_getPosition2","moving","movePosition","onTouchStart","onTouchEnd","propTypes","bool","isRequired","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","secret","err","getShim","ReactPropTypes","bigint","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","marginLeft","returnStyles","finalBoundry","axisDelta","handledDelta","hasMoved","transitionTimingFunction","zIndex","minHeight","msTransitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","OTransitionTimingFunction","_unsupportedIterableToArray","minLen","_arrayLikeToArray","from","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it","getDefaults","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","defaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","encode","unescapeTest","unescape","fromCharCode","caret","edit","opt","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","base","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim","relativeBase","noopTest","exec","merge","splitCells","tableRow","escaped","curr","invert","suffLen","currChar","findClosingBracket","level","checkSanitizeDeprecation","repeatString","pattern","outputLink","cap","lexer","inLink","token","tokens","inlineTokens","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","Tokenizer","_proto","space","rules","block","newline","codeBlockStyle","fences","lang","heading","trimmed","inline","hr","blockquote","blockTokens","list","istask","ischecked","indent","blankLine","endsWithBlankLine","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","itemRegex","trimLeft","nextBulletRegex","hrRegex","task","trimRight","spacers","hasMultipleLineBreaks","_step","lineBreaks","_iterator","def","table","align","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","lastIndex","_text","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","del","autolink","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","out","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","inlineQueue","lex","lexInline","lastToken","cutSrc","lastParagraphClipped","tabs","extTokenizer","startBlock","Infinity","tempSrc","tempStart","getStartIndex","errMsg","keepPrevChar","startInline","Renderer","_code","infostring","quote","_html","slugger","slug","listitem","checkbox","tablerow","tablecell","flags","TextRenderer","Slugger","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parse","parseInline","l2","l3","itemBody","ret","renderers","parser","pending","_tokens","setOptions","use","hasExtensions","opts","childTokens","pack","ext","prevRenderer","_len2","_key2","_loop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_walkTokens","_loop3","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","baseAssignValue","createAggregator","arrayAggregator","baseAggregator","baseIteratee","setter","initializer","collection","accumulator","baseEach","cellToSortData","_c$data$toString","_c$data","_c$data$toString2","_c$data2","_c$data3","tryParse","useColumnSort","_sort$direction","getCellContentIn","sortCol","findIndex","sortMap","vals","mode","compareRaw","localeCompare","compareSmart","getOriginalIndex"],"mappings":"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","file":"static/js/8.acdb228c.chunk.js","sourcesContent":["var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(position, metric, axis) {\n  var positionPercent = position === 0 ? position : position + metric;\n  var positionCss = axis === 'horizontal' ? [positionPercent, 0, 0] : [0, positionPercent, 0];\n  var transitionProp = 'translate3d';\n  var translatedPosition = '(' + positionCss.join(',') + ')';\n  return transitionProp + translatedPosition;\n};\n\nexports.default = _default;","/**\n * react-number-format - 4.9.3\n * Author : Sudhanshu Yadav\n * Copyright (c) 2016, 2022 to Sudhanshu Yadav, released under the MIT license.\n * https://github.com/s-yadav/react-number-format\n */\n\nimport React from 'react';\n\n//     \n\n                                                               \n\n// basic noop function\nfunction noop() {}\nfunction returnTrue() {\n  return true;\n}\n\nfunction charIsNumber(char         ) {\n  return !!(char || '').match(/\\d/);\n}\n\nfunction isNil(val     ) {\n  return val === null || val === undefined;\n}\n\nfunction escapeRegExp(str        ) {\n  return str.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n}\n\nfunction getThousandsGroupRegex(thousandsGroupStyle        ) {\n  switch (thousandsGroupStyle) {\n    case 'lakh':\n      return /(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(\\.\\d+)?/g;\n    case 'wan':\n      return /(\\d)(?=(\\d{4})+(?!\\d))/g;\n    case 'thousand':\n    default:\n      return /(\\d)(?=(\\d{3})+(?!\\d))/g;\n  }\n}\n\nfunction applyThousandSeparator(\n  str        ,\n  thousandSeparator        ,\n  thousandsGroupStyle        \n) {\n  var thousandsGroupRegex = getThousandsGroupRegex(thousandsGroupStyle);\n  var index = str.search(/[1-9]/);\n  index = index === -1 ? str.length : index;\n  return (\n    str.substring(0, index) +\n    str.substring(index, str.length).replace(thousandsGroupRegex, '$1' + thousandSeparator)\n  );\n}\n\n//spilt a float number into different parts beforeDecimal, afterDecimal, and negation\nfunction splitDecimal(numStr        , allowNegative) {\n  if ( allowNegative === void 0 ) allowNegative          = true;\n\n  var hasNagation = numStr[0] === '-';\n  var addNegation = hasNagation && allowNegative;\n  numStr = numStr.replace('-', '');\n\n  var parts = numStr.split('.');\n  var beforeDecimal = parts[0];\n  var afterDecimal = parts[1] || '';\n\n  return {\n    beforeDecimal: beforeDecimal,\n    afterDecimal: afterDecimal,\n    hasNagation: hasNagation,\n    addNegation: addNegation,\n  };\n}\n\nfunction fixLeadingZero(numStr         ) {\n  if (!numStr) { return numStr; }\n  var isNegative = numStr[0] === '-';\n  if (isNegative) { numStr = numStr.substring(1, numStr.length); }\n  var parts = numStr.split('.');\n  var beforeDecimal = parts[0].replace(/^0+/, '') || '0';\n  var afterDecimal = parts[1] || '';\n\n  return (\"\" + (isNegative ? '-' : '') + beforeDecimal + (afterDecimal ? (\".\" + afterDecimal) : ''));\n}\n\n/**\n * limit decimal numbers to given scale\n * Not used .fixedTo because that will break with big numbers\n */\nfunction limitToScale(numStr        , scale        , fixedDecimalScale         ) {\n  var str = '';\n  var filler = fixedDecimalScale ? '0' : '';\n  for (var i = 0; i <= scale - 1; i++) {\n    str += numStr[i] || filler;\n  }\n  return str;\n}\n\nfunction repeat(str, count) {\n  return Array(count + 1).join(str);\n}\n\nfunction toNumericString(num) {\n  num += ''; // typecast number to string\n\n  // store the sign and remove it from the number.\n  var sign = num[0] === '-' ? '-' : '';\n  if (sign) { num = num.substring(1); }\n\n  // split the number into cofficient and exponent\n  var ref = num.split(/[eE]/g);\n  var coefficient = ref[0];\n  var exponent = ref[1];\n\n  // covert exponent to number;\n  exponent = Number(exponent);\n\n  // if there is no exponent part or its 0, return the coffiecient with sign\n  if (!exponent) { return sign + coefficient; }\n\n  coefficient = coefficient.replace('.', '');\n\n  /**\n   * for scientific notation the current decimal index will be after first number (index 0)\n   * So effective decimal index will always be 1 + exponent value\n   */\n  var decimalIndex = 1 + exponent;\n\n  var coffiecientLn = coefficient.length;\n\n  if (decimalIndex < 0) {\n    // if decimal index is less then 0 add preceding 0s\n    // add 1 as join will have\n    coefficient = '0.' + repeat('0', Math.abs(decimalIndex)) + coefficient;\n  } else if (decimalIndex >= coffiecientLn) {\n    // if decimal index is less then 0 add leading 0s\n    coefficient = coefficient + repeat('0', decimalIndex - coffiecientLn);\n  } else {\n    // else add decimal point at proper index\n    coefficient =\n      (coefficient.substring(0, decimalIndex) || '0') + '.' + coefficient.substring(decimalIndex);\n  }\n\n  return sign + coefficient;\n}\n\n/**\n * This method is required to round prop value to given scale.\n * Not used .round or .fixedTo because that will break with big numbers\n */\nfunction roundToPrecision(numStr        , scale        , fixedDecimalScale         ) {\n  //if number is empty don't do anything return empty string\n  if (['', '-'].indexOf(numStr) !== -1) { return numStr; }\n\n  var shoudHaveDecimalSeparator = numStr.indexOf('.') !== -1 && scale;\n  var ref = splitDecimal(numStr);\n  var beforeDecimal = ref.beforeDecimal;\n  var afterDecimal = ref.afterDecimal;\n  var hasNagation = ref.hasNagation;\n  var floatValue = parseFloat((\"0.\" + (afterDecimal || '0')));\n  var floatValueStr =\n    afterDecimal.length <= scale ? (\"0.\" + afterDecimal) : floatValue.toFixed(scale);\n  var roundedDecimalParts = floatValueStr.split('.');\n  var intPart = beforeDecimal\n    .split('')\n    .reverse()\n    .reduce(function (roundedStr, current, idx) {\n      if (roundedStr.length > idx) {\n        return (\n          (Number(roundedStr[0]) + Number(current)).toString() +\n          roundedStr.substring(1, roundedStr.length)\n        );\n      }\n      return current + roundedStr;\n    }, roundedDecimalParts[0]);\n\n  var decimalPart = limitToScale(\n    roundedDecimalParts[1] || '',\n    Math.min(scale, afterDecimal.length),\n    fixedDecimalScale\n  );\n  var negation = hasNagation ? '-' : '';\n  var decimalSeparator = shoudHaveDecimalSeparator ? '.' : '';\n  return (\"\" + negation + intPart + decimalSeparator + decimalPart);\n}\n\n/** set the caret positon in an input field **/\nfunction setCaretPosition(el                  , caretPos        ) {\n  el.value = el.value;\n  // ^ this is used to not only get 'focus', but\n  // to make sure we don't have it everything -selected-\n  // (it causes an issue in chrome, and having it doesn't hurt any other browser)\n  if (el !== null) {\n    if (el.createTextRange) {\n      var range = el.createTextRange();\n      range.move('character', caretPos);\n      range.select();\n      return true;\n    }\n    // (el.selectionStart === 0 added for Firefox bug)\n    if (el.selectionStart || el.selectionStart === 0) {\n      el.focus();\n      el.setSelectionRange(caretPos, caretPos);\n      return true;\n    }\n\n    // fail city, fortunately this never happens (as far as I've tested) :)\n    el.focus();\n    return false;\n  }\n}\n\n/**\n  Given previous value and newValue it returns the index\n  start - end to which values have changed.\n  This function makes assumption about only consecutive\n  characters are changed which is correct assumption for caret input.\n*/\nfunction findChangedIndex(prevValue        , newValue        ) {\n  var i = 0,\n    j = 0;\n  var prevLength = prevValue.length;\n  var newLength = newValue.length;\n  while (prevValue[i] === newValue[i] && i < prevLength) { i++; }\n\n  //check what has been changed from last\n  while (\n    prevValue[prevLength - 1 - j] === newValue[newLength - 1 - j] &&\n    newLength - j > i &&\n    prevLength - j > i\n  ) {\n    j++;\n  }\n\n  return { start: i, end: prevLength - j };\n}\n\n/*\n  Returns a number whose value is limited to the given range\n*/\nfunction clamp(num        , min        , max        ) {\n  return Math.min(Math.max(num, min), max);\n}\n\nfunction getCurrentCaretPosition(el                  ) {\n  /*Max of selectionStart and selectionEnd is taken for the patch of pixel and other mobile device caret bug*/\n  return Math.max(el.selectionStart, el.selectionEnd);\n}\n\nfunction addInputMode(format                                   ) {\n  return (\n    format ||\n    (typeof navigator !== 'undefined' &&\n      !(navigator.platform && /iPhone|iPod/.test(navigator.platform)))\n  );\n}\n\n//     \nfunction objectWithoutProperties (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n\nvar defaultProps = {\n  displayType: 'input',\n  decimalSeparator: '.',\n  thousandsGroupStyle: 'thousand',\n  fixedDecimalScale: false,\n  prefix: '',\n  suffix: '',\n  allowNegative: true,\n  allowEmptyFormatting: false,\n  allowLeadingZeros: false,\n  isNumericString: false,\n  type: 'text',\n  onValueChange: noop,\n  onChange: noop,\n  onKeyDown: noop,\n  onMouseUp: noop,\n  onFocus: noop,\n  onBlur: noop,\n  isAllowed: returnTrue,\n};\nvar NumberFormat = /*@__PURE__*/(function (superclass) {\n  function NumberFormat(props        ) {\n    superclass.call(this, props);\n    var defaultValue = props.defaultValue;\n\n    //validate props\n    this.validateProps();\n\n    var formattedValue = this.formatValueProp(defaultValue);\n\n    this.state = {\n      value: formattedValue,\n      numAsString: this.removeFormatting(formattedValue),\n      mounted: false,\n    };\n\n    this.selectionBeforeInput = {\n      selectionStart: 0,\n      selectionEnd: 0,\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n  }\n\n  if ( superclass ) NumberFormat.__proto__ = superclass;\n  NumberFormat.prototype = Object.create( superclass && superclass.prototype );\n  NumberFormat.prototype.constructor = NumberFormat;\n\n  NumberFormat.prototype.componentDidMount = function componentDidMount () {\n    // set mounted state\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({\n      mounted: true,\n    });\n  };\n\n  NumberFormat.prototype.componentDidUpdate = function componentDidUpdate (prevProps        ) {\n    this.updateValueIfRequired(prevProps);\n  };\n\n  NumberFormat.prototype.componentWillUnmount = function componentWillUnmount () {\n    clearTimeout(this.focusTimeout);\n    clearTimeout(this.caretPositionTimeout);\n  };\n\n  NumberFormat.prototype.updateValueIfRequired = function updateValueIfRequired (prevProps        ) {\n    var ref = this;\n    var props = ref.props;\n    var state = ref.state;\n    var focusedElm = ref.focusedElm;\n    var stateValue = state.value;\n    var lastNumStr = state.numAsString; if ( lastNumStr === void 0 ) lastNumStr = '';\n\n    // If only state changed no need to do any thing\n    if (prevProps !== props) {\n      //validate props\n      this.validateProps();\n\n      var lastValueWithNewFormat = this.formatNumString(lastNumStr);\n\n      var formattedValue = isNil(props.value) ? lastValueWithNewFormat : this.formatValueProp();\n      var numAsString = this.removeFormatting(formattedValue);\n\n      var floatValue = parseFloat(numAsString);\n      var lastFloatValue = parseFloat(lastNumStr);\n\n      if (\n        //while typing set state only when float value changes\n        ((!isNaN(floatValue) || !isNaN(lastFloatValue)) && floatValue !== lastFloatValue) ||\n        //can also set state when float value is same and the format props changes\n        lastValueWithNewFormat !== stateValue ||\n        //set state always when not in focus and formatted value is changed\n        (focusedElm === null && formattedValue !== stateValue)\n      ) {\n        this.updateValue({\n          formattedValue: formattedValue,\n          numAsString: numAsString,\n          input: focusedElm,\n          source: 'prop',\n          event: null,\n        });\n      }\n    }\n  };\n\n  /** Misc methods **/\n  NumberFormat.prototype.getFloatString = function getFloatString (num) {\n    if ( num === void 0 ) num         = '';\n\n    var ref = this.props;\n    var decimalScale = ref.decimalScale;\n    var ref$1 = this.getSeparators();\n    var decimalSeparator = ref$1.decimalSeparator;\n    var numRegex = this.getNumberRegex(true);\n\n    //remove negation for regex check\n    var hasNegation = num[0] === '-';\n    if (hasNegation) { num = num.replace('-', ''); }\n\n    //if decimal scale is zero remove decimal and number after decimalSeparator\n    if (decimalSeparator && decimalScale === 0) {\n      num = num.split(decimalSeparator)[0];\n    }\n\n    num = (num.match(numRegex) || []).join('').replace(decimalSeparator, '.');\n\n    //remove extra decimals\n    var firstDecimalIndex = num.indexOf('.');\n\n    if (firstDecimalIndex !== -1) {\n      num = (num.substring(0, firstDecimalIndex)) + \".\" + (num\n        .substring(firstDecimalIndex + 1, num.length)\n        .replace(new RegExp(escapeRegExp(decimalSeparator), 'g'), ''));\n    }\n\n    //add negation back\n    if (hasNegation) { num = '-' + num; }\n\n    return num;\n  };\n\n  //returned regex assumes decimalSeparator is as per prop\n  NumberFormat.prototype.getNumberRegex = function getNumberRegex (g         , ignoreDecimalSeparator          ) {\n    var ref = this.props;\n    var format = ref.format;\n    var decimalScale = ref.decimalScale;\n    var customNumerals = ref.customNumerals;\n    var ref$1 = this.getSeparators();\n    var decimalSeparator = ref$1.decimalSeparator;\n    return new RegExp(\n      '[0-9' +\n        (customNumerals ? customNumerals.join('') : '') +\n        ']' +\n        (decimalSeparator && decimalScale !== 0 && !ignoreDecimalSeparator && !format\n          ? '|' + escapeRegExp(decimalSeparator)\n          : ''),\n      g ? 'g' : undefined\n    );\n  };\n\n  NumberFormat.prototype.getSeparators = function getSeparators () {\n    var ref = this.props;\n    var decimalSeparator = ref.decimalSeparator;\n    var ref$1 = this.props;\n    var thousandSeparator = ref$1.thousandSeparator;\n    var allowedDecimalSeparators = ref$1.allowedDecimalSeparators;\n\n    if (thousandSeparator === true) {\n      thousandSeparator = ',';\n    }\n    if (!allowedDecimalSeparators) {\n      allowedDecimalSeparators = [decimalSeparator, '.'];\n    }\n\n    return {\n      decimalSeparator: decimalSeparator,\n      thousandSeparator: thousandSeparator,\n      allowedDecimalSeparators: allowedDecimalSeparators,\n    };\n  };\n\n  NumberFormat.prototype.getMaskAtIndex = function getMaskAtIndex (index        ) {\n    var ref = this.props;\n    var mask = ref.mask; if ( mask === void 0 ) mask = ' ';\n    if (typeof mask === 'string') {\n      return mask;\n    }\n\n    return mask[index] || ' ';\n  };\n\n  NumberFormat.prototype.getValueObject = function getValueObject (formattedValue        , numAsString        ) {\n    var floatValue = parseFloat(numAsString);\n\n    return {\n      formattedValue: formattedValue,\n      value: numAsString,\n      floatValue: isNaN(floatValue) ? undefined : floatValue,\n    };\n  };\n\n  NumberFormat.prototype.validateProps = function validateProps () {\n    var ref = this.props;\n    var mask = ref.mask;\n\n    //validate decimalSeparator and thousandSeparator\n    var ref$1 = this.getSeparators();\n    var decimalSeparator = ref$1.decimalSeparator;\n    var thousandSeparator = ref$1.thousandSeparator;\n\n    if (decimalSeparator === thousandSeparator) {\n      throw new Error((\"\\n          Decimal separator can't be same as thousand separator.\\n          thousandSeparator: \" + thousandSeparator + \" (thousandSeparator = {true} is same as thousandSeparator = \\\",\\\")\\n          decimalSeparator: \" + decimalSeparator + \" (default value for decimalSeparator is .)\\n       \"));\n    }\n\n    //validate mask\n    if (mask) {\n      var maskAsStr = mask === 'string' ? mask : mask.toString();\n      if (maskAsStr.match(/\\d/g)) {\n        throw new Error((\"\\n          Mask \" + mask + \" should not contain numeric character;\\n        \"));\n      }\n    }\n  };\n  /** Misc methods end **/\n\n  /** caret specific methods **/\n  NumberFormat.prototype.setPatchedCaretPosition = function setPatchedCaretPosition (el                  , caretPos        , currentValue        ) {\n    /* setting caret position within timeout of 0ms is required for mobile chrome,\n    otherwise browser resets the caret position after we set it\n    We are also setting it without timeout so that in normal browser we don't see the flickering */\n    setCaretPosition(el, caretPos);\n    this.caretPositionTimeout = setTimeout(function () {\n      if (el.value === currentValue) { setCaretPosition(el, caretPos); }\n    }, 0);\n  };\n\n  /* This keeps the caret within typing area so people can't type in between prefix or suffix */\n  NumberFormat.prototype.correctCaretPosition = function correctCaretPosition (value        , caretPos        , direction         ) {\n    var ref = this.props;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n    var format = ref.format;\n\n    //if value is empty return 0\n    if (value === '') { return 0; }\n\n    //caret position should be between 0 and value length\n    caretPos = clamp(caretPos, 0, value.length);\n\n    //in case of format as number limit between prefix and suffix\n    if (!format) {\n      var hasNegation = value[0] === '-';\n      return clamp(caretPos, prefix.length + (hasNegation ? 1 : 0), value.length - suffix.length);\n    }\n\n    //in case if custom format method don't do anything\n    if (typeof format === 'function') { return caretPos; }\n\n    /* in case format is string find the closest # position from the caret position */\n\n    //in case the caretPos have input value on it don't do anything\n    if (format[caretPos] === '#' && charIsNumber(value[caretPos])) {\n      return caretPos;\n    }\n\n    //if caretPos is just after input value don't do anything\n    if (format[caretPos - 1] === '#' && charIsNumber(value[caretPos - 1])) {\n      return caretPos;\n    }\n\n    //find the nearest caret position\n    var firstHashPosition = format.indexOf('#');\n    var lastHashPosition = format.lastIndexOf('#');\n\n    //limit the cursor between the first # position and the last # position\n    caretPos = clamp(caretPos, firstHashPosition, lastHashPosition + 1);\n\n    var nextPos = format.substring(caretPos, format.length).indexOf('#');\n    var caretLeftBound = caretPos;\n    var caretRightBound = caretPos + (nextPos === -1 ? 0 : nextPos);\n\n    //get the position where the last number is present\n    while (\n      caretLeftBound > firstHashPosition &&\n      (format[caretLeftBound] !== '#' || !charIsNumber(value[caretLeftBound]))\n    ) {\n      caretLeftBound -= 1;\n    }\n\n    var goToLeft =\n      !charIsNumber(value[caretRightBound]) ||\n      (direction === 'left' && caretPos !== firstHashPosition) ||\n      caretPos - caretLeftBound < caretRightBound - caretPos;\n\n    if (goToLeft) {\n      //check if number should be taken after the bound or after it\n      //if number preceding a valid number keep it after\n      return charIsNumber(value[caretLeftBound]) ? caretLeftBound + 1 : caretLeftBound;\n    }\n\n    return caretRightBound;\n  };\n\n  NumberFormat.prototype.getCaretPosition = function getCaretPosition (inputValue        , formattedValue        , caretPos        ) {\n    var ref = this.props;\n    var format = ref.format;\n    var stateValue = this.state.value;\n    var numRegex = this.getNumberRegex(true);\n    var inputNumber = (inputValue.match(numRegex) || []).join('');\n    var formattedNumber = (formattedValue.match(numRegex) || []).join('');\n    var j, i;\n\n    j = 0;\n\n    for (i = 0; i < caretPos; i++) {\n      var currentInputChar = inputValue[i] || '';\n      var currentFormatChar = formattedValue[j] || '';\n      //no need to increase new cursor position if formatted value does not have those characters\n      //case inputValue = 1a23 and formattedValue =  123\n      if (!currentInputChar.match(numRegex) && currentInputChar !== currentFormatChar) {\n        continue;\n      }\n\n      //When we are striping out leading zeros maintain the new cursor position\n      //Case inputValue = 00023 and formattedValue = 23;\n      if (\n        currentInputChar === '0' &&\n        currentFormatChar.match(numRegex) &&\n        currentFormatChar !== '0' &&\n        inputNumber.length !== formattedNumber.length\n      ) {\n        continue;\n      }\n\n      //we are not using currentFormatChar because j can change here\n      while (currentInputChar !== formattedValue[j] && j < formattedValue.length) {\n        j++;\n      }\n      j++;\n    }\n\n    if (typeof format === 'string' && !stateValue) {\n      //set it to the maximum value so it goes after the last number\n      j = formattedValue.length;\n    }\n\n    //correct caret position if its outside of editable area\n    j = this.correctCaretPosition(formattedValue, j);\n\n    return j;\n  };\n  /** caret specific methods ends **/\n\n  /** methods to remove formattting **/\n  NumberFormat.prototype.removePrefixAndSuffix = function removePrefixAndSuffix (val        ) {\n    var ref = this.props;\n    var format = ref.format;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n\n    //remove prefix and suffix\n    if (!format && val) {\n      var isNegative = val[0] === '-';\n\n      //remove negation sign\n      if (isNegative) { val = val.substring(1, val.length); }\n\n      //remove prefix\n      val = prefix && val.indexOf(prefix) === 0 ? val.substring(prefix.length, val.length) : val;\n\n      //remove suffix\n      var suffixLastIndex = val.lastIndexOf(suffix);\n      val =\n        suffix && suffixLastIndex !== -1 && suffixLastIndex === val.length - suffix.length\n          ? val.substring(0, suffixLastIndex)\n          : val;\n\n      //add negation sign back\n      if (isNegative) { val = '-' + val; }\n    }\n\n    return val;\n  };\n\n  NumberFormat.prototype.removePatternFormatting = function removePatternFormatting (val        ) {\n    var ref = this.props;\n    var format = ref.format;\n    var formatArray = format.split('#').filter(function (str) { return str !== ''; });\n    var start = 0;\n    var numStr = '';\n\n    for (var i = 0, ln = formatArray.length; i <= ln; i++) {\n      var part = formatArray[i] || '';\n\n      //if i is the last fragment take the index of end of the value\n      //For case like +1 (911) 911 91 91 having pattern +1 (###) ### ## ##\n      var index = i === ln ? val.length : val.indexOf(part, start);\n\n      /* in any case if we don't find the pattern part in the value assume the val as numeric string\n      This will be also in case if user has started typing, in any other case it will not be -1\n      unless wrong prop value is provided */\n      if (index === -1) {\n        numStr = val;\n        break;\n      } else {\n        numStr += val.substring(start, index);\n        start = index + part.length;\n      }\n    }\n\n    return (numStr.match(this.getNumberRegex(true)) || []).join('');\n  };\n\n  NumberFormat.prototype.removeFormatting = function removeFormatting (val        ) {\n    var ref = this.props;\n    var format = ref.format;\n    var removeFormatting = ref.removeFormatting;\n    if (!val) { return val; }\n\n    if (!format) {\n      val = this.removePrefixAndSuffix(val);\n      val = this.getFloatString(val);\n    } else if (typeof format === 'string') {\n      val = this.removePatternFormatting(val);\n    } else if (typeof removeFormatting === 'function') {\n      //condition need to be handled if format method is provide,\n      val = removeFormatting(val);\n    } else {\n      val = (val.match(this.getNumberRegex(true)) || []).join('');\n    }\n    return val;\n  };\n  /** methods to remove formattting end **/\n\n  /*** format specific methods start ***/\n  /**\n   * Format when # based string is provided\n   * @param  {string} numStr Numeric String\n   * @return {string}        formatted Value\n   */\n  NumberFormat.prototype.formatWithPattern = function formatWithPattern (numStr        ) {\n    var ref = this.props;\n    var format = ref.format;\n    var hashCount = 0;\n    var formattedNumberAry = format.split('');\n    for (var i = 0, ln = format.length; i < ln; i++) {\n      if (format[i] === '#') {\n        formattedNumberAry[i] = numStr[hashCount] || this.getMaskAtIndex(hashCount);\n        hashCount += 1;\n      }\n    }\n    return formattedNumberAry.join('');\n  };\n  /**\n   * @param  {string} numStr Numeric string/floatString] It always have decimalSeparator as .\n   * @return {string} formatted Value\n   */\n  NumberFormat.prototype.formatAsNumber = function formatAsNumber (numStr        ) {\n    var ref = this.props;\n    var decimalScale = ref.decimalScale;\n    var fixedDecimalScale = ref.fixedDecimalScale;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n    var allowNegative = ref.allowNegative;\n    var thousandsGroupStyle = ref.thousandsGroupStyle;\n    var ref$1 = this.getSeparators();\n    var thousandSeparator = ref$1.thousandSeparator;\n    var decimalSeparator = ref$1.decimalSeparator;\n\n    var hasDecimalSeparator = numStr.indexOf('.') !== -1 || (decimalScale && fixedDecimalScale);\n    var ref$2 = splitDecimal(numStr, allowNegative);\n    var beforeDecimal = ref$2.beforeDecimal;\n    var afterDecimal = ref$2.afterDecimal;\n    var addNegation = ref$2.addNegation; // eslint-disable-line prefer-const\n\n    //apply decimal precision if its defined\n    if (decimalScale !== undefined) {\n      afterDecimal = limitToScale(afterDecimal, decimalScale, fixedDecimalScale);\n    }\n\n    if (thousandSeparator) {\n      beforeDecimal = applyThousandSeparator(beforeDecimal, thousandSeparator, thousandsGroupStyle);\n    }\n\n    //add prefix and suffix\n    if (prefix) { beforeDecimal = prefix + beforeDecimal; }\n    if (suffix) { afterDecimal = afterDecimal + suffix; }\n\n    //restore negation sign\n    if (addNegation) { beforeDecimal = '-' + beforeDecimal; }\n\n    numStr = beforeDecimal + ((hasDecimalSeparator && decimalSeparator) || '') + afterDecimal;\n\n    return numStr;\n  };\n\n  NumberFormat.prototype.formatNumString = function formatNumString (numStr) {\n    if ( numStr === void 0 ) numStr         = '';\n\n    var ref = this.props;\n    var format = ref.format;\n    var allowEmptyFormatting = ref.allowEmptyFormatting;\n    var customNumerals = ref.customNumerals;\n    var formattedValue = numStr;\n\n    if (customNumerals && customNumerals.length === 10) {\n      var customNumeralRegex = new RegExp('[' + customNumerals.join('') + ']', 'g');\n      formattedValue = numStr.replace(customNumeralRegex, function (digit) { return customNumerals.indexOf(digit).toString(); }\n      );\n    }\n\n    if (numStr === '' && !allowEmptyFormatting) {\n      formattedValue = '';\n    } else if (numStr === '-' && !format) {\n      formattedValue = '-';\n    } else if (typeof format === 'string') {\n      formattedValue = this.formatWithPattern(formattedValue);\n    } else if (typeof format === 'function') {\n      formattedValue = format(formattedValue);\n    } else {\n      formattedValue = this.formatAsNumber(formattedValue);\n    }\n\n    return formattedValue;\n  };\n\n  NumberFormat.prototype.formatValueProp = function formatValueProp (defaultValue                 ) {\n    var ref = this.props;\n    var format = ref.format;\n    var decimalScale = ref.decimalScale;\n    var fixedDecimalScale = ref.fixedDecimalScale;\n    var allowEmptyFormatting = ref.allowEmptyFormatting;\n    var ref$1 = this.props;\n    var value = ref$1.value;\n    var isNumericString = ref$1.isNumericString;\n\n    // if value is undefined or null, use defaultValue instead\n    value = isNil(value) ? defaultValue : value;\n\n    var isNonNumericFalsy = !value && value !== 0;\n\n    if (isNonNumericFalsy && allowEmptyFormatting) {\n      value = '';\n    }\n\n    // if value is not defined return empty string\n    if (isNonNumericFalsy && !allowEmptyFormatting) { return ''; }\n\n    if (typeof value === 'number') {\n      value = toNumericString(value);\n      isNumericString = true;\n    }\n\n    //change infinity value to empty string\n    if (value === 'Infinity' && isNumericString) {\n      value = '';\n    }\n\n    //round the number based on decimalScale\n    //format only if non formatted value is provided\n    if (isNumericString && !format && typeof decimalScale === 'number') {\n      value = roundToPrecision(value, decimalScale, fixedDecimalScale);\n    }\n\n    var formattedValue = isNumericString ? this.formatNumString(value) : this.formatInput(value);\n\n    return formattedValue;\n  };\n\n  NumberFormat.prototype.formatNegation = function formatNegation (value) {\n    if ( value === void 0 ) value         = '';\n\n    var ref = this.props;\n    var allowNegative = ref.allowNegative;\n    var negationRegex = new RegExp('(-)');\n    var doubleNegationRegex = new RegExp('(-)(.)*(-)');\n\n    // Check number has '-' value\n    var hasNegation = negationRegex.test(value);\n\n    // Check number has 2 or more '-' values\n    var removeNegation = doubleNegationRegex.test(value);\n\n    //remove negation\n    value = value.replace(/-/g, '');\n\n    if (hasNegation && !removeNegation && allowNegative) {\n      value = '-' + value;\n    }\n\n    return value;\n  };\n\n  NumberFormat.prototype.formatInput = function formatInput (value) {\n    if ( value === void 0 ) value         = '';\n\n    var ref = this.props;\n    var format = ref.format;\n\n    //format negation only if we are formatting as number\n    if (!format) {\n      value = this.removePrefixAndSuffix(value);\n      value = this.formatNegation(value);\n    }\n\n    //remove formatting from number\n    value = this.removeFormatting(value);\n\n    return this.formatNumString(value);\n  };\n\n  /*** format specific methods end ***/\n  NumberFormat.prototype.isCharacterAFormat = function isCharacterAFormat (caretPos        , value        ) {\n    var ref = this.props;\n    var format = ref.format;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n    var decimalScale = ref.decimalScale;\n    var fixedDecimalScale = ref.fixedDecimalScale;\n    var ref$1 = this.getSeparators();\n    var decimalSeparator = ref$1.decimalSeparator;\n\n    //check within format pattern\n    if (typeof format === 'string' && format[caretPos] !== '#') { return true; }\n\n    //check in number format\n    if (\n      !format &&\n      (caretPos < prefix.length ||\n        caretPos >= value.length - suffix.length ||\n        (decimalScale && fixedDecimalScale && value[caretPos] === decimalSeparator))\n    ) {\n      return true;\n    }\n\n    return false;\n  };\n\n  /**\n   * This will check if any formatting got removed by the delete or backspace and reset the value\n   * It will also work as fallback if android chome keyDown handler does not work\n   **/\n  NumberFormat.prototype.correctInputValue = function correctInputValue (caretPos        , lastValue        , value        ) {\n    var this$1 = this;\n\n    var ref = this.props;\n    var format = ref.format;\n    var allowNegative = ref.allowNegative;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n    var decimalScale = ref.decimalScale;\n    var ref$1 = this.getSeparators();\n    var allowedDecimalSeparators = ref$1.allowedDecimalSeparators;\n    var decimalSeparator = ref$1.decimalSeparator;\n    var lastNumStr = this.state.numAsString || '';\n    var ref$2 = this.selectionBeforeInput;\n    var selectionStart = ref$2.selectionStart;\n    var selectionEnd = ref$2.selectionEnd;\n    var ref$3 = findChangedIndex(lastValue, value);\n    var start = ref$3.start;\n    var end = ref$3.end;\n\n    /** Check for any allowed decimal separator is added in the numeric format and replace it with decimal separator */\n    if (\n      !format &&\n      start === end &&\n      allowedDecimalSeparators.indexOf(value[selectionStart]) !== -1\n    ) {\n      var separator = decimalScale === 0 ? '' : decimalSeparator;\n      return (\n        value.substr(0, selectionStart) + separator + value.substr(selectionStart + 1, value.length)\n      );\n    }\n\n    var leftBound = !!format ? 0 : prefix.length;\n    var rightBound = lastValue.length - (!!format ? 0 : suffix.length);\n\n    if (\n      // don't do anything if something got added\n      value.length > lastValue.length ||\n      // or if the new value is an empty string\n      !value.length ||\n      // or if nothing has changed, in which case start will be same as end\n      start === end ||\n      // or in case if whole input is selected and new value is typed\n      (selectionStart === 0 && selectionEnd === lastValue.length) ||\n      // or in case if the whole content is replaced by browser, example (autocomplete)\n      (start === 0 && end === lastValue.length) ||\n      // or if charcters between prefix and suffix is selected.\n      // For numeric inputs we apply the format so, prefix and suffix can be ignored\n      (selectionStart === leftBound && selectionEnd === rightBound)\n    ) {\n      return value;\n    }\n\n    // check whether the deleted portion has a character that is part of a format\n    var deletedValues = lastValue.substr(start, end - start);\n    var formatGotDeleted = !![].concat( deletedValues ).find(function (deletedVal, idx) { return this$1.isCharacterAFormat(idx + start, lastValue); }\n    );\n\n    // if it has, only remove characters that are not part of the format\n    if (formatGotDeleted) {\n      var deletedValuePortion = lastValue.substr(start);\n      var recordIndexOfFormatCharacters = {};\n      var resolvedPortion = [];\n      [].concat( deletedValuePortion ).forEach(function (currentPortion, idx) {\n        if (this$1.isCharacterAFormat(idx + start, lastValue)) {\n          recordIndexOfFormatCharacters[idx] = currentPortion;\n        } else if (idx > deletedValues.length - 1) {\n          resolvedPortion.push(currentPortion);\n        }\n      });\n\n      Object.keys(recordIndexOfFormatCharacters).forEach(function (idx) {\n        if (resolvedPortion.length > idx) {\n          resolvedPortion.splice(idx, 0, recordIndexOfFormatCharacters[idx]);\n        } else {\n          resolvedPortion.push(recordIndexOfFormatCharacters[idx]);\n        }\n      });\n\n      value = lastValue.substr(0, start) + resolvedPortion.join('');\n    }\n\n    //for numbers check if beforeDecimal got deleted and there is nothing after decimal,\n    //clear all numbers in such case while keeping the - sign\n    if (!format) {\n      var numericString = this.removeFormatting(value);\n      var ref$4 = splitDecimal(\n        numericString,\n        allowNegative\n      );\n      var beforeDecimal = ref$4.beforeDecimal;\n      var afterDecimal = ref$4.afterDecimal;\n      var addNegation = ref$4.addNegation; // eslint-disable-line prefer-const\n\n      //clear only if something got deleted\n      var isBeforeDecimalPoint = caretPos < value.indexOf(decimalSeparator) + 1;\n      if (\n        numericString.length < lastNumStr.length &&\n        isBeforeDecimalPoint &&\n        beforeDecimal === '' &&\n        !parseFloat(afterDecimal)\n      ) {\n        return addNegation ? '-' : '';\n      }\n    }\n\n    return value;\n  };\n\n  /** Update value and caret position */\n  NumberFormat.prototype.updateValue = function updateValue (params   \n                           \n                        \n                       \n                            \n                               \n                   \n                     \n                              \n   ) {\n    var formattedValue = params.formattedValue;\n    var input = params.input;\n    var setCaretPosition = params.setCaretPosition; if ( setCaretPosition === void 0 ) setCaretPosition = true;\n    var source = params.source;\n    var event = params.event;\n    var numAsString = params.numAsString;\n    var caretPos = params.caretPos;\n    var ref = this.props;\n    var onValueChange = ref.onValueChange;\n    var ref$1 = this.state;\n    var lastValue = ref$1.value;\n\n    if (input) {\n      //calculate caret position if not defined\n      if (caretPos === undefined && setCaretPosition) {\n        var inputValue = params.inputValue || input.value;\n\n        var currentCaretPosition = getCurrentCaretPosition(input);\n\n        /**\n         * set the value imperatively, this is required for IE fix\n         * This is also required as if new caret position is beyond the previous value.\n         * Caret position will not be set correctly\n         */\n        input.value = formattedValue;\n\n        //get the caret position\n        caretPos = this.getCaretPosition(inputValue, formattedValue, currentCaretPosition);\n      }\n\n      /**\n       * set the value imperatively, as we set the caret position as well imperatively.\n       * This is to keep value and caret position in sync\n       */\n      input.value = formattedValue;\n\n      //set caret position, and value imperatively when element is provided\n      if (setCaretPosition) {\n        //set caret position\n        this.setPatchedCaretPosition(input, caretPos, formattedValue);\n      }\n    }\n\n    //calculate numeric string if not passed\n    if (numAsString === undefined) {\n      numAsString = this.removeFormatting(formattedValue);\n    }\n\n    //update state if value is changed\n    if (formattedValue !== lastValue) {\n      this.setState({ value: formattedValue, numAsString: numAsString });\n\n      // trigger onValueChange synchronously, so parent is updated along with the number format. Fix for #277, #287\n      onValueChange(this.getValueObject(formattedValue, numAsString), { event: event, source: source });\n    }\n  };\n\n  NumberFormat.prototype.onChange = function onChange (e                     ) {\n    var el = e.target;\n    var inputValue = el.value;\n    var ref = this;\n    var state = ref.state;\n    var props = ref.props;\n    var isAllowed = props.isAllowed;\n    var lastValue = state.value || '';\n\n    var currentCaretPosition = getCurrentCaretPosition(el);\n\n    inputValue = this.correctInputValue(currentCaretPosition, lastValue, inputValue);\n\n    var formattedValue = this.formatInput(inputValue) || '';\n    var numAsString = this.removeFormatting(formattedValue);\n\n    var valueObj = this.getValueObject(formattedValue, numAsString);\n    var isChangeAllowed = isAllowed(valueObj);\n\n    if (!isChangeAllowed) {\n      formattedValue = lastValue;\n    }\n\n    this.updateValue({\n      formattedValue: formattedValue,\n      numAsString: numAsString,\n      inputValue: inputValue,\n      input: el,\n      event: e,\n      source: 'event',\n    });\n\n    if (isChangeAllowed) {\n      props.onChange(e);\n    }\n  };\n\n  NumberFormat.prototype.onBlur = function onBlur (e                     ) {\n    var ref = this;\n    var props = ref.props;\n    var state = ref.state;\n    var format = props.format;\n    var onBlur = props.onBlur;\n    var allowLeadingZeros = props.allowLeadingZeros;\n    var numAsString = state.numAsString;\n    var lastValue = state.value;\n    this.focusedElm = null;\n\n    clearTimeout(this.focusTimeout);\n    clearTimeout(this.caretPositionTimeout);\n\n    if (!format) {\n      // if the numAsString is not a valid number reset it to empty\n      if (isNaN(parseFloat(numAsString))) {\n        numAsString = '';\n      }\n\n      if (!allowLeadingZeros) {\n        numAsString = fixLeadingZero(numAsString);\n      }\n\n      var formattedValue = this.formatNumString(numAsString);\n\n      //change the state\n      if (formattedValue !== lastValue) {\n        // the event needs to be persisted because its properties can be accessed in an asynchronous way\n        this.updateValue({\n          formattedValue: formattedValue,\n          numAsString: numAsString,\n          input: e.target,\n          setCaretPosition: false,\n          event: e,\n          source: 'event',\n        });\n        onBlur(e);\n        return;\n      }\n    }\n    onBlur(e);\n  };\n\n  NumberFormat.prototype.onKeyDown = function onKeyDown (e                             ) {\n    var el = e.target;\n    var key = e.key;\n    var selectionStart = el.selectionStart;\n    var selectionEnd = el.selectionEnd;\n    var value = el.value; if ( value === void 0 ) value = '';\n    var expectedCaretPosition;\n    var ref = this.props;\n    var decimalScale = ref.decimalScale;\n    var fixedDecimalScale = ref.fixedDecimalScale;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n    var format = ref.format;\n    var onKeyDown = ref.onKeyDown;\n    var ignoreDecimalSeparator = decimalScale !== undefined && fixedDecimalScale;\n    var numRegex = this.getNumberRegex(false, ignoreDecimalSeparator);\n    var negativeRegex = new RegExp('-');\n    var isPatternFormat = typeof format === 'string';\n\n    this.selectionBeforeInput = {\n      selectionStart: selectionStart,\n      selectionEnd: selectionEnd,\n    };\n\n    //Handle backspace and delete against non numerical/decimal characters or arrow keys\n    if (key === 'ArrowLeft' || key === 'Backspace') {\n      expectedCaretPosition = selectionStart - 1;\n    } else if (key === 'ArrowRight') {\n      expectedCaretPosition = selectionStart + 1;\n    } else if (key === 'Delete') {\n      expectedCaretPosition = selectionStart;\n    }\n\n    //if expectedCaretPosition is not set it means we don't want to Handle keyDown\n    //also if multiple characters are selected don't handle\n    if (expectedCaretPosition === undefined || selectionStart !== selectionEnd) {\n      onKeyDown(e);\n      return;\n    }\n\n    var newCaretPosition = expectedCaretPosition;\n    var leftBound = isPatternFormat ? format.indexOf('#') : prefix.length;\n    var rightBound = isPatternFormat ? format.lastIndexOf('#') + 1 : value.length - suffix.length;\n\n    if (key === 'ArrowLeft' || key === 'ArrowRight') {\n      var direction = key === 'ArrowLeft' ? 'left' : 'right';\n      newCaretPosition = this.correctCaretPosition(value, expectedCaretPosition, direction);\n    } else if (\n      key === 'Delete' &&\n      !numRegex.test(value[expectedCaretPosition]) &&\n      !negativeRegex.test(value[expectedCaretPosition])\n    ) {\n      while (!numRegex.test(value[newCaretPosition]) && newCaretPosition < rightBound) {\n        newCaretPosition++;\n      }\n    } else if (key === 'Backspace' && !numRegex.test(value[expectedCaretPosition])) {\n      /* NOTE: This is special case when backspace is pressed on a\n      negative value while the cursor position is after prefix. We can't handle it on onChange because\n      we will not have any information of keyPress\n      */\n      if (selectionStart <= leftBound + 1 && value[0] === '-' && typeof format === 'undefined') {\n        var newValue = value.substring(1);\n        this.updateValue({\n          formattedValue: newValue,\n          caretPos: newCaretPosition,\n          input: el,\n          event: e,\n          source: 'event',\n        });\n      } else if (!negativeRegex.test(value[expectedCaretPosition])) {\n        while (!numRegex.test(value[newCaretPosition - 1]) && newCaretPosition > leftBound) {\n          newCaretPosition--;\n        }\n        newCaretPosition = this.correctCaretPosition(value, newCaretPosition, 'left');\n      }\n    }\n\n    if (\n      newCaretPosition !== expectedCaretPosition ||\n      expectedCaretPosition < leftBound ||\n      expectedCaretPosition > rightBound\n    ) {\n      e.preventDefault();\n      this.setPatchedCaretPosition(el, newCaretPosition, value);\n    }\n\n    /* NOTE: this is just required for unit test as we need to get the newCaretPosition,\n            Remove this when you find different solution */\n    if (e.isUnitTestRun) {\n      this.setPatchedCaretPosition(el, newCaretPosition, value);\n    }\n\n    onKeyDown(e);\n  };\n\n  /** required to handle the caret position when click anywhere within the input **/\n  NumberFormat.prototype.onMouseUp = function onMouseUp (e                          ) {\n    var el = e.target;\n\n    /**\n     * NOTE: we have to give default value for value as in case when custom input is provided\n     * value can come as undefined when nothing is provided on value prop.\n     */\n    var selectionStart = el.selectionStart;\n    var selectionEnd = el.selectionEnd;\n    var value = el.value; if ( value === void 0 ) value = '';\n\n    if (selectionStart === selectionEnd) {\n      var caretPosition = this.correctCaretPosition(value, selectionStart);\n      if (caretPosition !== selectionStart) {\n        this.setPatchedCaretPosition(el, caretPosition, value);\n      }\n    }\n\n    this.props.onMouseUp(e);\n  };\n\n  NumberFormat.prototype.onFocus = function onFocus (e                     ) {\n    var this$1 = this;\n\n    // Workaround Chrome and Safari bug https://bugs.chromium.org/p/chromium/issues/detail?id=779328\n    // (onFocus event target selectionStart is always 0 before setTimeout)\n    e.persist();\n\n    this.focusedElm = e.target;\n    this.focusTimeout = setTimeout(function () {\n      var el = e.target;\n      var selectionStart = el.selectionStart;\n      var selectionEnd = el.selectionEnd;\n      var value = el.value; if ( value === void 0 ) value = '';\n\n      var caretPosition = this$1.correctCaretPosition(value, selectionStart);\n\n      //setPatchedCaretPosition only when everything is not selected on focus (while tabbing into the field)\n      if (\n        caretPosition !== selectionStart &&\n        !(selectionStart === 0 && selectionEnd === value.length)\n      ) {\n        this$1.setPatchedCaretPosition(el, caretPosition, value);\n      }\n\n      this$1.props.onFocus(e);\n    }, 0);\n  };\n\n  NumberFormat.prototype.render = function render () {\n    var ref = this.props;\n    var type = ref.type;\n    var displayType = ref.displayType;\n    var customInput = ref.customInput;\n    var renderText = ref.renderText;\n    var getInputRef = ref.getInputRef;\n    var format = ref.format;\n    var thousandSeparator = ref.thousandSeparator;\n    var decimalSeparator = ref.decimalSeparator;\n    var allowedDecimalSeparators = ref.allowedDecimalSeparators;\n    var thousandsGroupStyle = ref.thousandsGroupStyle;\n    var decimalScale = ref.decimalScale;\n    var fixedDecimalScale = ref.fixedDecimalScale;\n    var prefix = ref.prefix;\n    var suffix = ref.suffix;\n    var removeFormatting = ref.removeFormatting;\n    var mask = ref.mask;\n    var defaultValue = ref.defaultValue;\n    var isNumericString = ref.isNumericString;\n    var allowNegative = ref.allowNegative;\n    var allowEmptyFormatting = ref.allowEmptyFormatting;\n    var allowLeadingZeros = ref.allowLeadingZeros;\n    var onValueChange = ref.onValueChange;\n    var isAllowed = ref.isAllowed;\n    var customNumerals = ref.customNumerals;\n    var onChange = ref.onChange;\n    var onKeyDown = ref.onKeyDown;\n    var onMouseUp = ref.onMouseUp;\n    var onFocus = ref.onFocus;\n    var onBlur = ref.onBlur;\n    var propValue = ref.value;\n    var rest = objectWithoutProperties( ref, [\"type\", \"displayType\", \"customInput\", \"renderText\", \"getInputRef\", \"format\", \"thousandSeparator\", \"decimalSeparator\", \"allowedDecimalSeparators\", \"thousandsGroupStyle\", \"decimalScale\", \"fixedDecimalScale\", \"prefix\", \"suffix\", \"removeFormatting\", \"mask\", \"defaultValue\", \"isNumericString\", \"allowNegative\", \"allowEmptyFormatting\", \"allowLeadingZeros\", \"onValueChange\", \"isAllowed\", \"customNumerals\", \"onChange\", \"onKeyDown\", \"onMouseUp\", \"onFocus\", \"onBlur\", \"value\"] );\n    var otherProps = rest;\n    var ref$1 = this.state;\n    var value = ref$1.value;\n    var mounted = ref$1.mounted;\n\n    // add input mode on element based on format prop and device once the component is mounted\n    var inputMode = mounted && addInputMode(format) ? 'numeric' : undefined;\n\n    var inputProps = Object.assign({ inputMode: inputMode }, otherProps, {\n      type: type,\n      value: value,\n      onChange: this.onChange,\n      onKeyDown: this.onKeyDown,\n      onMouseUp: this.onMouseUp,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n    });\n\n    if (displayType === 'text') {\n      return renderText ? (\n        renderText(value, otherProps) || null\n      ) : (\n        React.createElement( 'span', Object.assign({}, otherProps, { ref: getInputRef }),\n          value\n        )\n      );\n    } else if (customInput) {\n      var CustomInput = customInput;\n      return React.createElement( CustomInput, Object.assign({}, inputProps, { ref: getInputRef }));\n    }\n\n    return React.createElement( 'input', Object.assign({}, inputProps, { ref: getInputRef }));\n  };\n\n  return NumberFormat;\n}(React.Component));\n\nNumberFormat.defaultProps = defaultProps;\n\nexport default NumberFormat;\n","const resultCache: Map<string, readonly string[]> = new Map();\n\n// font -> avg pixels per char\nconst metrics: Map<string, { count: number; size: number }> = new Map();\n\nconst hyperMaps: Map<string, Map<string, number>> = new Map();\n\ntype BreakCallback = (str: string) => readonly number[];\n\nexport function clearMultilineCache() {\n    resultCache.clear();\n    hyperMaps.clear();\n    metrics.clear();\n}\n\nexport function backProp(\n    text: string,\n    realWidth: number,\n    keyMap: Map<string, number>,\n    temperature: number,\n    avgSize: number\n) {\n    let guessWidth = 0;\n    const contribMap: Record<string, number> = {};\n    for (const char of text) {\n        const v = keyMap.get(char) ?? avgSize;\n        guessWidth += v;\n        contribMap[char] = (contribMap[char] ?? 0) + 1;\n        ``;\n    }\n\n    const diff = realWidth - guessWidth;\n\n    for (const key of Object.keys(contribMap)) {\n        const numContribution = contribMap[key];\n        const contribWidth = keyMap.get(key) ?? avgSize;\n        const contribAmount = (contribWidth * numContribution) / guessWidth;\n        const adjustment = (diff * contribAmount * temperature) / numContribution;\n        const newVal = contribWidth + adjustment;\n        keyMap.set(key, newVal);\n    }\n}\n\nfunction makeHyperMap(ctx: CanvasRenderingContext2D, avgSize: number): Map<string, number> {\n    const result: Map<string, number> = new Map();\n    let total = 0;\n    for (const char of \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?\") {\n        const w = ctx.measureText(char).width;\n        result.set(char, w);\n        total += w;\n    }\n\n    const avg = total / result.size;\n\n    // Artisnal hand-tuned constants that have no real meaning other than they make it work better for most fonts\n    // These don't really need to be accurate, we are going to be adjusting the weights. It just converges faster\n    // if they start somewhere close.\n    const damper = 3;\n    const scaler = (avgSize / avg + damper) / (damper + 1);\n    const keys = result.keys();\n    for (const key of keys) {\n        result.set(key, (result.get(key) ?? avg) * scaler);\n    }\n    return result;\n}\n\nfunction measureText(ctx: CanvasRenderingContext2D, text: string, fontStyle: string, hyperMode: boolean): number {\n    const current = metrics.get(fontStyle);\n\n    if (hyperMode && current !== undefined && current.count > 20000) {\n        let hyperMap = hyperMaps.get(fontStyle);\n        if (hyperMap === undefined) {\n            hyperMap = makeHyperMap(ctx, current.size);\n            hyperMaps.set(fontStyle, hyperMap);\n        }\n\n        if (current.count > 500000) {\n            let final = 0;\n            for (const char of text) {\n                final += hyperMap.get(char) ?? current.size;\n            }\n            return final * 1.01; //safety margin\n        }\n\n        const result = ctx.measureText(text);\n        backProp(text, result.width, hyperMap, Math.max(0.05, 1 - current.count / 200000), current.size);\n        metrics.set(fontStyle, {\n            count: current.count + text.length,\n            size: current.size,\n        });\n        return result.width;\n    }\n\n    const result = ctx.measureText(text);\n\n    const avg = result.width / text.length;\n\n    // we've collected enough data\n    if ((current?.count ?? 0) > 20000) {\n        return result.width;\n    }\n\n    if (current === undefined) {\n        metrics.set(fontStyle, {\n            count: text.length,\n            size: avg,\n        });\n    } else {\n        const diff = avg - current.size;\n        const contribution = text.length / (current.count + text.length);\n        const newVal = current.size + diff * contribution;\n        metrics.set(fontStyle, {\n            count: current.count + text.length,\n            size: newVal,\n        });\n    }\n\n    return result.width;\n}\n\nfunction getSplitPoint(\n    ctx: CanvasRenderingContext2D,\n    text: string,\n    width: number,\n    fontStyle: string,\n    totalWidth: number,\n    measuredChars: number,\n    hyperMode: boolean,\n    getBreakOpportunities?: BreakCallback\n): number {\n    if (text.length <= 1) return text.length;\n\n    // this should never happen, but we are protecting anyway\n    if (totalWidth < width) return -1;\n\n    let guess = Math.floor((width / totalWidth) * measuredChars);\n    let guessWidth = measureText(ctx, text.substring(0, guess), fontStyle, hyperMode);\n\n    const oppos = getBreakOpportunities?.(text);\n\n    if (guessWidth === width) {\n        // NAILED IT\n    } else if (guessWidth < width) {\n        while (guessWidth < width) {\n            guess++;\n            guessWidth = measureText(ctx, text.substring(0, guess), fontStyle, hyperMode);\n        }\n        guess--;\n    } else {\n        // we only need to check for spaces as we go back\n        while (guessWidth > width) {\n            const lastSpace = oppos !== undefined ? 0 : text.lastIndexOf(\" \", guess - 1);\n            if (lastSpace > 0) {\n                guess = lastSpace;\n            } else {\n                guess--;\n            }\n            guessWidth = measureText(ctx, text.substring(0, guess), fontStyle, hyperMode);\n        }\n    }\n\n    if (text[guess] !== \" \") {\n        let greedyBreak = 0;\n        if (oppos === undefined) {\n            greedyBreak = text.lastIndexOf(\" \", guess);\n        } else {\n            console.log(text, oppos);\n            for (const o of oppos) {\n                if (o > guess) break;\n                greedyBreak = o;\n            }\n        }\n        if (greedyBreak > 0) {\n            guess = greedyBreak;\n        }\n    }\n\n    return guess;\n}\n\n// Algorithm improved from https://github.com/geongeorge/Canvas-Txt/blob/master/src/index.js\nexport function splitMultilineText(\n    ctx: CanvasRenderingContext2D,\n    value: string,\n    fontStyle: string,\n    width: number,\n    hyperWrappingAllowed: boolean,\n    getBreakOpportunities?: BreakCallback\n): readonly string[] {\n    const key = `${value}_${fontStyle}_${width}px`;\n    const cacheResult = resultCache.get(key);\n    if (cacheResult !== undefined) return cacheResult;\n\n    if (width <= 0) {\n        // dont render 0 width stuff\n        return [];\n    }\n\n    let result: string[] = [];\n    const encodedLines: string[] = value.split(\"\\n\");\n\n    const fontMetrics = metrics.get(fontStyle);\n    const safeLineGuess = fontMetrics === undefined ? value.length : (width / fontMetrics.size) * 1.5;\n    const hyperMode = hyperWrappingAllowed && fontMetrics !== undefined && fontMetrics.count > 20000;\n\n    for (let line of encodedLines) {\n        let textWidth = measureText(ctx, line.substring(0, safeLineGuess), fontStyle, hyperMode);\n        let measuredChars = Math.min(line.length, safeLineGuess);\n        if (textWidth <= width) {\n            // line fits, just push it\n            result.push(line);\n        } else {\n            while (textWidth > width) {\n                const splitPoint = getSplitPoint(\n                    ctx,\n                    line,\n                    width,\n                    fontStyle,\n                    textWidth,\n                    measuredChars,\n                    hyperMode,\n                    getBreakOpportunities\n                );\n                const subLine = line.substring(0, splitPoint);\n\n                line = line.substring(subLine.length);\n                result.push(subLine);\n                textWidth = measureText(ctx, line.substring(0, safeLineGuess), fontStyle, hyperMode);\n                measuredChars = Math.min(line.length, safeLineGuess);\n            }\n            if (textWidth > 0) {\n                result.push(line);\n            }\n        }\n    }\n\n    result = result.map((l, i) => (i === 0 ? l.trimEnd() : l.trim()));\n    resultCache.set(key, result);\n    if (resultCache.size > 500) {\n        // this is not technically LRU behavior but it works \"close enough\" and is much cheaper\n        resultCache.delete(resultCache.keys().next().value);\n    }\n    return result;\n}\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// ../../node_modules/@emotion/memoize/dist/memoize.browser.esm.js\nfunction memoize(fn) {\n  var cache2 = {};\n  return function(arg) {\n    if (cache2[arg] === void 0)\n      cache2[arg] = fn(arg);\n    return cache2[arg];\n  };\n}\nvar memoize_browser_esm_default;\nvar init_memoize_browser_esm = __esm({\n  \"../../node_modules/@emotion/memoize/dist/memoize.browser.esm.js\"() {\n    memoize_browser_esm_default = memoize;\n  }\n});\n\n// ../../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js\nvar reactPropsRegex, index, is_prop_valid_browser_esm_default;\nvar init_is_prop_valid_browser_esm = __esm({\n  \"../../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js\"() {\n    init_memoize_browser_esm();\n    reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;\n    index = memoize_browser_esm_default(function(prop) {\n      return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111 && prop.charCodeAt(1) === 110 && prop.charCodeAt(2) < 91;\n    });\n    is_prop_valid_browser_esm_default = index;\n  }\n});\n\n// ../../node_modules/@linaria/core/esm/cx.js\nvar cx, cx_default;\nvar init_cx = __esm({\n  \"../../node_modules/@linaria/core/esm/cx.js\"() {\n    cx = function cx2() {\n      const presentClassNames = Array.prototype.slice.call(arguments).filter(Boolean);\n      const atomicClasses = {};\n      const nonAtomicClasses = [];\n      presentClassNames.forEach((arg) => {\n        const individualClassNames = arg ? arg.split(\" \") : [];\n        individualClassNames.forEach((className) => {\n          if (className.startsWith(\"atm_\")) {\n            const [, keyHash] = className.split(\"_\");\n            atomicClasses[keyHash] = className;\n          } else {\n            nonAtomicClasses.push(className);\n          }\n        });\n      });\n      const result = [];\n      for (const keyHash in atomicClasses) {\n        if (Object.prototype.hasOwnProperty.call(atomicClasses, keyHash)) {\n          result.push(atomicClasses[keyHash]);\n        }\n      }\n      result.push(...nonAtomicClasses);\n      return result.join(\" \");\n    };\n    cx_default = cx;\n  }\n});\n\n// ../../node_modules/@linaria/core/esm/index.js\nvar init_esm = __esm({\n  \"../../node_modules/@linaria/core/esm/index.js\"() {\n    init_cx();\n  }\n});\n\n// ../../node_modules/@linaria/react/esm/styled.js\nimport React5 from \"react\";\nfunction filterProps(component, props, omitKeys) {\n  const filteredProps = omit(props, omitKeys);\n  if (typeof component === \"string\" && component.indexOf(\"-\") === -1 && !isCapital(component[0])) {\n    Object.keys(filteredProps).forEach((key) => {\n      if (!is_prop_valid_browser_esm_default(key)) {\n        delete filteredProps[key];\n      }\n    });\n  }\n  return filteredProps;\n}\nfunction styled(tag) {\n  return (options) => {\n    if (true) {\n      if (Array.isArray(options)) {\n        throw new Error('Using the \"styled\" tag in runtime is not supported. Make sure you have set up the Babel plugin correctly. See https://github.com/callstack/linaria#setup');\n      }\n    }\n    const render = (props, ref) => {\n      const {\n        as: component = tag,\n        class: className\n      } = props;\n      const filteredProps = filterProps(component, props, [\"as\", \"class\"]);\n      filteredProps.ref = ref;\n      filteredProps.className = options.atomic ? cx_default(options.class, filteredProps.className || className) : cx_default(filteredProps.className || className, options.class);\n      const {\n        vars\n      } = options;\n      if (vars) {\n        const style = {};\n        for (const name in vars) {\n          const variable = vars[name];\n          const result = variable[0];\n          const unit = variable[1] || \"\";\n          const value = typeof result === \"function\" ? result(props) : result;\n          warnIfInvalid(value, options.name);\n          style[`--${name}`] = `${value}${unit}`;\n        }\n        const ownStyle = filteredProps.style || {};\n        const keys = Object.keys(ownStyle);\n        if (keys.length > 0) {\n          keys.forEach((key) => {\n            style[key] = ownStyle[key];\n          });\n        }\n        filteredProps.style = style;\n      }\n      if (tag.__linaria && tag !== component) {\n        filteredProps.as = component;\n        return /* @__PURE__ */ React5.createElement(tag, filteredProps);\n      }\n      return /* @__PURE__ */ React5.createElement(component, filteredProps);\n    };\n    const Result = React5.forwardRef ? /* @__PURE__ */ React5.forwardRef(render) : (props) => {\n      const rest = omit(props, [\"innerRef\"]);\n      return render(rest, props.innerRef);\n    };\n    Result.displayName = options.name;\n    Result.__linaria = {\n      className: options.class,\n      extends: tag\n    };\n    return Result;\n  };\n}\nvar isCapital, filterKey, omit, warnIfInvalid, styled_default;\nvar init_styled = __esm({\n  \"../../node_modules/@linaria/react/esm/styled.js\"() {\n    init_is_prop_valid_browser_esm();\n    init_esm();\n    isCapital = (ch) => ch.toUpperCase() === ch;\n    filterKey = (keys) => (key) => keys.indexOf(key) === -1;\n    omit = (obj, keys) => {\n      const res = {};\n      Object.keys(obj).filter(filterKey(keys)).forEach((key) => {\n        res[key] = obj[key];\n      });\n      return res;\n    };\n    warnIfInvalid = (value, componentName) => {\n      if (true) {\n        if (typeof value === \"string\" || typeof value === \"number\" && isFinite(value)) {\n          return;\n        }\n        const stringified = typeof value === \"object\" ? JSON.stringify(value) : String(value);\n        console.warn(`An interpolation evaluated to '${stringified}' in the component '${componentName}', which is probably a mistake. You should explicitly cast or transform the value to a string.`);\n      }\n    };\n    styled_default = true ? new Proxy(styled, {\n      get(o, prop) {\n        return o(prop);\n      }\n    }) : styled;\n  }\n});\n\n// ../../node_modules/@linaria/react/esm/index.js\nvar init_esm2 = __esm({\n  \"../../node_modules/@linaria/react/esm/index.js\"() {\n    init_styled();\n  }\n});\n\n// linaria:number-overlay-editor-style_1i1z3n.linaria.css\nvar init_ = __esm({\n  \"linaria:number-overlay-editor-style_1i1z3n.linaria.css\"() {\n  }\n});\n\n// src/data-grid-overlay-editor/private/number-overlay-editor-style.tsx\nvar NumberOverlayEditorStyle;\nvar init_number_overlay_editor_style = __esm({\n  \"src/data-grid-overlay-editor/private/number-overlay-editor-style.tsx\"() {\n    \"use strict\";\n    init_();\n    init_esm2();\n    NumberOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n      name: \"NumberOverlayEditorStyle\",\n      class: \"n1czszh3\"\n    });\n  }\n});\n\n// src/data-grid-overlay-editor/private/number-overlay-editor.tsx\nvar number_overlay_editor_exports = {};\n__export(number_overlay_editor_exports, {\n  default: () => number_overlay_editor_default\n});\nimport * as React16 from \"react\";\nimport NumberFormat from \"react-number-format\";\nfunction getDecimalSeparator() {\n  var _a, _b, _c;\n  const numberWithDecimalSeparator = 1.1;\n  const result = (_c = (_b = (_a = Intl.NumberFormat()) == null ? void 0 : _a.formatToParts(numberWithDecimalSeparator)) == null ? void 0 : _b.find((part) => part.type === \"decimal\")) == null ? void 0 : _c.value;\n  return result != null ? result : \".\";\n}\nfunction getThousandSeprator() {\n  return getDecimalSeparator() === \".\" ? \",\" : \".\";\n}\nvar NumberOverlayEditor, number_overlay_editor_default;\nvar init_number_overlay_editor = __esm({\n  \"src/data-grid-overlay-editor/private/number-overlay-editor.tsx\"() {\n    \"use strict\";\n    init_number_overlay_editor_style();\n    NumberOverlayEditor = (p) => {\n      const { value, onChange, onKeyDown, disabled, highlight, validatedSelection } = p;\n      const inputRef = React16.useRef();\n      React16.useLayoutEffect(() => {\n        var _a;\n        if (validatedSelection !== void 0) {\n          const range2 = typeof validatedSelection === \"number\" ? [validatedSelection, null] : validatedSelection;\n          (_a = inputRef.current) == null ? void 0 : _a.setSelectionRange(range2[0], range2[1]);\n        }\n      }, [validatedSelection]);\n      return /* @__PURE__ */ React16.createElement(NumberOverlayEditorStyle, null, /* @__PURE__ */ React16.createElement(NumberFormat, {\n        autoFocus: true,\n        getInputRef: inputRef,\n        className: \"gdg-input\",\n        onFocus: (e) => e.target.setSelectionRange(highlight ? 0 : e.target.value.length, e.target.value.length),\n        disabled: disabled === true,\n        thousandSeparator: getThousandSeprator(),\n        decimalSeparator: getDecimalSeparator(),\n        value: Object.is(value, -0) ? \"-\" : value != null ? value : \"\",\n        onValueChange: onChange,\n        onKeyDown\n      }));\n    };\n    number_overlay_editor_default = NumberOverlayEditor;\n  }\n});\n\n// src/data-editor/data-editor.tsx\nimport * as React36 from \"react\";\n\n// src/common/support.ts\nfunction proveType(_val) {\n}\nfunction panic(message = \"This should not happen\") {\n  throw new Error(message);\n}\nfunction assert(fact, message = \"Assertion failed\") {\n  if (fact)\n    return;\n  return panic(message);\n}\nfunction assertNever(_never) {\n  return panic(\"Hell froze over\");\n}\nfunction maybe(fn, defaultValue) {\n  try {\n    return fn();\n  } catch (e) {\n    return defaultValue;\n  }\n}\nvar has = Object.prototype.hasOwnProperty;\nfunction deepEqual(foo, bar) {\n  let ctor, len;\n  if (foo === bar)\n    return true;\n  if (foo && bar && (ctor = foo.constructor) === bar.constructor) {\n    if (ctor === Date)\n      return foo.getTime() === bar.getTime();\n    if (ctor === RegExp)\n      return foo.toString() === bar.toString();\n    if (ctor === Array) {\n      if ((len = foo.length) === bar.length) {\n        while (len-- && deepEqual(foo[len], bar[len]))\n          ;\n      }\n      return len === -1;\n    }\n    if (!ctor || typeof foo === \"object\") {\n      len = 0;\n      for (ctor in foo) {\n        if (has.call(foo, ctor) && ++len && !has.call(bar, ctor))\n          return false;\n        if (!(ctor in bar) || !deepEqual(foo[ctor], bar[ctor]))\n          return false;\n      }\n      return Object.keys(bar).length === len;\n    }\n  }\n  return foo !== foo && bar !== bar;\n}\n\n// src/data-editor/data-editor.tsx\nimport clamp5 from \"lodash/clamp.js\";\nimport uniq from \"lodash/uniq.js\";\nimport flatten from \"lodash/flatten.js\";\nimport range from \"lodash/range.js\";\nimport debounce2 from \"lodash/debounce.js\";\n\n// src/data-grid-overlay-editor/data-grid-overlay-editor.tsx\nimport * as React23 from \"react\";\nimport { createPortal } from \"react-dom\";\n\n// src/click-outside-container/click-outside-container.tsx\nimport * as React from \"react\";\nvar ClickOutsideContainer = class extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.wrapperRef = React.createRef();\n    this.clickOutside = (event) => {\n      if (this.wrapperRef.current !== null && !this.wrapperRef.current.contains(event.target)) {\n        let node = event.target;\n        while (node !== null) {\n          if (node.classList.contains(\"click-outside-ignore\")) {\n            return;\n          }\n          node = node.parentElement;\n        }\n        this.props.onClickOutside();\n      }\n    };\n  }\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.clickOutside, true);\n    document.addEventListener(\"contextmenu\", this.clickOutside, true);\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.clickOutside);\n    document.removeEventListener(\"contextmenu\", this.clickOutside);\n  }\n  render() {\n    const { onClickOutside, ...rest } = this.props;\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      ...rest,\n      ref: this.wrapperRef\n    }, this.props.children);\n  }\n};\n\n// src/common/styles.ts\nimport React2 from \"react\";\nfunction makeCSSStyle(theme) {\n  var _a, _b;\n  return {\n    \"--gdg-accent-color\": theme.accentColor,\n    \"--gdg-accent-fg\": theme.accentFg,\n    \"--gdg-accent-light\": theme.accentLight,\n    \"--gdg-text-dark\": theme.textDark,\n    \"--gdg-text-medium\": theme.textMedium,\n    \"--gdg-text-light\": theme.textLight,\n    \"--gdg-text-bubble\": theme.textBubble,\n    \"--gdg-bg-icon-header\": theme.bgIconHeader,\n    \"--gdg-fg-icon-header\": theme.fgIconHeader,\n    \"--gdg-text-header\": theme.textHeader,\n    \"--gdg-text-group-header\": (_a = theme.textGroupHeader) != null ? _a : theme.textHeader,\n    \"--gdg-text-header-selected\": theme.textHeaderSelected,\n    \"--gdg-bg-cell\": theme.bgCell,\n    \"--gdg-bg-cell-medium\": theme.bgCellMedium,\n    \"--gdg-bg-header\": theme.bgHeader,\n    \"--gdg-bg-header-has-focus\": theme.bgHeaderHasFocus,\n    \"--gdg-bg-header-hovered\": theme.bgHeaderHovered,\n    \"--gdg-bg-bubble\": theme.bgBubble,\n    \"--gdg-bg-bubble-selected\": theme.bgBubbleSelected,\n    \"--gdg-bg-search-result\": theme.bgSearchResult,\n    \"--gdg-border-color\": theme.borderColor,\n    \"--gdg-horizontal-border-color\": (_b = theme.horizontalBorderColor) != null ? _b : theme.borderColor,\n    \"--gdg-drilldown-border\": theme.drilldownBorder,\n    \"--gdg-link-color\": theme.linkColor,\n    \"--gdg-cell-horizontal-padding\": `${theme.cellHorizontalPadding}px`,\n    \"--gdg-cell-vertical-padding\": `${theme.cellVerticalPadding}px`,\n    \"--gdg-header-font-style\": theme.headerFontStyle,\n    \"--gdg-base-font-style\": theme.baseFontStyle,\n    \"--gdg-font-family\": theme.fontFamily,\n    \"--gdg-editor-font-size\": theme.editorFontSize\n  };\n}\nvar dataEditorBaseTheme = {\n  accentColor: \"#4F5DFF\",\n  accentFg: \"#FFFFFF\",\n  accentLight: \"rgba(62, 116, 253, 0.1)\",\n  textDark: \"#313139\",\n  textMedium: \"#737383\",\n  textLight: \"#B2B2C0\",\n  textBubble: \"#313139\",\n  bgIconHeader: \"#737383\",\n  fgIconHeader: \"#FFFFFF\",\n  textHeader: \"#313139\",\n  textGroupHeader: \"#313139BB\",\n  textHeaderSelected: \"#FFFFFF\",\n  bgCell: \"#FFFFFF\",\n  bgCellMedium: \"#FAFAFB\",\n  bgHeader: \"#F7F7F8\",\n  bgHeaderHasFocus: \"#E9E9EB\",\n  bgHeaderHovered: \"#EFEFF1\",\n  bgBubble: \"#EDEDF3\",\n  bgBubbleSelected: \"#FFFFFF\",\n  bgSearchResult: \"#fff9e3\",\n  borderColor: \"rgba(115, 116, 131, 0.16)\",\n  drilldownBorder: \"rgba(0, 0, 0, 0)\",\n  linkColor: \"#4F5DFF\",\n  cellHorizontalPadding: 8,\n  cellVerticalPadding: 3,\n  headerFontStyle: \"600 13px\",\n  baseFontStyle: \"13px\",\n  fontFamily: \"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif\",\n  editorFontSize: \"13px\",\n  lineHeight: 1.4\n};\nfunction getDataEditorTheme() {\n  return dataEditorBaseTheme;\n}\nvar ThemeContext = React2.createContext(dataEditorBaseTheme);\nfunction useTheme() {\n  return React2.useContext(ThemeContext);\n}\n\n// src/data-grid/data-grid-types.ts\nimport has2 from \"lodash/has.js\";\nvar BooleanEmpty = null;\nvar BooleanIndeterminate = void 0;\nvar headerKind = \"header\";\nvar groupHeaderKind = \"group-header\";\nvar outOfBoundsKind = \"out-of-bounds\";\nvar GridCellKind;\n(function(GridCellKind2) {\n  GridCellKind2[\"Uri\"] = \"uri\";\n  GridCellKind2[\"Text\"] = \"text\";\n  GridCellKind2[\"Image\"] = \"image\";\n  GridCellKind2[\"RowID\"] = \"row-id\";\n  GridCellKind2[\"Number\"] = \"number\";\n  GridCellKind2[\"Bubble\"] = \"bubble\";\n  GridCellKind2[\"Boolean\"] = \"boolean\";\n  GridCellKind2[\"Loading\"] = \"loading\";\n  GridCellKind2[\"Markdown\"] = \"markdown\";\n  GridCellKind2[\"Drilldown\"] = \"drilldown\";\n  GridCellKind2[\"Protected\"] = \"protected\";\n  GridCellKind2[\"Custom\"] = \"custom\";\n})(GridCellKind || (GridCellKind = {}));\nvar GridColumnIcon;\n(function(GridColumnIcon2) {\n  GridColumnIcon2[\"HeaderRowID\"] = \"headerRowID\";\n  GridColumnIcon2[\"HeaderCode\"] = \"headerCode\";\n  GridColumnIcon2[\"HeaderNumber\"] = \"headerNumber\";\n  GridColumnIcon2[\"HeaderString\"] = \"headerString\";\n  GridColumnIcon2[\"HeaderBoolean\"] = \"headerBoolean\";\n  GridColumnIcon2[\"HeaderAudioUri\"] = \"headerAudioUri\";\n  GridColumnIcon2[\"HeaderVideoUri\"] = \"headerVideoUri\";\n  GridColumnIcon2[\"HeaderEmoji\"] = \"headerEmoji\";\n  GridColumnIcon2[\"HeaderImage\"] = \"headerImage\";\n  GridColumnIcon2[\"HeaderUri\"] = \"headerUri\";\n  GridColumnIcon2[\"HeaderPhone\"] = \"headerPhone\";\n  GridColumnIcon2[\"HeaderMarkdown\"] = \"headerMarkdown\";\n  GridColumnIcon2[\"HeaderDate\"] = \"headerDate\";\n  GridColumnIcon2[\"HeaderTime\"] = \"headerTime\";\n  GridColumnIcon2[\"HeaderEmail\"] = \"headerEmail\";\n  GridColumnIcon2[\"HeaderReference\"] = \"headerReference\";\n  GridColumnIcon2[\"HeaderIfThenElse\"] = \"headerIfThenElse\";\n  GridColumnIcon2[\"HeaderSingleValue\"] = \"headerSingleValue\";\n  GridColumnIcon2[\"HeaderLookup\"] = \"headerLookup\";\n  GridColumnIcon2[\"HeaderTextTemplate\"] = \"headerTextTemplate\";\n  GridColumnIcon2[\"HeaderMath\"] = \"headerMath\";\n  GridColumnIcon2[\"HeaderRollup\"] = \"headerRollup\";\n  GridColumnIcon2[\"HeaderJoinStrings\"] = \"headerJoinStrings\";\n  GridColumnIcon2[\"HeaderSplitString\"] = \"headerSplitString\";\n  GridColumnIcon2[\"HeaderGeoDistance\"] = \"headerGeoDistance\";\n  GridColumnIcon2[\"HeaderArray\"] = \"headerArray\";\n  GridColumnIcon2[\"RowOwnerOverlay\"] = \"rowOwnerOverlay\";\n  GridColumnIcon2[\"ProtectedColumnOverlay\"] = \"protectedColumnOverlay\";\n})(GridColumnIcon || (GridColumnIcon = {}));\nvar headerCellCheckboxPrefix = \"___gdg_header_cell_\";\nvar headerCellCheckedMarker = headerCellCheckboxPrefix + \"checked\";\nvar headerCellUnheckedMarker = headerCellCheckboxPrefix + \"unchecked\";\nvar headerCellIndeterminateMarker = headerCellCheckboxPrefix + \"indeterminate\";\nfunction isSizedGridColumn(c) {\n  return \"width\" in c && typeof c.width === \"number\";\n}\nasync function resolveCellsThunk(thunk) {\n  if (typeof thunk === \"object\")\n    return thunk;\n  return await thunk();\n}\nfunction isEditableGridCell(cell) {\n  if (cell.kind === GridCellKind.Loading || cell.kind === GridCellKind.Bubble || cell.kind === GridCellKind.RowID || cell.kind === GridCellKind.Protected || cell.kind === GridCellKind.Drilldown) {\n    return false;\n  }\n  proveType(cell);\n  return true;\n}\nfunction isTextEditableGridCell(cell) {\n  if (cell.kind === GridCellKind.Loading || cell.kind === GridCellKind.Bubble || cell.kind === GridCellKind.RowID || cell.kind === GridCellKind.Protected || cell.kind === GridCellKind.Drilldown || cell.kind === GridCellKind.Boolean || cell.kind === GridCellKind.Image || cell.kind === GridCellKind.Custom) {\n    return false;\n  }\n  proveType(cell);\n  return true;\n}\nfunction isInnerOnlyCell(cell) {\n  return cell.kind === InnerGridCellKind.Marker || cell.kind === InnerGridCellKind.NewRow;\n}\nfunction isReadWriteCell(cell) {\n  if (!isEditableGridCell(cell) || cell.kind === GridCellKind.Image)\n    return false;\n  if (cell.kind === GridCellKind.Text || cell.kind === GridCellKind.Number || cell.kind === GridCellKind.Markdown || cell.kind === GridCellKind.Uri || cell.kind === GridCellKind.Custom || cell.kind === GridCellKind.Boolean) {\n    return cell.readonly !== true;\n  }\n  assertNever(cell);\n}\nfunction isObjectEditorCallbackResult(obj) {\n  return has2(obj, \"editor\");\n}\nfunction booleanCellIsEditable(cell) {\n  var _a;\n  return !((_a = cell.readonly) != null ? _a : false);\n}\nvar InnerGridCellKind;\n(function(InnerGridCellKind2) {\n  InnerGridCellKind2[\"NewRow\"] = \"new-row\";\n  InnerGridCellKind2[\"Marker\"] = \"marker\";\n})(InnerGridCellKind || (InnerGridCellKind = {}));\nfunction mergeRanges(input) {\n  if (input.length === 0) {\n    return [];\n  }\n  const ranges = [...input];\n  const stack = [];\n  ranges.sort(function(a, b) {\n    return a[0] - b[0];\n  });\n  stack.push([...ranges[0]]);\n  for (const range2 of ranges.slice(1)) {\n    const top = stack[stack.length - 1];\n    if (top[1] < range2[0]) {\n      stack.push([...range2]);\n    } else if (top[1] < range2[1]) {\n      top[1] = range2[1];\n    }\n  }\n  return stack;\n}\nvar emptyCompactSelection;\nvar _CompactSelection = class {\n  constructor(items) {\n    this.items = items;\n    this.offset = (amount) => {\n      if (amount === 0)\n        return this;\n      const newItems = this.items.map((x) => [x[0] + amount, x[1] + amount]);\n      return new _CompactSelection(newItems);\n    };\n    this.add = (selection) => {\n      const slice = typeof selection === \"number\" ? [selection, selection + 1] : selection;\n      const newItems = mergeRanges([...this.items, slice]);\n      return new _CompactSelection(newItems);\n    };\n    this.remove = (selection) => {\n      const items2 = [...this.items];\n      const selMin = typeof selection === \"number\" ? selection : selection[0];\n      const selMax = typeof selection === \"number\" ? selection + 1 : selection[1];\n      for (const [i, slice] of items2.entries()) {\n        const [start, end] = slice;\n        if (start <= selMax && selMin <= end) {\n          const toAdd = [];\n          if (start < selMin) {\n            toAdd.push([start, selMin]);\n          }\n          if (selMax < end) {\n            toAdd.push([selMax, end]);\n          }\n          items2.splice(i, 1, ...toAdd);\n        }\n      }\n      return new _CompactSelection(items2);\n    };\n    this.first = () => {\n      if (this.items.length === 0)\n        return void 0;\n      return this.items[0][0];\n    };\n    this.last = () => {\n      if (this.items.length === 0)\n        return void 0;\n      return this.items.slice(-1)[0][1] - 1;\n    };\n    this.hasIndex = (index2) => {\n      for (let i = 0; i < this.items.length; i++) {\n        const [start, end] = this.items[i];\n        if (index2 >= start && index2 < end)\n          return true;\n      }\n      return false;\n    };\n    this.hasAll = (index2) => {\n      for (let x = index2[0]; x < index2[1]; x++) {\n        if (!this.hasIndex(x))\n          return false;\n      }\n      return true;\n    };\n    this.some = (predicate) => {\n      for (const i of this) {\n        if (predicate(i))\n          return true;\n      }\n      return false;\n    };\n    this.equals = (other) => {\n      if (other === this)\n        return true;\n      if (other.items.length !== this.items.length)\n        return false;\n      for (let i = 0; i < this.items.length; i++) {\n        const left = other.items[i];\n        const right = this.items[i];\n        if (left[0] !== right[0] || left[1] !== right[1])\n          return false;\n      }\n      return true;\n    };\n    this.toArray = () => {\n      const result = [];\n      for (const [start, end] of this.items) {\n        for (let x = start; x < end; x++) {\n          result.push(x);\n        }\n      }\n      return result;\n    };\n  }\n  get length() {\n    let len = 0;\n    for (const [start, end] of this.items) {\n      len += end - start;\n    }\n    return len;\n  }\n  *[Symbol.iterator]() {\n    for (const [start, end] of this.items) {\n      for (let x = start; x < end; x++) {\n        yield x;\n      }\n    }\n  }\n};\nvar CompactSelection = _CompactSelection;\nCompactSelection.empty = () => {\n  return emptyCompactSelection != null ? emptyCompactSelection : emptyCompactSelection = new _CompactSelection([]);\n};\nCompactSelection.fromSingleSelection = (selection) => {\n  return _CompactSelection.empty().add(selection);\n};\n\n// src/common/utils.tsx\nimport * as React3 from \"react\";\nimport debounce from \"lodash/debounce.js\";\nfunction useEventListener(eventName, handler, element, passive, capture = false) {\n  const savedHandler = React3.useRef();\n  savedHandler.current = handler;\n  React3.useEffect(() => {\n    if (element === null || element.addEventListener === void 0)\n      return;\n    const el = element;\n    const eventListener = (event) => {\n      var _a;\n      (_a = savedHandler.current) == null ? void 0 : _a.call(el, event);\n    };\n    el.addEventListener(eventName, eventListener, { passive, capture });\n    return () => {\n      el.removeEventListener(eventName, eventListener, { capture });\n    };\n  }, [eventName, element, passive, capture]);\n}\nfunction whenDefined(obj, result) {\n  return obj === void 0 ? void 0 : result;\n}\nvar PI = Math.PI;\nfunction degreesToRadians(degrees) {\n  return degrees * PI / 180;\n}\nvar EditPencil = (props) => {\n  var _a;\n  const fg = (_a = props.fgColor) != null ? _a : \"currentColor\";\n  return /* @__PURE__ */ React3.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React3.createElement(\"path\", {\n    d: \"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929\",\n    stroke: fg,\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\",\n    vectorEffect: \"non-scaling-stroke\"\n  }), /* @__PURE__ */ React3.createElement(\"path\", {\n    d: \"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z\",\n    stroke: fg,\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\",\n    vectorEffect: \"non-scaling-stroke\"\n  }));\n};\nvar Checkmark = (props) => {\n  var _a;\n  const fg = (_a = props.fgColor) != null ? _a : \"currentColor\";\n  return /* @__PURE__ */ React3.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React3.createElement(\"path\", {\n    d: \"M19 6L10.3802 17L5.34071 11.8758\",\n    vectorEffect: \"non-scaling-stroke\",\n    stroke: fg,\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }));\n};\nfunction useDebouncedMemo(factory, deps, time) {\n  const [state, setState] = React3.useState(factory);\n  const mountedRef = React3.useRef(true);\n  React3.useEffect(() => () => {\n    mountedRef.current = false;\n  }, []);\n  const debouncedSetState = React3.useRef(debounce((x) => {\n    if (mountedRef.current) {\n      setState(x);\n    }\n  }, time));\n  React3.useLayoutEffect(() => {\n    if (mountedRef.current) {\n      debouncedSetState.current(() => factory());\n    }\n  }, deps);\n  return state;\n}\nvar rtlRange = \"\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC\";\nvar ltrRange = \"A-Za-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u200E\\u2C00-\\uFB1C\\uFE00-\\uFE6F\\uFEFD-\\uFFFF\";\nvar rtl = new RegExp(\"^[^\" + ltrRange + \"]*[\" + rtlRange + \"]\");\nvar ltr = new RegExp(\"^[^\" + rtlRange + \"]*[\" + ltrRange + \"]\");\nfunction direction(value) {\n  return rtl.test(value) ? \"rtl\" : ltr.test(value) ? \"ltr\" : \"neutral\";\n}\nvar scrollbarWidthCache = void 0;\nfunction getScrollBarWidth() {\n  if (scrollbarWidthCache !== void 0)\n    return scrollbarWidthCache;\n  const inner = document.createElement(\"p\");\n  inner.style.width = \"100%\";\n  inner.style.height = \"200px\";\n  const outer = document.createElement(\"div\");\n  outer.id = \"testScrollbar\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"0px\";\n  outer.style.left = \"0px\";\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"200px\";\n  outer.style.height = \"150px\";\n  outer.style.overflow = \"hidden\";\n  outer.append(inner);\n  document.body.append(outer);\n  const w1 = inner.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  let w2 = inner.offsetWidth;\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n  outer.remove();\n  scrollbarWidthCache = w1 - w2;\n  return scrollbarWidthCache;\n}\n\n// src/data-grid/data-grid-lib.ts\nimport React4 from \"react\";\nimport { split as splitText, clearCache } from \"canvas-hypertxt\";\nfunction useMappedColumns(columns, freezeColumns) {\n  return React4.useMemo(() => columns.map((c, i) => ({\n    ...c,\n    sourceIndex: i,\n    sticky: i < freezeColumns\n  })), [columns, freezeColumns]);\n}\nfunction isGroupEqual(left, right) {\n  return (left != null ? left : \"\") === (right != null ? right : \"\");\n}\nfunction cellIsSelected(location, cell, selection) {\n  if ((selection == null ? void 0 : selection.current) === void 0)\n    return false;\n  const [col, row] = selection.current.cell;\n  const [cellCol, cellRow] = location;\n  if (cellRow !== row)\n    return false;\n  if (cell.span === void 0) {\n    return col === cellCol;\n  }\n  return col >= cell.span[0] && col <= cell.span[1];\n}\nfunction cellIsInRect(location, cell, rect) {\n  const startX = rect.x;\n  const endX = rect.x + rect.width - 1;\n  const startY = rect.y;\n  const endY = rect.y + rect.height - 1;\n  const [cellCol, cellRow] = location;\n  if (cellRow < startY || cellRow > endY)\n    return false;\n  if (cell.span === void 0) {\n    return cellCol >= startX && cellCol <= endX;\n  }\n  const [spanStart, spanEnd] = cell.span;\n  return spanStart >= startX && spanStart <= endX || spanEnd >= startX && spanStart <= endX || spanStart < startX && spanEnd > endX;\n}\nfunction cellIsInRange(location, cell, selection) {\n  let result = 0;\n  if (selection.current === void 0)\n    return result;\n  if (cellIsInRect(location, cell, selection.current.range))\n    result++;\n  for (const r of selection.current.rangeStack) {\n    if (cellIsInRect(location, cell, r)) {\n      result++;\n    }\n  }\n  return result;\n}\nfunction remapForDnDState(columns, dndState) {\n  let mappedCols = columns;\n  if (dndState !== void 0) {\n    let writable = [...columns];\n    const temp = mappedCols[dndState.src];\n    if (dndState.src > dndState.dest) {\n      writable.splice(dndState.src, 1);\n      writable.splice(dndState.dest, 0, temp);\n    } else {\n      writable.splice(dndState.dest + 1, 0, temp);\n      writable.splice(dndState.src, 1);\n    }\n    writable = writable.map((c, i) => ({\n      ...c,\n      sticky: columns[i].sticky\n    }));\n    mappedCols = writable;\n  }\n  return mappedCols;\n}\nfunction getStickyWidth(columns, dndState) {\n  let result = 0;\n  const remapped = remapForDnDState(columns, dndState);\n  for (let i = 0; i < remapped.length; i++) {\n    const c = remapped[i];\n    if (c.sticky)\n      result += c.width;\n    else\n      break;\n  }\n  return result;\n}\nfunction getEffectiveColumns(columns, cellXOffset, width, dndState, tx) {\n  const mappedCols = remapForDnDState(columns, dndState);\n  const sticky = [];\n  for (const c of mappedCols) {\n    if (c.sticky) {\n      sticky.push(c);\n    } else {\n      break;\n    }\n  }\n  if (sticky.length > 0) {\n    for (const c of sticky) {\n      width -= c.width;\n    }\n  }\n  let endIndex = cellXOffset;\n  let curX = tx != null ? tx : 0;\n  while (curX <= width && endIndex < mappedCols.length) {\n    curX += mappedCols[endIndex].width;\n    endIndex++;\n  }\n  for (let i = cellXOffset; i < endIndex; i++) {\n    const c = mappedCols[i];\n    if (!c.sticky) {\n      sticky.push(c);\n    }\n  }\n  return sticky;\n}\nfunction getColumnIndexForX(targetX, effectiveColumns, translateX) {\n  let x = 0;\n  for (const c of effectiveColumns) {\n    const cx3 = c.sticky ? x : x + (translateX != null ? translateX : 0);\n    if (targetX <= cx3 + c.width) {\n      return c.sourceIndex;\n    }\n    x += c.width;\n  }\n  return -1;\n}\nfunction getRowIndexForY(targetY, height, hasGroups, headerHeight, groupHeaderHeight, rows, rowHeight, cellYOffset, translateY, lastRowSticky) {\n  const totalHeaderHeight = headerHeight + groupHeaderHeight;\n  if (hasGroups && targetY <= groupHeaderHeight)\n    return -2;\n  if (targetY <= totalHeaderHeight)\n    return -1;\n  const lastRowHeight = typeof rowHeight === \"number\" ? rowHeight : rowHeight(rows - 1);\n  if (lastRowSticky && targetY > height - lastRowHeight) {\n    return rows - 1;\n  }\n  const effectiveRows = rows - (lastRowSticky ? 1 : 0);\n  const ty = targetY - (translateY != null ? translateY : 0);\n  if (typeof rowHeight === \"number\") {\n    const target = Math.floor((ty - totalHeaderHeight) / rowHeight) + cellYOffset;\n    if (target >= effectiveRows)\n      return void 0;\n    return target;\n  } else {\n    let curY = totalHeaderHeight;\n    for (let i = cellYOffset; i < effectiveRows; i++) {\n      const rh = rowHeight(i);\n      if (ty <= curY + rh)\n        return i;\n      curY += rh;\n    }\n    return void 0;\n  }\n}\nvar metricsSize = 0;\nvar metricsCache = {};\nvar isSSR = typeof window === \"undefined\";\nasync function clearCacheOnLoad() {\n  var _a;\n  if (isSSR || ((_a = document == null ? void 0 : document.fonts) == null ? void 0 : _a.ready) === void 0)\n    return;\n  await document.fonts.ready;\n  metricsSize = 0;\n  metricsCache = {};\n  clearCache();\n}\nvoid clearCacheOnLoad();\nfunction makeCacheKey(s, ctx, baseline, font) {\n  return `${s}_${font != null ? font : ctx.font}_${baseline}`;\n}\nfunction measureTextCached(s, ctx, font) {\n  const key = makeCacheKey(s, ctx, \"middle\", font);\n  let metrics = metricsCache[key];\n  if (metrics === void 0) {\n    metrics = ctx.measureText(s);\n    metricsCache[key] = metrics;\n    metricsSize++;\n  }\n  if (metricsSize > 1e4) {\n    metricsCache = {};\n    metricsSize = 0;\n  }\n  return metrics;\n}\nfunction getMiddleCenterBias(ctx, font) {\n  if (typeof font !== \"string\") {\n    font = `${font.baseFontStyle} ${font.fontFamily}`;\n  }\n  return getMiddleCenterBiasInner(ctx, font);\n}\nfunction loadMetric(ctx, baseline) {\n  const sample = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  ctx.save();\n  ctx.textBaseline = baseline;\n  const result = ctx.measureText(sample);\n  ctx.restore();\n  return result;\n}\nvar biasCache = [];\nfunction getMiddleCenterBiasInner(ctx, font) {\n  for (const x of biasCache) {\n    if (x.key === font)\n      return x.val;\n  }\n  const alphabeticMetrics = loadMetric(ctx, \"alphabetic\");\n  const middleMetrics = loadMetric(ctx, \"middle\");\n  const bias = -(middleMetrics.actualBoundingBoxDescent - alphabeticMetrics.actualBoundingBoxDescent) + alphabeticMetrics.actualBoundingBoxAscent / 2;\n  biasCache.push({\n    key: font,\n    val: bias\n  });\n  return bias;\n}\nfunction drawWithLastUpdate(args, lastUpdate, frameTime, lastPrep, draw) {\n  const { ctx, x, y, w: width, h: height, theme } = args;\n  let progress = Number.MAX_SAFE_INTEGER;\n  const animTime = 500;\n  if (lastUpdate !== void 0) {\n    progress = frameTime - lastUpdate;\n    if (progress < animTime) {\n      const fade = 1 - progress / animTime;\n      ctx.globalAlpha = fade;\n      ctx.fillStyle = theme.bgSearchResult;\n      ctx.fillRect(x, y, width, height);\n      ctx.globalAlpha = 1;\n      if (lastPrep !== void 0) {\n        lastPrep.fillStyle = theme.bgSearchResult;\n      }\n    }\n  }\n  draw();\n  return progress < animTime;\n}\nfunction prepTextCell(args, lastPrep, overrideColor) {\n  const { ctx, theme } = args;\n  const result = lastPrep != null ? lastPrep : {};\n  const newFill = overrideColor != null ? overrideColor : theme.textDark;\n  if (newFill !== result.fillStyle) {\n    ctx.fillStyle = newFill;\n    result.fillStyle = newFill;\n  }\n  return result;\n}\nfunction drawTextCellExternal(args, data, contentAlign) {\n  const { rect, ctx, theme } = args;\n  ctx.fillStyle = theme.textDark;\n  drawTextCell({\n    ctx,\n    x: rect.x,\n    y: rect.y,\n    h: rect.height,\n    w: rect.width,\n    theme\n  }, data, contentAlign);\n}\nfunction drawSingleTextLine(ctx, data, x, y, w, h, bias, theme, contentAlign) {\n  if (contentAlign === \"right\") {\n    ctx.fillText(data, x + w - (theme.cellHorizontalPadding + 0.5), y + h / 2 + bias);\n  } else if (contentAlign === \"center\") {\n    ctx.fillText(data, x + w / 2, y + h / 2 + bias);\n  } else {\n    ctx.fillText(data, x + theme.cellHorizontalPadding + 0.5, y + h / 2 + bias);\n  }\n}\nfunction drawTextCell(args, data, contentAlign, allowWrapping, hyperWrapping) {\n  const { ctx, x, y, w, h, theme } = args;\n  allowWrapping = allowWrapping != null ? allowWrapping : false;\n  if (!allowWrapping) {\n    if (data.includes(\"\\n\")) {\n      data = data.split(/\\r?\\n/)[0];\n    }\n    const max = w / 4;\n    if (data.length > max) {\n      data = data.slice(0, max);\n    }\n  }\n  const bias = getMiddleCenterBias(ctx, theme);\n  const isRtl = direction(data) === \"rtl\";\n  if (contentAlign === void 0 && isRtl) {\n    contentAlign = \"right\";\n  }\n  if (isRtl) {\n    ctx.direction = \"rtl\";\n  }\n  if (data.length > 0) {\n    let changed = false;\n    if (contentAlign === \"right\") {\n      ctx.textAlign = \"right\";\n      changed = true;\n    } else if (contentAlign !== void 0 && contentAlign !== \"left\") {\n      ctx.textAlign = contentAlign;\n      changed = true;\n    }\n    if (!allowWrapping) {\n      drawSingleTextLine(ctx, data, x, y, w, h, bias, theme, contentAlign);\n    } else {\n      const fontStyle = `${theme.fontFamily} ${theme.baseFontStyle}`;\n      const split = splitText(ctx, data, fontStyle, w - theme.cellHorizontalPadding * 2, hyperWrapping != null ? hyperWrapping : false);\n      const textMetrics = measureTextCached(\"ABCi09jgqpy\", ctx, fontStyle);\n      const emHeight = textMetrics.actualBoundingBoxAscent + textMetrics.actualBoundingBoxDescent;\n      const lineHeight = theme.lineHeight * emHeight;\n      const actualHeight = emHeight + lineHeight * (split.length - 1);\n      const mustClip = actualHeight + theme.cellVerticalPadding > h;\n      if (mustClip) {\n        ctx.save();\n        ctx.rect(x, y, w, h);\n        ctx.clip();\n      }\n      const optimalY = y + h / 2 - actualHeight / 2;\n      let drawY = Math.max(y + theme.cellVerticalPadding, optimalY);\n      for (const line of split) {\n        drawSingleTextLine(ctx, line, x, drawY, w, emHeight, bias, theme, contentAlign);\n        drawY += lineHeight;\n        if (drawY > y + h)\n          break;\n      }\n      if (mustClip) {\n        ctx.restore();\n      }\n    }\n    if (changed) {\n      ctx.textAlign = \"start\";\n    }\n    if (isRtl) {\n      ctx.direction = \"inherit\";\n    }\n  }\n}\nfunction drawNewRowCell(args, data, icon) {\n  const { ctx, x, y, w, h, hoverAmount, theme, spriteManager } = args;\n  ctx.beginPath();\n  ctx.globalAlpha = hoverAmount;\n  ctx.rect(x, y, w, h);\n  ctx.fillStyle = theme.bgHeaderHovered;\n  ctx.fill();\n  ctx.globalAlpha = 1;\n  ctx.beginPath();\n  const alwaysShowIcon = data !== \"\";\n  let textX = 0;\n  if (icon !== void 0) {\n    const padding = 8;\n    const size = h - padding;\n    const px = x + padding / 2;\n    const py = y + padding / 2;\n    spriteManager.drawSprite(icon, \"normal\", ctx, px, py, size, theme, alwaysShowIcon ? 1 : hoverAmount);\n    textX = size;\n  } else {\n    textX = 24;\n    const finalLineSize = 12;\n    const lineSize = alwaysShowIcon ? finalLineSize : hoverAmount * finalLineSize;\n    const xTranslate = alwaysShowIcon ? 0 : (1 - hoverAmount) * finalLineSize * 0.5;\n    const padPlus = theme.cellHorizontalPadding + 4;\n    if (lineSize > 0) {\n      ctx.moveTo(x + padPlus + xTranslate, y + h / 2);\n      ctx.lineTo(x + padPlus + xTranslate + lineSize, y + h / 2);\n      ctx.moveTo(x + padPlus + xTranslate + lineSize * 0.5, y + h / 2 - lineSize * 0.5);\n      ctx.lineTo(x + padPlus + xTranslate + lineSize * 0.5, y + h / 2 + lineSize * 0.5);\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = theme.bgIconHeader;\n      ctx.lineCap = \"round\";\n      ctx.stroke();\n    }\n  }\n  ctx.fillStyle = theme.textMedium;\n  ctx.fillText(data, textX + x + theme.cellHorizontalPadding + 0.5, y + h / 2 + getMiddleCenterBias(ctx, theme));\n  ctx.beginPath();\n}\nfunction drawCheckbox(ctx, theme, checked, x, y, width, height, highlighted, hoverX = -20, hoverY = -20) {\n  const centerX = x + width / 2;\n  const centerY = y + height / 2;\n  const hovered = Math.abs(hoverX - width / 2) < 10 && Math.abs(hoverY - height / 2) < 10;\n  switch (checked) {\n    case true: {\n      ctx.beginPath();\n      roundedRect(ctx, centerX - 9, centerY - 9, 18, 18, 4);\n      ctx.fillStyle = highlighted ? theme.accentColor : theme.textMedium;\n      ctx.fill();\n      ctx.beginPath();\n      ctx.moveTo(centerX - 8 + 3.65005, centerY - 8 + 7.84995);\n      ctx.lineTo(centerX - 8 + 6.37587, centerY - 8 + 10.7304);\n      ctx.lineTo(centerX - 8 + 11.9999, centerY - 8 + 4.74995);\n      ctx.strokeStyle = theme.bgCell;\n      ctx.lineJoin = \"round\";\n      ctx.lineCap = \"round\";\n      ctx.lineWidth = 1.9;\n      ctx.stroke();\n      break;\n    }\n    case BooleanEmpty:\n    case false: {\n      ctx.beginPath();\n      roundedRect(ctx, centerX - 8.5, centerY - 8.5, 17, 17, 4);\n      ctx.lineWidth = 1;\n      ctx.strokeStyle = hovered ? theme.textDark : theme.textMedium;\n      ctx.stroke();\n      break;\n    }\n    case BooleanIndeterminate: {\n      ctx.beginPath();\n      roundedRect(ctx, centerX - 8.5, centerY - 8.5, 17, 17, 4);\n      ctx.fillStyle = hovered ? theme.textMedium : theme.textLight;\n      ctx.fill();\n      ctx.beginPath();\n      ctx.moveTo(centerX - 4, centerY);\n      ctx.lineTo(centerX + 4, centerY);\n      ctx.strokeStyle = theme.bgCell;\n      ctx.lineCap = \"round\";\n      ctx.lineWidth = 1.9;\n      ctx.stroke();\n      break;\n    }\n    default:\n      assertNever(checked);\n  }\n}\nfunction prepMarkerRowCell(args, lastPrep) {\n  const { ctx, theme } = args;\n  const newFont = `9px ${theme.fontFamily}`;\n  const result = lastPrep != null ? lastPrep : {};\n  if ((result == null ? void 0 : result.font) !== newFont) {\n    ctx.font = newFont;\n    result.font = newFont;\n  }\n  ctx.textAlign = \"center\";\n  return result;\n}\nfunction deprepMarkerRowCell(args) {\n  const { ctx } = args;\n  ctx.textAlign = \"start\";\n}\nfunction drawMarkerRowCell(args, index2, checked, markerKind, drawHandle) {\n  const { ctx, x, y, w: width, h: height, hoverAmount, theme } = args;\n  const checkedboxAlpha = checked ? 1 : hoverAmount;\n  if (markerKind !== \"number\" && checkedboxAlpha > 0) {\n    ctx.globalAlpha = checkedboxAlpha;\n    const offsetAmount = 7 * (checked ? hoverAmount : 1);\n    drawCheckbox(ctx, theme, checked, drawHandle ? x + offsetAmount : x, y, drawHandle ? width - offsetAmount : width, height, true);\n    if (drawHandle) {\n      ctx.globalAlpha = hoverAmount;\n      ctx.beginPath();\n      for (const xOffset of [3, 6]) {\n        for (const yOffset of [-5, -1, 3]) {\n          ctx.rect(x + xOffset, y + height / 2 + yOffset, 2, 2);\n        }\n      }\n      ctx.fillStyle = theme.textLight;\n      ctx.fill();\n      ctx.beginPath();\n    }\n    ctx.globalAlpha = 1;\n  }\n  if (markerKind === \"number\" || markerKind === \"both\" && !checked) {\n    const text = index2.toString();\n    const start = x + width / 2;\n    if (markerKind === \"both\" && hoverAmount !== 0) {\n      ctx.globalAlpha = 1 - hoverAmount;\n    }\n    ctx.fillStyle = theme.textLight;\n    ctx.fillText(text, start, y + height / 2 + getMiddleCenterBias(ctx, `9px ${theme.fontFamily}`));\n    if (hoverAmount !== 0) {\n      ctx.globalAlpha = 1;\n    }\n  }\n}\nfunction drawProtectedCell(args) {\n  const { ctx, theme, x, y, h } = args;\n  ctx.beginPath();\n  const radius = 2.5;\n  let xStart = x + theme.cellHorizontalPadding + radius;\n  const center = y + h / 2;\n  const p = Math.cos(degreesToRadians(30)) * radius;\n  const q = Math.sin(degreesToRadians(30)) * radius;\n  for (let i = 0; i < 12; i++) {\n    ctx.moveTo(xStart, center - radius);\n    ctx.lineTo(xStart, center + radius);\n    ctx.moveTo(xStart + p, center - q);\n    ctx.lineTo(xStart - p, center + q);\n    ctx.moveTo(xStart - p, center - q);\n    ctx.lineTo(xStart + p, center + q);\n    xStart += 8;\n  }\n  ctx.lineWidth = 1.1;\n  ctx.lineCap = \"square\";\n  ctx.strokeStyle = theme.textLight;\n  ctx.stroke();\n}\nfunction roundedRect(ctx, x, y, width, height, radius) {\n  if (typeof radius === \"number\") {\n    radius = { tl: radius, tr: radius, br: radius, bl: radius };\n  }\n  ctx.moveTo(x + radius.tl, y);\n  ctx.arcTo(x + width, y, x + width, y + radius.tr, radius.tr);\n  ctx.arcTo(x + width, y + height, x + width - radius.br, y + height, radius.br);\n  ctx.arcTo(x, y + height, x, y + height - radius.bl, radius.bl);\n  ctx.arcTo(x, y, x + radius.tl, y, radius.tl);\n}\nfunction drawBoolean(args, data, canEdit) {\n  if (!canEdit && data === BooleanEmpty) {\n    return;\n  }\n  const { ctx, hoverAmount, theme, x, y, w, h, highlighted, hoverX, hoverY } = args;\n  const hoverEffect = 0.35;\n  let alpha = canEdit ? 1 - hoverEffect + hoverEffect * hoverAmount : 0.4;\n  if (data === BooleanEmpty) {\n    alpha *= hoverAmount;\n  }\n  if (alpha === 0) {\n    return;\n  }\n  ctx.globalAlpha = alpha;\n  drawCheckbox(ctx, theme, data, x, y, w, h, highlighted, hoverX, hoverY);\n  ctx.globalAlpha = 1;\n}\nvar itemMargin = 4;\nfunction drawBubbles(args, data) {\n  const { x, y, w, h, theme, ctx, highlighted } = args;\n  const bubbleHeight = 20;\n  const bubblePad = 8;\n  const bubbleMargin = itemMargin;\n  let renderX = x + theme.cellHorizontalPadding;\n  const renderBoxes = [];\n  for (const s of data) {\n    if (renderX > x + w)\n      break;\n    const textWidth = measureTextCached(s, ctx, `${theme.baseFontStyle} ${theme.fontFamily}`).width;\n    renderBoxes.push({\n      x: renderX,\n      width: textWidth\n    });\n    renderX += textWidth + bubblePad * 2 + bubbleMargin;\n  }\n  ctx.beginPath();\n  for (const rectInfo of renderBoxes) {\n    roundedRect(ctx, rectInfo.x, y + (h - bubbleHeight) / 2, rectInfo.width + bubblePad * 2, bubbleHeight, bubbleHeight / 2);\n  }\n  ctx.fillStyle = highlighted ? theme.bgBubbleSelected : theme.bgBubble;\n  ctx.fill();\n  for (const [i, rectInfo] of renderBoxes.entries()) {\n    ctx.beginPath();\n    ctx.fillStyle = theme.textBubble;\n    ctx.fillText(data[i], rectInfo.x + bubblePad, y + h / 2 + getMiddleCenterBias(ctx, theme));\n  }\n}\nvar drilldownCache = {};\nfunction getAndCacheDrilldownBorder(bgCell, border) {\n  const dpr = Math.ceil(window.devicePixelRatio);\n  const targetHeight = 24;\n  const shadowBlur = 5;\n  const middleWidth = 4;\n  const innerHeight = (targetHeight + shadowBlur * 2) * dpr;\n  const innerWidth = innerHeight + middleWidth * dpr;\n  const sideWidth = innerHeight / 2;\n  const key = `${bgCell},${border},${dpr}`;\n  if (drilldownCache[key] !== void 0) {\n    return {\n      el: drilldownCache[key],\n      height: innerHeight,\n      width: innerWidth,\n      middleWidth: middleWidth * dpr,\n      sideWidth\n    };\n  }\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  if (ctx === null)\n    return null;\n  canvas.width = innerWidth;\n  canvas.height = innerHeight;\n  ctx.scale(dpr, dpr);\n  drilldownCache[key] = canvas;\n  ctx.beginPath();\n  roundedRect(ctx, shadowBlur, shadowBlur, targetHeight + middleWidth, targetHeight, 6);\n  ctx.shadowColor = \"rgba(24, 25, 34, 0.4)\";\n  ctx.shadowBlur = 1;\n  ctx.fillStyle = bgCell;\n  ctx.fill();\n  ctx.shadowColor = \"rgba(24, 25, 34, 0.3)\";\n  ctx.shadowOffsetY = 1;\n  ctx.shadowBlur = 5;\n  ctx.fillStyle = bgCell;\n  ctx.fill();\n  ctx.shadowOffsetY = 0;\n  ctx.shadowBlur = 0;\n  ctx.shadowBlur = 0;\n  ctx.beginPath();\n  roundedRect(ctx, shadowBlur + 0.5, shadowBlur + 0.5, targetHeight + middleWidth, targetHeight, 6);\n  ctx.strokeStyle = border;\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  return { el: canvas, height: innerHeight, width: innerWidth, sideWidth, middleWidth: middleWidth * dpr };\n}\nfunction drawDrilldownCell(args, data) {\n  const { x, y, w, h, theme, ctx, imageLoader, col, row } = args;\n  const bubbleHeight = 24;\n  const bubblePad = 8;\n  const bubbleMargin = itemMargin;\n  let renderX = x + theme.cellHorizontalPadding;\n  const tileMap = getAndCacheDrilldownBorder(theme.bgCell, theme.drilldownBorder);\n  const renderBoxes = [];\n  for (const el of data) {\n    if (renderX > x + w)\n      break;\n    const textWidth = measureTextCached(el.text, ctx, `${theme.baseFontStyle} ${theme.fontFamily}`).width;\n    let imgWidth = 0;\n    if (el.img !== void 0) {\n      const img = imageLoader.loadOrGetImage(el.img, col, row);\n      if (img !== void 0) {\n        imgWidth = bubbleHeight - 8 + 4;\n      }\n    }\n    const renderWidth = textWidth + imgWidth + bubblePad * 2;\n    renderBoxes.push({\n      x: renderX,\n      width: renderWidth\n    });\n    renderX += renderWidth + bubbleMargin;\n  }\n  if (tileMap !== null) {\n    const { el, height, middleWidth, sideWidth, width } = tileMap;\n    for (const rectInfo of renderBoxes) {\n      const rx = Math.floor(rectInfo.x);\n      const rw = Math.floor(rectInfo.width);\n      ctx.imageSmoothingEnabled = false;\n      const maxSideWidth = Math.min(17, rw / 2 + 5);\n      ctx.drawImage(el, 0, 0, sideWidth, height, rx - 5, y + h / 2 - 17, maxSideWidth, 34);\n      if (rectInfo.width > 24)\n        ctx.drawImage(el, sideWidth, 0, middleWidth, height, rx + 12, y + h / 2 - 17, rw - 24, 34);\n      ctx.drawImage(el, width - sideWidth, 0, sideWidth, height, rx + rw - (maxSideWidth - 5), y + h / 2 - 17, maxSideWidth, 34);\n      ctx.imageSmoothingEnabled = true;\n    }\n  }\n  ctx.beginPath();\n  for (const [i, rectInfo] of renderBoxes.entries()) {\n    const d = data[i];\n    let drawX = rectInfo.x + bubblePad;\n    if (d.img !== void 0) {\n      const img = imageLoader.loadOrGetImage(d.img, col, row);\n      if (img !== void 0) {\n        const imgSize = bubbleHeight - 8;\n        let srcX = 0;\n        let srcY = 0;\n        let srcWidth = img.width;\n        let srcHeight = img.height;\n        if (srcWidth > srcHeight) {\n          srcX += (srcWidth - srcHeight) / 2;\n          srcWidth = srcHeight;\n        } else if (srcHeight > srcWidth) {\n          srcY += (srcHeight - srcWidth) / 2;\n          srcHeight = srcWidth;\n        }\n        ctx.beginPath();\n        roundedRect(ctx, drawX, y + h / 2 - imgSize / 2, imgSize, imgSize, 3);\n        ctx.save();\n        ctx.clip();\n        ctx.drawImage(img, srcX, srcY, srcWidth, srcHeight, drawX, y + h / 2 - imgSize / 2, imgSize, imgSize);\n        ctx.restore();\n        drawX += imgSize + 4;\n      }\n    }\n    ctx.beginPath();\n    ctx.fillStyle = theme.textBubble;\n    ctx.fillText(d.text, drawX, y + h / 2 + getMiddleCenterBias(ctx, theme));\n  }\n}\nfunction drawImage(args, data) {\n  const { x, y, h, col, row, theme, ctx, imageLoader } = args;\n  let drawX = x + theme.cellHorizontalPadding;\n  for (const i of data) {\n    if (i.length === 0)\n      continue;\n    const img = imageLoader.loadOrGetImage(i, col, row);\n    if (img !== void 0) {\n      const imgHeight = h - theme.cellVerticalPadding * 2;\n      const imgWidth = img.width * (imgHeight / img.height);\n      roundedRect(ctx, drawX, y + theme.cellVerticalPadding, imgWidth, imgHeight, 4);\n      ctx.save();\n      ctx.clip();\n      ctx.drawImage(img, drawX, y + theme.cellVerticalPadding, imgWidth, imgHeight);\n      ctx.restore();\n      drawX += imgWidth + itemMargin;\n    }\n  }\n}\nfunction roundedPoly(ctx, points, radiusAll) {\n  const asVec = function(p, pp) {\n    const vx = pp.x - p.x;\n    const vy = pp.y - p.y;\n    const vlen = Math.sqrt(vx * vx + vy * vy);\n    const vnx = vx / vlen;\n    const vny = vy / vlen;\n    return {\n      x: vx,\n      y: pp.y - p.y,\n      len: vlen,\n      nx: vnx,\n      ny: vny,\n      ang: Math.atan2(vny, vnx)\n    };\n  };\n  let radius;\n  const len = points.length;\n  let p1 = points[len - 1];\n  for (let i = 0; i < len; i++) {\n    let p2 = points[i % len];\n    const p3 = points[(i + 1) % len];\n    const v1 = asVec(p2, p1);\n    const v2 = asVec(p2, p3);\n    const sinA = v1.nx * v2.ny - v1.ny * v2.nx;\n    const sinA90 = v1.nx * v2.nx - v1.ny * -v2.ny;\n    let angle = Math.asin(sinA < -1 ? -1 : sinA > 1 ? 1 : sinA);\n    let radDirection = 1;\n    let drawDirection = false;\n    if (sinA90 < 0) {\n      if (angle < 0) {\n        angle = Math.PI + angle;\n      } else {\n        angle = Math.PI - angle;\n        radDirection = -1;\n        drawDirection = true;\n      }\n    } else {\n      if (angle > 0) {\n        radDirection = -1;\n        drawDirection = true;\n      }\n    }\n    radius = p2.radius !== void 0 ? p2.radius : radiusAll;\n    const halfAngle = angle / 2;\n    let lenOut = Math.abs(Math.cos(halfAngle) * radius / Math.sin(halfAngle));\n    let cRadius;\n    if (lenOut > Math.min(v1.len / 2, v2.len / 2)) {\n      lenOut = Math.min(v1.len / 2, v2.len / 2);\n      cRadius = Math.abs(lenOut * Math.sin(halfAngle) / Math.cos(halfAngle));\n    } else {\n      cRadius = radius;\n    }\n    let x = p2.x + v2.nx * lenOut;\n    let y = p2.y + v2.ny * lenOut;\n    x += -v2.ny * cRadius * radDirection;\n    y += v2.nx * cRadius * radDirection;\n    ctx.arc(x, y, cRadius, v1.ang + Math.PI / 2 * radDirection, v2.ang - Math.PI / 2 * radDirection, drawDirection);\n    p1 = p2;\n    p2 = p3;\n  }\n  ctx.closePath();\n}\nfunction computeBounds(col, row, width, height, groupHeaderHeight, totalHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight) {\n  const result = {\n    x: 0,\n    y: totalHeaderHeight + translateY,\n    width: 0,\n    height: 0\n  };\n  const headerHeight = totalHeaderHeight - groupHeaderHeight;\n  if (col >= freezeColumns) {\n    const dir = cellXOffset > col ? -1 : 1;\n    const freezeWidth = getStickyWidth(mappedColumns);\n    result.x += freezeWidth + translateX;\n    for (let i = cellXOffset; i !== col; i += dir) {\n      result.x += mappedColumns[dir === 1 ? i : i - 1].width * dir;\n    }\n  } else {\n    for (let i = 0; i < col; i++) {\n      result.x += mappedColumns[i].width;\n    }\n  }\n  result.width = mappedColumns[col].width + 1;\n  if (row === -1) {\n    result.y = groupHeaderHeight;\n    result.height = headerHeight;\n  } else if (row === -2) {\n    result.y = 0;\n    result.height = groupHeaderHeight;\n    let start = col;\n    const group = mappedColumns[col].group;\n    const sticky = mappedColumns[col].sticky;\n    while (start > 0 && isGroupEqual(mappedColumns[start - 1].group, group) && mappedColumns[start - 1].sticky === sticky) {\n      const c = mappedColumns[start - 1];\n      result.x -= c.width;\n      result.width += c.width;\n      start--;\n    }\n    let end = col;\n    while (end + 1 < mappedColumns.length && isGroupEqual(mappedColumns[end + 1].group, group) && mappedColumns[end + 1].sticky === sticky) {\n      const c = mappedColumns[end + 1];\n      result.width += c.width;\n      end++;\n    }\n    if (!sticky) {\n      const freezeWidth = getStickyWidth(mappedColumns);\n      const clip = result.x - freezeWidth;\n      if (clip < 0) {\n        result.x -= clip;\n        result.width += clip;\n      }\n      if (result.x + result.width > width) {\n        result.width = width - result.x;\n      }\n    }\n  } else if (lastRowSticky && row === rows - 1) {\n    const stickyHeight = typeof rowHeight === \"number\" ? rowHeight : rowHeight(row);\n    result.y = height - stickyHeight;\n    result.height = stickyHeight;\n  } else {\n    const dir = cellYOffset > row ? -1 : 1;\n    if (typeof rowHeight === \"number\") {\n      const delta = row - cellYOffset;\n      result.y += delta * rowHeight;\n    } else {\n      for (let r = cellYOffset; r !== row; r += dir) {\n        result.y += rowHeight(r) * dir;\n      }\n    }\n    result.height = (typeof rowHeight === \"number\" ? rowHeight : rowHeight(row)) + 1;\n  }\n  return result;\n}\n\n// src/data-grid/cells/boolean-cell.tsx\nfunction toggleBoolean(data) {\n  return data !== true;\n}\nvar booleanCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"false\";\n  },\n  kind: GridCellKind.Boolean,\n  needsHover: true,\n  useLabel: false,\n  needsHoverPosition: true,\n  measure: () => 50,\n  render: (a) => drawBoolean(a, a.cell.data, booleanCellIsEditable(a.cell)),\n  onDelete: (c) => ({\n    ...c,\n    data: false\n  }),\n  onClick: (cell, x, y, bounds) => {\n    if (booleanCellIsEditable(cell) && Math.abs(x - bounds.width / 2) <= 10 && Math.abs(y - bounds.height / 2) <= 10) {\n      return {\n        ...cell,\n        data: toggleBoolean(cell.data)\n      };\n    }\n    return void 0;\n  }\n};\n\n// src/data-grid/cells/bubble-cell.tsx\nimport * as React7 from \"react\";\n\n// src/data-grid-overlay-editor/private/bubbles-overlay-editor.tsx\nimport * as React6 from \"react\";\n\n// src/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx\ninit_esm2();\nvar BubblesOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"BubblesOverlayEditorStyle\",\n  class: \"b1bqsp5z\"\n});\n\n// src/data-grid-overlay-editor/private/bubbles-overlay-editor.tsx\nvar BubblesOverlayEditor = (p) => {\n  const { bubbles, onKeyDown } = p;\n  return /* @__PURE__ */ React6.createElement(BubblesOverlayEditorStyle, null, bubbles.map((b, i) => /* @__PURE__ */ React6.createElement(\"div\", {\n    key: i,\n    className: \"boe-bubble\"\n  }, b)), /* @__PURE__ */ React6.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown\n  }));\n};\nvar bubbles_overlay_editor_default = BubblesOverlayEditor;\n\n// src/data-grid/cells/bubble-cell.tsx\nvar bubbleCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  },\n  kind: GridCellKind.Bubble,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  measure: (ctx, cell, t) => cell.data.reduce((acc, data) => ctx.measureText(data).width + acc + 20, 0) + 2 * t.cellHorizontalPadding - 4,\n  render: (a) => drawBubbles(a, a.cell.data),\n  getEditor: () => (p) => {\n    const { onKeyDown, value } = p;\n    return /* @__PURE__ */ React7.createElement(bubbles_overlay_editor_default, {\n      bubbles: value.data,\n      onKeyDown\n    });\n  }\n};\n\n// src/data-grid/cells/drilldown-cell.tsx\nimport * as React9 from \"react\";\n\n// src/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx\ninit_esm2();\nimport * as React8 from \"react\";\nvar DrilldownOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"DrilldownOverlayEditorStyle\",\n  class: \"df2kt4a\"\n});\nvar DrilldownOverlayEditor = (p) => {\n  const {\n    drilldowns,\n    onKeyDown\n  } = p;\n  return /* @__PURE__ */ React8.createElement(DrilldownOverlayEditorStyle, null, drilldowns.map((d, i) => /* @__PURE__ */ React8.createElement(\"div\", {\n    key: i,\n    className: \"doe-bubble\"\n  }, d.img !== void 0 && /* @__PURE__ */ React8.createElement(\"img\", {\n    src: d.img\n  }), /* @__PURE__ */ React8.createElement(\"div\", null, d.text))), /* @__PURE__ */ React8.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown\n  }));\n};\nvar drilldown_overlay_editor_default = DrilldownOverlayEditor;\n\n// src/data-grid/cells/drilldown-cell.tsx\nvar drilldownCellRenderer = {\n  getAccessibilityString: (c) => c.data.map((d) => d.text).join(\", \"),\n  kind: GridCellKind.Drilldown,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  measure: (ctx, cell, t) => cell.data.reduce((acc, data) => ctx.measureText(data.text).width + acc + 20 + (data.img !== void 0 ? 18 : 0), 0) + 2 * t.cellHorizontalPadding - 4,\n  render: (a) => drawDrilldownCell(a, a.cell.data),\n  getEditor: () => (p) => {\n    const { onKeyDown, value } = p;\n    return /* @__PURE__ */ React9.createElement(drilldown_overlay_editor_default, {\n      drilldowns: value.data,\n      onKeyDown\n    });\n  }\n};\n\n// src/data-grid/cells/image-cell.tsx\nimport * as React11 from \"react\";\n\n// src/data-grid-overlay-editor/private/image-overlay-editor.tsx\nimport * as React10 from \"react\";\n\n// src/data-grid-overlay-editor/private/image-overlay-editor-style.tsx\ninit_esm2();\nvar ImageOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"ImageOverlayEditorStyle\",\n  class: \"i1eozt10\"\n});\n\n// src/data-grid-overlay-editor/private/image-overlay-editor.tsx\nimport { Carousel } from \"react-responsive-carousel\";\nvar ImageOverlayEditor = (p) => {\n  const { urls, canWrite, onKeyDown, onEditClick, renderImage } = p;\n  const filtered = urls.filter((u) => u !== \"\");\n  if (filtered.length === 0) {\n    return null;\n  }\n  const allowMove = filtered.length > 1;\n  return /* @__PURE__ */ React10.createElement(ImageOverlayEditorStyle, {\n    onKeyDown,\n    \"data-testid\": \"GDG-default-image-overlay-editor\"\n  }, /* @__PURE__ */ React10.createElement(Carousel, {\n    showArrows: allowMove,\n    showThumbs: false,\n    swipeable: allowMove,\n    emulateTouch: allowMove,\n    infiniteLoop: allowMove\n  }, filtered.map((url) => {\n    var _a;\n    const innerContent = (_a = renderImage == null ? void 0 : renderImage(url)) != null ? _a : /* @__PURE__ */ React10.createElement(\"img\", {\n      draggable: false,\n      src: url\n    });\n    return /* @__PURE__ */ React10.createElement(\"div\", {\n      className: \"centering-container\",\n      key: url\n    }, innerContent);\n  })), canWrite && onEditClick && /* @__PURE__ */ React10.createElement(\"button\", {\n    className: \"edit-icon\",\n    onClick: onEditClick\n  }, /* @__PURE__ */ React10.createElement(EditPencil, null)), /* @__PURE__ */ React10.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown\n  }));\n};\nvar image_overlay_editor_default = ImageOverlayEditor;\n\n// src/data-grid/cells/image-cell.tsx\nvar imageCellRenderer = {\n  getAccessibilityString: (c) => c.data.join(\", \"),\n  kind: GridCellKind.Image,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  render: (a) => {\n    var _a;\n    return drawImage(a, (_a = a.cell.displayData) != null ? _a : a.cell.data);\n  },\n  measure: (_ctx, cell) => cell.data.length * 50,\n  onDelete: (c) => ({\n    ...c,\n    data: []\n  }),\n  getEditor: () => (p) => {\n    const { onKeyDown, value, onFinishedEditing, imageEditorOverride } = p;\n    const ImageEditor = imageEditorOverride != null ? imageEditorOverride : image_overlay_editor_default;\n    return /* @__PURE__ */ React11.createElement(ImageEditor, {\n      urls: value.data,\n      canWrite: value.allowAdd,\n      onCancel: onFinishedEditing,\n      onChange: (newImage) => {\n        onFinishedEditing({\n          ...value,\n          data: [newImage]\n        });\n      },\n      onKeyDown\n    });\n  }\n};\n\n// src/data-grid/cells/loading-cell.tsx\nvar loadingCellRenderer = {\n  getAccessibilityString: () => \"\",\n  kind: GridCellKind.Loading,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  measure: () => 120,\n  render: () => void 0\n};\n\n// src/data-grid/cells/markdown-cell.tsx\nimport * as React15 from \"react\";\n\n// src/data-grid-overlay-editor/private/markdown-overlay-editor.tsx\nimport * as React14 from \"react\";\n\n// src/markdown-div/markdown-div.tsx\nimport React12 from \"react\";\nimport { marked } from \"marked\";\n\n// src/markdown-div/private/markdown-container.tsx\ninit_esm2();\nvar MarkdownContainer = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"MarkdownContainer\",\n  class: \"mlbeo71\"\n});\n\n// src/markdown-div/markdown-div.tsx\nvar MarkdownDiv = class extends React12.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.targetElement = null;\n    this.containerRefHook = (element) => {\n      this.targetElement = element;\n      this.renderMarkdownIntoDiv();\n    };\n  }\n  renderMarkdownIntoDiv() {\n    const { targetElement, props } = this;\n    if (targetElement === null)\n      return;\n    const { contents, createNode } = props;\n    const innerHTML = marked(contents);\n    const childRange = document.createRange();\n    childRange.selectNodeContents(targetElement);\n    childRange.deleteContents();\n    let newChild = createNode == null ? void 0 : createNode(innerHTML);\n    if (newChild === void 0) {\n      const childDoc = document.createElement(\"template\");\n      childDoc.innerHTML = innerHTML;\n      newChild = childDoc.content;\n    }\n    targetElement.append(newChild);\n    const tags = targetElement.getElementsByTagName(\"a\");\n    for (const tag of tags) {\n      tag.target = \"_blank\";\n      tag.rel = \"noreferrer noopener\";\n    }\n  }\n  render() {\n    this.renderMarkdownIntoDiv();\n    return /* @__PURE__ */ React12.createElement(MarkdownContainer, {\n      ref: this.containerRefHook\n    });\n  }\n};\n\n// src/growing-entry/growing-entry.tsx\nimport * as React13 from \"react\";\n\n// src/growing-entry/growing-entry-style.tsx\ninit_esm2();\nvar InputBox = /* @__PURE__ */ styled_default(\"textarea\")({\n  name: \"InputBox\",\n  class: \"ijuk0po\"\n});\nvar ShadowBox = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"ShadowBox\",\n  class: \"saq3p5l\"\n});\nvar GrowingEntryStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"GrowingEntryStyle\",\n  class: \"gf8vzix\"\n});\n\n// src/growing-entry/growing-entry.tsx\nvar GrowingEntry = (props) => {\n  const { placeholder, value, onKeyDown, highlight, altNewline, validatedSelection, ...rest } = props;\n  const { onChange, className } = rest;\n  const inputRef = React13.useRef(null);\n  const useText = value != null ? value : \"\";\n  assert(onChange !== void 0, \"GrowingEntry must be a controlled input area\");\n  React13.useEffect(() => {\n    const ta = inputRef.current;\n    if (ta === null)\n      return;\n    if (ta.disabled)\n      return;\n    const length = useText.toString().length;\n    ta.focus();\n    ta.setSelectionRange(highlight ? 0 : length, length);\n  }, []);\n  React13.useLayoutEffect(() => {\n    var _a;\n    if (validatedSelection !== void 0) {\n      const range2 = typeof validatedSelection === \"number\" ? [validatedSelection, null] : validatedSelection;\n      (_a = inputRef.current) == null ? void 0 : _a.setSelectionRange(range2[0], range2[1]);\n    }\n  }, [validatedSelection]);\n  const onKeyDownInner = React13.useCallback((e) => {\n    if (e.key === \"Enter\" && e.shiftKey && altNewline === true) {\n      return;\n    }\n    onKeyDown == null ? void 0 : onKeyDown(e);\n  }, [altNewline, onKeyDown]);\n  return /* @__PURE__ */ React13.createElement(GrowingEntryStyle, {\n    className: \"gdg-growing-entry\"\n  }, /* @__PURE__ */ React13.createElement(ShadowBox, {\n    className\n  }, useText + \"\\n\"), /* @__PURE__ */ React13.createElement(InputBox, {\n    ...rest,\n    className: (className != null ? className : \"\") + \" gdg-input\",\n    ref: inputRef,\n    onKeyDown: onKeyDownInner,\n    value: useText,\n    placeholder,\n    dir: \"auto\"\n  }));\n};\nvar growing_entry_default = GrowingEntry;\n\n// src/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx\ninit_esm2();\nvar MarkdownOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"MarkdownOverlayEditorStyle\",\n  class: \"mdwzdl1\",\n  vars: {\n    \"mdwzdl1-0\": [(p) => p.targetWidth, \"px\"]\n  }\n});\n\n// src/data-grid-overlay-editor/private/markdown-overlay-editor.tsx\nvar MarkdownOverlayEditor = (p) => {\n  const {\n    markdown,\n    onChange,\n    onKeyDown,\n    forceEditMode,\n    createNode,\n    targetRect,\n    readonly,\n    onFinish,\n    validatedSelection\n  } = p;\n  const [editMode, setEditMode] = React14.useState(markdown === \"\" || forceEditMode);\n  const onEditClick = React14.useCallback(() => {\n    setEditMode((e) => !e);\n  }, []);\n  const addLeftPad = markdown ? \"ml-6\" : \"\";\n  if (editMode) {\n    return /* @__PURE__ */ React14.createElement(MarkdownOverlayEditorStyle, {\n      targetWidth: targetRect.width\n    }, /* @__PURE__ */ React14.createElement(growing_entry_default, {\n      autoFocus: true,\n      highlight: false,\n      validatedSelection,\n      onKeyDown: (e) => {\n        if (e.key !== \"Enter\") {\n          onKeyDown(e);\n        }\n      },\n      value: markdown,\n      onChange\n    }), /* @__PURE__ */ React14.createElement(\"div\", {\n      className: `edit-icon checkmark-hover ${addLeftPad}`,\n      onClick: () => onFinish()\n    }, /* @__PURE__ */ React14.createElement(Checkmark, null)));\n  }\n  return /* @__PURE__ */ React14.createElement(MarkdownOverlayEditorStyle, {\n    targetWidth: targetRect.width\n  }, /* @__PURE__ */ React14.createElement(MarkdownDiv, {\n    contents: markdown,\n    createNode\n  }), !readonly && /* @__PURE__ */ React14.createElement(React14.Fragment, null, /* @__PURE__ */ React14.createElement(\"div\", {\n    className: \"spacer\"\n  }), /* @__PURE__ */ React14.createElement(\"div\", {\n    className: `edit-icon edit-hover ${addLeftPad}`,\n    onClick: onEditClick\n  }, /* @__PURE__ */ React14.createElement(EditPencil, null))), /* @__PURE__ */ React14.createElement(\"textarea\", {\n    className: \"md-edit-textarea gdg-input\",\n    autoFocus: true,\n    onKeyDown\n  }));\n};\n\n// src/data-grid/cells/markdown-cell.tsx\nvar markdownCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  },\n  kind: GridCellKind.Markdown,\n  needsHover: false,\n  needsHoverPosition: false,\n  renderPrep: prepTextCell,\n  measure: (ctx, cell, t) => {\n    const firstLine = cell.data.split(\"\\n\")[0];\n    return ctx.measureText(firstLine).width + 2 * t.cellHorizontalPadding;\n  },\n  render: (a) => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n  onDelete: (c) => ({\n    ...c,\n    data: \"\"\n  }),\n  getEditor: () => (p) => {\n    const {\n      onChange,\n      onKeyDown,\n      value,\n      target,\n      onFinishedEditing,\n      markdownDivCreateNode,\n      forceEditMode,\n      validatedSelection\n    } = p;\n    return /* @__PURE__ */ React15.createElement(MarkdownOverlayEditor, {\n      onFinish: onFinishedEditing,\n      targetRect: target,\n      readonly: value.readonly === true,\n      markdown: value.data,\n      validatedSelection,\n      onKeyDown,\n      onChange: (e) => onChange({\n        ...value,\n        data: e.target.value\n      }),\n      forceEditMode,\n      createNode: markdownDivCreateNode\n    });\n  }\n};\n\n// src/data-grid/cells/marker-cell.tsx\nvar markerCellRenderer = {\n  getAccessibilityString: (c) => c.row.toString(),\n  kind: InnerGridCellKind.Marker,\n  needsHover: true,\n  needsHoverPosition: false,\n  renderPrep: prepMarkerRowCell,\n  renderDeprep: deprepMarkerRowCell,\n  measure: () => 44,\n  render: (a) => drawMarkerRowCell(a, a.cell.row, a.cell.checked, a.cell.markerKind, a.cell.drawHandle),\n  onClick: (cell, x, y, bounds) => {\n    const { width, height } = bounds;\n    const centerX = cell.drawHandle ? 7 + (width - 7) / 2 : width / 2;\n    const centerY = height / 2;\n    if (Math.abs(x - centerX) <= 10 && Math.abs(y - centerY) <= 10) {\n      return {\n        ...cell,\n        checked: !cell.checked\n      };\n    }\n    return void 0;\n  }\n};\n\n// src/data-grid/cells/new-row-cell.tsx\nvar newRowCellRenderer = {\n  getAccessibilityString: () => \"\",\n  kind: InnerGridCellKind.NewRow,\n  needsHover: true,\n  needsHoverPosition: false,\n  measure: () => 200,\n  render: (a) => drawNewRowCell(a, a.cell.hint, a.cell.icon)\n};\n\n// src/data-grid/cells/number-cell.tsx\nimport * as React17 from \"react\";\nvar NumberOverlayEditor2 = React17.lazy(async () => await Promise.resolve().then(() => (init_number_overlay_editor(), number_overlay_editor_exports)));\nvar numberCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  },\n  kind: GridCellKind.Number,\n  needsHover: false,\n  needsHoverPosition: false,\n  useLabel: true,\n  renderPrep: prepTextCell,\n  render: (a) => drawTextCell(a, a.cell.displayData, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.displayData).width + 16,\n  onDelete: (c) => ({\n    ...c,\n    data: void 0\n  }),\n  getEditor: () => (p) => {\n    const { isHighlighted, onChange, onKeyDown, value, validatedSelection } = p;\n    return /* @__PURE__ */ React17.createElement(React17.Suspense, {\n      fallback: null\n    }, /* @__PURE__ */ React17.createElement(NumberOverlayEditor2, {\n      highlight: isHighlighted,\n      disabled: value.readonly === true,\n      value: value.data,\n      onKeyDown,\n      validatedSelection,\n      onChange: (x) => onChange({\n        ...value,\n        data: x.floatValue\n      })\n    }));\n  }\n};\n\n// src/data-grid/cells/protected-cell.tsx\nvar protectedCellRenderer = {\n  getAccessibilityString: () => \"\",\n  measure: () => 108,\n  kind: GridCellKind.Protected,\n  needsHover: false,\n  needsHoverPosition: false,\n  render: drawProtectedCell\n};\n\n// src/data-grid/cells/row-id-cell.tsx\nimport React18 from \"react\";\nvar rowIDCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  },\n  kind: GridCellKind.RowID,\n  needsHover: false,\n  needsHoverPosition: false,\n  renderPrep: (a, b) => prepTextCell(a, b, a.theme.textLight),\n  render: (a) => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.data).width + 16,\n  getEditor: () => (p) => {\n    const { isHighlighted, onChange, onKeyDown, value, validatedSelection } = p;\n    return /* @__PURE__ */ React18.createElement(growing_entry_default, {\n      highlight: isHighlighted,\n      autoFocus: value.readonly !== true,\n      disabled: value.readonly !== false,\n      onKeyDown,\n      value: value.data,\n      validatedSelection,\n      onChange: (e) => onChange({\n        ...value,\n        data: e.target.value\n      })\n    });\n  }\n};\n\n// src/data-grid/cells/text-cell.tsx\nimport * as React19 from \"react\";\nvar textCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  },\n  kind: GridCellKind.Text,\n  needsHover: false,\n  needsHoverPosition: false,\n  renderPrep: prepTextCell,\n  useLabel: true,\n  render: (a) => drawTextCell(a, a.cell.displayData, a.cell.contentAlign, a.cell.allowWrapping, a.hyperWrapping),\n  measure: (ctx, cell, t) => {\n    const lines = cell.displayData.split(\"\\n\").slice(0, cell.allowWrapping === true ? void 0 : 1);\n    return Math.max(...lines.map((l) => ctx.measureText(l).width + 2 * t.cellHorizontalPadding));\n  },\n  onDelete: (c) => ({\n    ...c,\n    data: \"\"\n  }),\n  getEditor: () => (p) => {\n    const { isHighlighted, onChange, onKeyDown, value, validatedSelection } = p;\n    return /* @__PURE__ */ React19.createElement(growing_entry_default, {\n      highlight: isHighlighted,\n      autoFocus: value.readonly !== true,\n      disabled: value.readonly === true,\n      onKeyDown,\n      altNewline: true,\n      value: value.data,\n      validatedSelection,\n      onChange: (e) => onChange({\n        ...value,\n        data: e.target.value\n      })\n    });\n  }\n};\n\n// src/data-grid/cells/uri-cell.tsx\nimport * as React21 from \"react\";\n\n// src/data-grid-overlay-editor/private/uri-overlay-editor.tsx\nimport * as React20 from \"react\";\n\n// src/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx\ninit_esm2();\nvar UriOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"UriOverlayEditorStyle\",\n  class: \"uf0sjo8\"\n});\n\n// src/data-grid-overlay-editor/private/uri-overlay-editor.tsx\nvar UriOverlayEditor = (p) => {\n  const { uri, onChange, onKeyDown, forceEditMode, readonly, validatedSelection } = p;\n  const [editMode, setEditMode] = React20.useState(uri === \"\" || forceEditMode);\n  const onEditClick = React20.useCallback(() => {\n    setEditMode(true);\n  }, []);\n  if (editMode) {\n    return /* @__PURE__ */ React20.createElement(growing_entry_default, {\n      validatedSelection,\n      highlight: true,\n      autoFocus: true,\n      onKeyDown,\n      value: uri,\n      onChange\n    });\n  }\n  return /* @__PURE__ */ React20.createElement(UriOverlayEditorStyle, null, /* @__PURE__ */ React20.createElement(\"a\", {\n    className: \"link-area\",\n    href: uri,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, uri), !readonly && /* @__PURE__ */ React20.createElement(\"div\", {\n    className: \"edit-icon\",\n    onClick: onEditClick\n  }, /* @__PURE__ */ React20.createElement(EditPencil, null)), /* @__PURE__ */ React20.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown\n  }));\n};\nvar uri_overlay_editor_default = UriOverlayEditor;\n\n// src/data-grid/cells/uri-cell.tsx\nvar uriCellRenderer = {\n  getAccessibilityString: (c) => {\n    var _a, _b;\n    return (_b = (_a = c.data) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  },\n  kind: GridCellKind.Uri,\n  needsHover: false,\n  needsHoverPosition: false,\n  useLabel: true,\n  renderPrep: prepTextCell,\n  render: (a) => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.data).width + 16,\n  onDelete: (c) => ({\n    ...c,\n    data: \"\"\n  }),\n  getEditor: () => (p) => {\n    const { onChange, onKeyDown, value, forceEditMode, validatedSelection } = p;\n    return /* @__PURE__ */ React21.createElement(uri_overlay_editor_default, {\n      forceEditMode,\n      uri: value.data,\n      validatedSelection,\n      readonly: value.readonly === true,\n      onKeyDown,\n      onChange: (e) => onChange({\n        ...value,\n        data: e.target.value\n      })\n    });\n  }\n};\n\n// src/data-grid/cells/index.ts\nvar asCollapsed = (x) => x;\nvar CellRenderers = {\n  [InnerGridCellKind.Marker]: asCollapsed(markerCellRenderer),\n  [InnerGridCellKind.NewRow]: asCollapsed(newRowCellRenderer),\n  [GridCellKind.Boolean]: asCollapsed(booleanCellRenderer),\n  [GridCellKind.Bubble]: asCollapsed(bubbleCellRenderer),\n  [GridCellKind.Drilldown]: asCollapsed(drilldownCellRenderer),\n  [GridCellKind.Image]: asCollapsed(imageCellRenderer),\n  [GridCellKind.Loading]: asCollapsed(loadingCellRenderer),\n  [GridCellKind.Markdown]: asCollapsed(markdownCellRenderer),\n  [GridCellKind.Number]: asCollapsed(numberCellRenderer),\n  [GridCellKind.Protected]: asCollapsed(protectedCellRenderer),\n  [GridCellKind.RowID]: asCollapsed(rowIDCellRenderer),\n  [GridCellKind.Text]: asCollapsed(textCellRenderer),\n  [GridCellKind.Uri]: asCollapsed(uriCellRenderer)\n};\n\n// src/data-grid-overlay-editor/data-grid-overlay-editor-style.tsx\ninit_esm2();\nvar DataGridOverlayEditorStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"DataGridOverlayEditorStyle\",\n  class: \"d1t1th9s\",\n  vars: {\n    \"d1t1th9s-0\": [(p) => p.targetY, \"px\"],\n    \"d1t1th9s-1\": [(p) => p.targetX - 1, \"px\"],\n    \"d1t1th9s-2\": [(p) => p.targetY - 1, \"px\"],\n    \"d1t1th9s-3\": [(p) => p.targetWidth + 2, \"px\"],\n    \"d1t1th9s-4\": [(p) => p.targetHeight + 2, \"px\"],\n    \"d1t1th9s-5\": [(p) => p.targetY + 10, \"px\"],\n    \"d1t1th9s-6\": [(p) => Math.max(0, (p.targetHeight - 28) / 2), \"px\"]\n  }\n});\n\n// src/data-grid-overlay-editor/use-stay-on-screen.ts\nimport * as React22 from \"react\";\nfunction useRefState() {\n  const [refState, setRefState] = React22.useState();\n  return [refState != null ? refState : void 0, setRefState];\n}\nfunction useStayOnScreen() {\n  const [ref, setRef] = useRefState();\n  const [xOffset, setXOffset] = React22.useState(0);\n  const [isIntersecting, setIsIntersecting] = React22.useState(true);\n  React22.useLayoutEffect(() => {\n    if (ref === void 0)\n      return;\n    if (!(\"IntersectionObserver\" in window))\n      return;\n    const observer = new IntersectionObserver((ents) => {\n      if (ents.length === 0)\n        return;\n      setIsIntersecting(ents[0].isIntersecting);\n    }, { threshold: 1 });\n    observer.observe(ref);\n    return () => observer.disconnect();\n  }, [ref]);\n  React22.useEffect(() => {\n    if (isIntersecting || ref === void 0)\n      return;\n    let rafHandle;\n    const fn = () => {\n      const { right: refRight } = ref.getBoundingClientRect();\n      setXOffset((cv) => Math.min(cv + window.innerWidth - refRight - 10, 0));\n      rafHandle = requestAnimationFrame(fn);\n    };\n    rafHandle = requestAnimationFrame(fn);\n    return () => {\n      if (rafHandle !== void 0) {\n        cancelAnimationFrame(rafHandle);\n      }\n    };\n  }, [ref, isIntersecting]);\n  const style = React22.useMemo(() => {\n    return { transform: `translateX(${xOffset}px)` };\n  }, [xOffset]);\n  return {\n    ref: setRef,\n    style\n  };\n}\n\n// src/data-grid-overlay-editor/data-grid-overlay-editor.tsx\nvar DataGridOverlayEditor = (p) => {\n  const {\n    target,\n    content,\n    onFinishEditing: onFinishEditingIn,\n    forceEditMode,\n    initialValue,\n    imageEditorOverride,\n    markdownDivCreateNode,\n    highlight,\n    className,\n    theme,\n    id,\n    cell,\n    validateCell,\n    provideEditor\n  } = p;\n  const [tempValue, setTempValueRaw] = React23.useState(forceEditMode ? content : void 0);\n  const lastValueRef = React23.useRef(tempValue != null ? tempValue : content);\n  lastValueRef.current = tempValue != null ? tempValue : content;\n  const [isValid, setIsValid] = React23.useState(() => {\n    if (validateCell === void 0)\n      return true;\n    return !(isEditableGridCell(content) && (validateCell == null ? void 0 : validateCell(cell, content, lastValueRef.current)) === false);\n  });\n  const onFinishEditing = React23.useCallback((newCell, movement) => {\n    onFinishEditingIn(isValid ? newCell : void 0, movement);\n  }, [isValid, onFinishEditingIn]);\n  const setTempValue = React23.useCallback((newVal) => {\n    if (validateCell !== void 0 && newVal !== void 0 && isEditableGridCell(newVal)) {\n      const validResult = validateCell(cell, newVal, lastValueRef.current);\n      if (validResult === false) {\n        setIsValid(false);\n      } else if (typeof validResult === \"object\") {\n        newVal = validResult;\n        setIsValid(true);\n      } else {\n        setIsValid(true);\n      }\n    }\n    setTempValueRaw(newVal);\n  }, [cell, validateCell]);\n  const finished = React23.useRef(false);\n  const customMotion = React23.useRef(void 0);\n  const onClickOutside = React23.useCallback(() => {\n    onFinishEditing(tempValue, [0, 0]);\n    finished.current = true;\n  }, [tempValue, onFinishEditing]);\n  const onCustomFinishedEditing = React23.useCallback((newValue) => {\n    var _a;\n    onFinishEditing(newValue, (_a = customMotion.current) != null ? _a : [0, 0]);\n    finished.current = true;\n  }, [onFinishEditing]);\n  const onKeyDownCustom = React23.useCallback(async (event) => {\n    let save = false;\n    if (event.key === \"Escape\") {\n      event.stopPropagation();\n      event.preventDefault();\n      customMotion.current = [0, 0];\n    } else if (event.key === \"Enter\" && !event.shiftKey) {\n      event.stopPropagation();\n      event.preventDefault();\n      customMotion.current = [0, 1];\n      save = true;\n    } else if (event.key === \"Tab\") {\n      event.stopPropagation();\n      event.preventDefault();\n      customMotion.current = [event.shiftKey ? -1 : 1, 0];\n      save = true;\n    }\n    await new Promise((r) => window.setTimeout(r, 0));\n    if (!finished.current && customMotion.current !== void 0) {\n      onFinishEditing(save ? tempValue : void 0, customMotion.current);\n      finished.current = true;\n    }\n  }, [onFinishEditing, tempValue]);\n  const onKeyDown = React23.useCallback((event) => {\n    if (event.key === \"Escape\") {\n      onFinishEditing(void 0, [0, 0]);\n      event.stopPropagation();\n      event.preventDefault();\n    } else if (event.key === \"Enter\" && !event.ctrlKey) {\n      onFinishEditing(tempValue, [0, event.shiftKey ? -1 : 1]);\n      event.stopPropagation();\n      event.preventDefault();\n    } else if (event.key === \"Tab\") {\n      onFinishEditing(tempValue, [event.shiftKey ? -1 : 1, 0]);\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }, [onFinishEditing, tempValue]);\n  const targetValue = tempValue != null ? tempValue : content;\n  const customEditor = React23.useMemo(() => {\n    return provideEditor == null ? void 0 : provideEditor(content);\n  }, [content, provideEditor]);\n  const [CellEditor, useLabel] = React23.useMemo(() => {\n    var _a;\n    if (content.kind === GridCellKind.Custom)\n      return [];\n    const renderer = CellRenderers[content.kind];\n    return [(_a = renderer.getEditor) == null ? void 0 : _a.call(renderer, content), renderer.useLabel];\n  }, [content]);\n  const { ref, style: stayOnScreenStyle } = useStayOnScreen();\n  let pad = true;\n  let editor;\n  let style = true;\n  let styleOverride;\n  if (customEditor !== void 0) {\n    pad = customEditor.disablePadding !== true;\n    style = customEditor.disableStyling !== true;\n    const isObjectEditor = isObjectEditorCallbackResult(customEditor);\n    if (isObjectEditor) {\n      styleOverride = customEditor.styleOverride;\n    }\n    const CustomEditor = isObjectEditor ? customEditor.editor : customEditor;\n    editor = /* @__PURE__ */ React23.createElement(CustomEditor, {\n      isHighlighted: highlight,\n      onChange: setTempValue,\n      value: targetValue,\n      initialValue,\n      onFinishedEditing: onCustomFinishedEditing,\n      validatedSelection: isEditableGridCell(targetValue) ? targetValue.selectionRange : void 0\n    });\n  } else if (CellEditor !== void 0) {\n    editor = /* @__PURE__ */ React23.createElement(CellEditor, {\n      forceEditMode,\n      isHighlighted: highlight,\n      onChange: setTempValue,\n      value: targetValue,\n      onFinishedEditing: (e) => onFinishEditing(e != null ? e : tempValue, [0, 0]),\n      onKeyDown,\n      target,\n      imageEditorOverride,\n      markdownDivCreateNode,\n      isValid,\n      validatedSelection: isEditableGridCell(targetValue) ? targetValue.selectionRange : void 0\n    });\n  }\n  styleOverride = { ...styleOverride, ...stayOnScreenStyle };\n  const portalElement = document.getElementById(\"portal\");\n  if (portalElement === null) {\n    console.error('Cannot open Data Grid overlay editor, because portal not found.  Please add `<div id=\"portal\" />` as the last child of your `<body>`.');\n    return null;\n  }\n  let classWrap = style ? \"gdg-style\" : \"gdg-unstyle\";\n  if (!isValid) {\n    classWrap += \" invalid\";\n  }\n  if (pad) {\n    classWrap += \" pad\";\n  }\n  return createPortal(/* @__PURE__ */ React23.createElement(ThemeContext.Provider, {\n    value: theme\n  }, /* @__PURE__ */ React23.createElement(ClickOutsideContainer, {\n    style: makeCSSStyle(theme),\n    className,\n    onClickOutside\n  }, /* @__PURE__ */ React23.createElement(DataGridOverlayEditorStyle, {\n    ref,\n    id,\n    className: classWrap,\n    style: styleOverride,\n    as: useLabel === true ? \"label\" : void 0,\n    targetX: target.x,\n    targetY: target.y,\n    targetWidth: target.width,\n    targetHeight: target.height\n  }, /* @__PURE__ */ React23.createElement(\"div\", {\n    className: \"clip-region\",\n    onKeyDown: customEditor === void 0 ? void 0 : onKeyDownCustom\n  }, editor)))), portalElement);\n};\nvar data_grid_overlay_editor_default = DataGridOverlayEditor;\n\n// src/data-grid-search/data-grid-search.tsx\nimport * as React29 from \"react\";\n\n// src/scrolling-data-grid/scrolling-data-grid.tsx\ninit_esm2();\nimport * as React28 from \"react\";\n\n// src/data-grid-dnd/data-grid-dnd.tsx\nimport clamp3 from \"lodash/clamp.js\";\nimport * as React26 from \"react\";\n\n// src/data-grid/data-grid.tsx\nimport * as React25 from \"react\";\n\n// src/common/image-window-loader.ts\nimport throttle from \"lodash/throttle.js\";\nvar rowShift = 1 << 16;\nvar imgPool = [];\nfunction packColRowToNumber(col, row) {\n  return row * rowShift + col;\n}\nfunction unpackCol(packed) {\n  return packed % rowShift;\n}\nfunction unpackRow(packed, col) {\n  return (packed - col) / rowShift;\n}\nfunction unpackNumberToColRow(packed) {\n  const col = unpackCol(packed);\n  const row = unpackRow(packed, col);\n  return [col, row];\n}\nvar ImageWindowLoader = class {\n  constructor() {\n    this.imageLoaded = () => void 0;\n    this.loadedLocations = [];\n    this.visibleWindow = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    this.freezeCols = 0;\n    this.isInWindow = (packed) => {\n      const col = unpackCol(packed);\n      const row = unpackRow(packed, col);\n      const w = this.visibleWindow;\n      if (col < this.freezeCols && row >= w.y && row <= w.y + w.height)\n        return true;\n      return col >= w.x && col <= w.x + w.width && row >= w.y && row <= w.y + w.height;\n    };\n    this.cache = {};\n    this.sendLoaded = throttle(() => {\n      this.imageLoaded(this.loadedLocations);\n      this.loadedLocations = [];\n    }, 20);\n    this.clearOutOfWindow = () => {\n      const keys = Object.keys(this.cache);\n      for (const key of keys) {\n        const obj = this.cache[key];\n        let keep = false;\n        for (let j = 0; j < obj.cells.length; j++) {\n          const packed = obj.cells[j];\n          if (this.isInWindow(packed)) {\n            keep = true;\n            break;\n          }\n        }\n        if (keep) {\n          obj.cells = obj.cells.filter(this.isInWindow);\n        } else {\n          obj.cancel();\n          delete this.cache[key];\n        }\n      }\n    };\n  }\n  setCallback(imageLoaded) {\n    this.imageLoaded = imageLoaded;\n  }\n  setWindow(newWindow, freezeCols) {\n    if (this.visibleWindow.x === newWindow.x && this.visibleWindow.y === newWindow.y && this.visibleWindow.width === newWindow.width && this.visibleWindow.height === newWindow.height && this.freezeCols === freezeCols)\n      return;\n    this.visibleWindow = newWindow;\n    this.freezeCols = freezeCols;\n    this.clearOutOfWindow();\n  }\n  loadImage(url, col, row, key) {\n    var _a;\n    let loaded = false;\n    const img = (_a = imgPool.pop()) != null ? _a : new Image();\n    let canceled = false;\n    const result = {\n      img: void 0,\n      cells: [packColRowToNumber(col, row)],\n      url,\n      cancel: () => {\n        if (canceled)\n          return;\n        canceled = true;\n        if (imgPool.length < 12) {\n          imgPool.unshift(img);\n        } else if (!loaded) {\n          img.src = \"\";\n        }\n      }\n    };\n    const loadPromise = new Promise((r) => img.addEventListener(\"load\", () => r(null)));\n    requestAnimationFrame(async () => {\n      try {\n        img.src = url;\n        await loadPromise;\n        await img.decode();\n        const toWrite = this.cache[key];\n        if (toWrite !== void 0 && !canceled) {\n          toWrite.img = img;\n          for (const packed of toWrite.cells) {\n            this.loadedLocations.push(unpackNumberToColRow(packed));\n          }\n          loaded = true;\n          this.sendLoaded();\n        }\n      } catch (e) {\n        result.cancel();\n      }\n    });\n    this.cache[key] = result;\n  }\n  loadOrGetImage(url, col, row) {\n    const key = url;\n    const current = this.cache[key];\n    if (current !== void 0) {\n      const packed = packColRowToNumber(col, row);\n      if (!current.cells.includes(packed)) {\n        current.cells.push(packed);\n      }\n      return current.img;\n    } else {\n      this.loadImage(url, col, row, key);\n    }\n    return void 0;\n  }\n};\nvar image_window_loader_default = ImageWindowLoader;\n\n// src/data-grid/sprites.ts\nvar iconHead = `<svg width=\"20\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">`;\nvar headerRowID = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}<rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/><path d=\"M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z\" fill=\"${fg}\"/></svg>`;\n};\nvar headerCode = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}<rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"4\" fill=\"${bg}\"/><path d=\"m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z\" fill=\"${fg}\"/></svg>`;\n};\nvar headerNumber = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerString = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path d=\"M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerBoolean = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n    <path\n        d=\"M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z\"\n        fill=\"${bg}\"\n    />\n    <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z\"\n        fill=\"${fg}\"\n    />\n</svg>`;\n};\nvar headerUri = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n<path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z\" fill=\"${fg}\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z\" fill=\"${fg}\"/>\n</svg>\n  `;\n};\nvar renameIcon = (props) => {\n  const bg = props.bgColor;\n  return `${iconHead}\n    <path stroke=\"${bg}\" stroke-width=\"2\" d=\"M12 3v14\"/>\n    <path stroke=\"${bg}\" stroke-width=\"2\" stroke-linecap=\"round\" d=\"M10 4h4m-4 12h4\"/>\n    <path d=\"M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z\" fill=\"${bg}\"/>\n  </svg>\n`;\n};\nvar headerAudioUri = headerUri;\nvar headerVideoUri = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerEmoji = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z\" fill=\"${fg}\"/>\n    <path d=\"M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z\" fill=\"${fg}\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z\" fill=\"${fg}\"/>\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z\" fill=\"${fg}\"/>\n    <path d=\"M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z\" fill=\"${fg}\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerImage = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path opacity=\".5\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerPhone = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path fill=\"${fg}\" d=\"M3 3h14v14H3z\"/>\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z\" fill=\"${bg}\"/>\n  </svg>`;\n};\nvar headerMarkdown = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerDate = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path d=\"M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerTime = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z\" fill=\"${fg}\"/>\n    <path d=\"M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerEmail = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerReference = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"8\" width=\"10\" height=\"8\" rx=\"2\" fill=\"${bg}\"/>\n    <rect x=\"8\" y=\"4\" width=\"10\" height=\"8\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerIfThenElse = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path fill=\"${fg}\" d=\"M4 3h12v14H4z\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z\" fill=\"${bg}\"/>\n</svg>`;\n};\nvar headerSingleValue = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerLookup = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerTextTemplate = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path d=\"M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerMath = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z\" fill=\"${fg}\"/>\n  <path d=\"M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerRollup = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerJoinStrings = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path d=\"M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerSplitString = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z\" fill=\"${fg}\"/>\n  </svg>`;\n};\nvar headerGeoDistance = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path d=\"M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar headerArray = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z\" fill=\"${fg}\"/>\n</svg>`;\n};\nvar rowOwnerOverlay = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z\" fill=\"${bg}\" stroke=\"${fg}\" stroke-width=\"2\"/>\n  </svg>`;\n};\nvar protectedColumnOverlay = (props) => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z\" fill=\"${bg}\" stroke=\"${fg}\" stroke-width=\"2\"/>\n  </svg>\n`;\n};\nvar sprites = {\n  headerRowID,\n  headerNumber,\n  headerCode,\n  headerString,\n  headerBoolean,\n  headerAudioUri,\n  headerVideoUri,\n  headerEmoji,\n  headerImage,\n  headerUri,\n  headerPhone,\n  headerMarkdown,\n  headerDate,\n  headerTime,\n  headerEmail,\n  headerReference,\n  headerIfThenElse,\n  headerSingleValue,\n  headerLookup,\n  headerTextTemplate,\n  headerMath,\n  headerRollup,\n  headerJoinStrings,\n  headerSplitString,\n  headerGeoDistance,\n  headerArray,\n  rowOwnerOverlay,\n  protectedColumnOverlay,\n  renameIcon\n};\n\n// src/data-grid/data-grid-sprites.ts\nfunction getColors(variant, theme) {\n  if (variant === \"normal\") {\n    return [theme.bgIconHeader, theme.fgIconHeader];\n  } else if (variant === \"selected\") {\n    return [\"white\", theme.accentColor];\n  } else {\n    return [theme.accentColor, theme.bgHeader];\n  }\n}\nvar SpriteManager = class {\n  constructor(headerIcons, onSettled) {\n    this.onSettled = onSettled;\n    this.spriteMap = /* @__PURE__ */ new Map();\n    this.inFlight = 0;\n    this.headerIcons = {\n      ...sprites,\n      ...headerIcons\n    };\n  }\n  drawSprite(sprite, variant, ctx, x, y, size, theme, alpha = 1) {\n    const [bgColor, fgColor] = getColors(variant, theme);\n    const rSize = size * Math.ceil(window.devicePixelRatio);\n    const key = `${bgColor}_${fgColor}_${rSize}_${sprite}`;\n    let spriteCanvas = this.spriteMap.get(key);\n    if (spriteCanvas === void 0) {\n      const spriteCb = this.headerIcons[sprite];\n      if (spriteCb === void 0)\n        return;\n      spriteCanvas = document.createElement(\"canvas\");\n      const spriteCtx = spriteCanvas.getContext(\"2d\");\n      if (spriteCtx === null)\n        return;\n      const imgSource = new Image();\n      imgSource.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(spriteCb({ fgColor, bgColor }))}`;\n      this.spriteMap.set(key, spriteCanvas);\n      const promise = imgSource.decode();\n      if (promise === void 0)\n        return;\n      this.inFlight++;\n      promise.then(() => {\n        spriteCtx.drawImage(imgSource, 0, 0, rSize, rSize);\n      }).finally(() => {\n        this.inFlight--;\n        if (this.inFlight === 0) {\n          this.onSettled();\n        }\n      });\n    } else {\n      if (alpha < 1) {\n        ctx.globalAlpha = alpha;\n      }\n      ctx.drawImage(spriteCanvas, 0, 0, rSize, rSize, x, y, size, size);\n      if (alpha < 1) {\n        ctx.globalAlpha = 1;\n      }\n    }\n  }\n};\n\n// src/data-grid/data-grid.tsx\nimport clamp2 from \"lodash/clamp.js\";\nimport makeRange from \"lodash/range.js\";\n\n// src/data-grid/data-grid-render.tsx\nimport groupBy from \"lodash/groupBy.js\";\n\n// src/data-grid/color-parser.ts\nvar cache = {};\nvar div = null;\nfunction createDiv() {\n  const d = document.createElement(\"div\");\n  d.classList.add(\"color2k-parser\");\n  d.style.opacity = \"0\";\n  d.style.pointerEvents = \"none\";\n  d.style.position = \"fixed\";\n  document.body.append(d);\n  return d;\n}\nfunction parseToRgba(color) {\n  const normalizedColor = color.toLowerCase().trim();\n  if (cache[normalizedColor] !== void 0)\n    return cache[normalizedColor];\n  div = div || createDiv();\n  div.style.color = \"#000\";\n  div.style.color = normalizedColor;\n  const control = getComputedStyle(div).color;\n  div.style.color = \"#fff\";\n  div.style.color = normalizedColor;\n  const computedColor = getComputedStyle(div).color;\n  if (computedColor !== control)\n    throw new Error(\"Could not parse color\");\n  const result = computedColor.replace(/[^\\d.,]/g, \"\").split(\",\").map(Number.parseFloat);\n  if (result.length < 4) {\n    result.push(1);\n  }\n  cache[normalizedColor] = result;\n  return result;\n}\nfunction withAlpha(color, alpha) {\n  const [r, g, b] = parseToRgba(color);\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n}\nfunction blend(color, background) {\n  if (background === void 0)\n    return color;\n  const [r, g, b, a] = parseToRgba(color);\n  if (a === 1)\n    return color;\n  const [br, bg, bb, ba] = parseToRgba(background);\n  const ao = a + ba * (1 - a);\n  const ro = (a * r + ba * br * (1 - a)) / ao;\n  const go = (a * g + ba * bg * (1 - a)) / ao;\n  const bo = (a * b + ba * bb * (1 - a)) / ao;\n  return `rgba(${ro}, ${go}, ${bo}, ${ao})`;\n}\n\n// src/data-grid/data-grid-render.tsx\nvar loadingCell = {\n  kind: GridCellKind.Loading,\n  allowOverlay: false\n};\nfunction drawCell(ctx, row, cell, col, x, y, w, h, highlighted, theme, drawCustomCell, imageLoader, spriteManager, hoverAmount, hoverInfo, hyperWrapping, frameTime, lastPrep, enqueue) {\n  let hoverX;\n  let hoverY;\n  if (hoverInfo !== void 0 && hoverInfo[0][0] === col && hoverInfo[0][1] === row) {\n    hoverX = hoverInfo[1][0];\n    hoverY = hoverInfo[1][1];\n  }\n  let result = void 0;\n  const args = {\n    ctx,\n    theme,\n    col,\n    row,\n    cell,\n    x,\n    y,\n    w,\n    h,\n    highlighted,\n    hoverAmount,\n    hoverX,\n    hoverY,\n    imageLoader,\n    spriteManager,\n    hyperWrapping\n  };\n  let forceAnim = false;\n  const needsAnim = drawWithLastUpdate(args, cell.lastUpdated, frameTime, lastPrep, () => {\n    var _a, _b;\n    const drawn = isInnerOnlyCell(cell) ? false : (drawCustomCell == null ? void 0 : drawCustomCell({\n      ctx,\n      cell,\n      theme,\n      rect: { x, y, width: w, height: h },\n      col,\n      row,\n      hoverAmount,\n      hoverX,\n      hoverY,\n      highlighted,\n      imageLoader,\n      requestAnimationFrame: () => {\n        forceAnim = true;\n      }\n    })) === true;\n    if (!drawn && cell.kind !== GridCellKind.Custom) {\n      const r = CellRenderers[cell.kind];\n      if ((lastPrep == null ? void 0 : lastPrep.renderer) !== r) {\n        (_a = lastPrep == null ? void 0 : lastPrep.deprep) == null ? void 0 : _a.call(lastPrep, args);\n        lastPrep = void 0;\n      }\n      const partialPrepResult = (_b = r.renderPrep) == null ? void 0 : _b.call(r, args, lastPrep);\n      r.render(args);\n      result = {\n        deprep: partialPrepResult == null ? void 0 : partialPrepResult.deprep,\n        fillStyle: partialPrepResult == null ? void 0 : partialPrepResult.fillStyle,\n        font: partialPrepResult == null ? void 0 : partialPrepResult.font,\n        renderer: r\n      };\n    }\n  });\n  if (needsAnim || forceAnim)\n    enqueue == null ? void 0 : enqueue([col, row]);\n  return result;\n}\nfunction blitLastFrame(ctx, canvas, last, cellXOffset, cellYOffset, translateX, translateY, lastRowSticky, width, height, rows, totalHeaderHeight, dpr, mappedColumns, effectiveCols, getRowHeight) {\n  const drawRegions = [];\n  let blittedYOnly = false;\n  ctx.imageSmoothingEnabled = false;\n  const minY = Math.min(last.cellYOffset, cellYOffset);\n  const maxY = Math.max(last.cellYOffset, cellYOffset);\n  let deltaY = 0;\n  if (typeof getRowHeight === \"number\") {\n    deltaY += (maxY - minY) * getRowHeight;\n  } else {\n    for (let i = minY; i < maxY; i++) {\n      deltaY += getRowHeight(i);\n    }\n  }\n  if (cellYOffset > last.cellYOffset) {\n    deltaY = -deltaY;\n  }\n  deltaY += translateY - last.translateY;\n  const minX = Math.min(last.cellXOffset, cellXOffset);\n  const maxX = Math.max(last.cellXOffset, cellXOffset);\n  let deltaX = 0;\n  for (let i = minX; i < maxX; i++) {\n    deltaX += mappedColumns[i].width;\n  }\n  if (cellXOffset > last.cellXOffset) {\n    deltaX = -deltaX;\n  }\n  deltaX += translateX - last.translateX;\n  let stickyWidth = getStickyWidth(effectiveCols);\n  if (stickyWidth > 0)\n    stickyWidth++;\n  if (deltaX !== 0 && deltaY !== 0) {\n    return {\n      regions: [],\n      yOnly: false\n    };\n  }\n  const stickyRowHeight = lastRowSticky ? typeof getRowHeight === \"number\" ? getRowHeight : getRowHeight(rows - 1) : 0;\n  const blitWidth = width - stickyWidth - Math.abs(deltaX);\n  const blitHeight = height - totalHeaderHeight - stickyRowHeight - Math.abs(deltaY) - 1;\n  if (blitWidth > 150 && blitHeight > 150) {\n    blittedYOnly = deltaX === 0;\n    const args = {\n      sx: 0,\n      sy: 0,\n      sw: width * dpr,\n      sh: height * dpr,\n      dx: 0,\n      dy: 0,\n      dw: width * dpr,\n      dh: height * dpr\n    };\n    if (deltaY > 0) {\n      args.sy = (totalHeaderHeight + 1) * dpr;\n      args.sh = blitHeight * dpr;\n      args.dy = (deltaY + totalHeaderHeight + 1) * dpr;\n      args.dh = blitHeight * dpr;\n      drawRegions.push({\n        x: 0,\n        y: totalHeaderHeight,\n        width,\n        height: deltaY + 1\n      });\n    } else if (deltaY < 0) {\n      args.sy = (-deltaY + totalHeaderHeight + 1) * dpr;\n      args.sh = blitHeight * dpr;\n      args.dy = (totalHeaderHeight + 1) * dpr;\n      args.dh = blitHeight * dpr;\n      drawRegions.push({\n        x: 0,\n        y: height + deltaY - stickyRowHeight,\n        width,\n        height: -deltaY + stickyRowHeight\n      });\n    }\n    if (deltaX > 0) {\n      args.sx = stickyWidth * dpr;\n      args.sw = blitWidth * dpr;\n      args.dx = (deltaX + stickyWidth) * dpr;\n      args.dw = blitWidth * dpr;\n      drawRegions.push({\n        x: stickyWidth - 1,\n        y: 0,\n        width: deltaX + 2,\n        height\n      });\n    } else if (deltaX < 0) {\n      args.sx = (stickyWidth - deltaX) * dpr;\n      args.sw = blitWidth * dpr;\n      args.dx = stickyWidth * dpr;\n      args.dw = blitWidth * dpr;\n      drawRegions.push({\n        x: width + deltaX,\n        y: 0,\n        width: -deltaX,\n        height\n      });\n    }\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(canvas, args.sx, args.sy, args.sw, args.sh, args.dx, args.dy, args.dw, args.dh);\n    ctx.scale(dpr, dpr);\n  }\n  ctx.imageSmoothingEnabled = true;\n  return {\n    regions: drawRegions,\n    yOnly: blittedYOnly\n  };\n}\nfunction blitResizedCol(last, cellXOffset, cellYOffset, translateX, translateY, width, height, totalHeaderHeight, effectiveCols, resizedIndex) {\n  const drawRegions = [];\n  if (cellXOffset !== last.cellXOffset || cellYOffset !== last.cellYOffset || translateX !== last.translateX || translateY !== last.translateY) {\n    return drawRegions;\n  }\n  walkColumns(effectiveCols, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, _drawY, clipX) => {\n    if (c.sourceIndex === resizedIndex) {\n      const x = Math.max(drawX, clipX) + 1;\n      drawRegions.push({\n        x,\n        y: 0,\n        width: width - x,\n        height\n      });\n      return true;\n    }\n  });\n  return drawRegions;\n}\nfunction drawGridLines(ctx, effectiveCols, cellYOffset, translateX, translateY, width, height, drawRegions, spans, groupHeaderHeight, totalHeaderHeight, getRowHeight, getRowThemeOverride, verticalBorder, trailingRowType, rows, theme, verticalOnly = false) {\n  var _a, _b, _c;\n  if (spans !== void 0) {\n    ctx.beginPath();\n    ctx.save();\n    ctx.rect(0, 0, width, height);\n    for (const span of spans) {\n      ctx.rect(span.x + 1, span.y + 1, span.width - 1, span.height - 1);\n    }\n    ctx.clip(\"evenodd\");\n  }\n  const hColor = (_a = theme.horizontalBorderColor) != null ? _a : theme.borderColor;\n  const vColor = theme.borderColor;\n  let minX = 0;\n  let maxX = width;\n  let minY = 0;\n  let maxY = height;\n  if (drawRegions !== void 0 && drawRegions.length > 0) {\n    minX = Number.MAX_SAFE_INTEGER;\n    minY = Number.MAX_SAFE_INTEGER;\n    maxX = Number.MIN_SAFE_INTEGER;\n    maxY = Number.MIN_SAFE_INTEGER;\n    for (const r of drawRegions) {\n      minX = Math.min(minX, r.x - 1);\n      maxX = Math.max(maxX, r.x + r.width + 1);\n      minY = Math.min(minY, r.y - 1);\n      maxY = Math.max(maxY, r.y + r.height + 1);\n    }\n  }\n  const toDraw = [];\n  ctx.beginPath();\n  ctx.moveTo(minX, totalHeaderHeight + 0.5);\n  ctx.lineTo(maxX, totalHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.bgHeader;\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  ctx.beginPath();\n  let x = 0.5;\n  for (let index2 = 0; index2 < effectiveCols.length; index2++) {\n    const c = effectiveCols[index2];\n    if (c.width === 0)\n      continue;\n    x += c.width;\n    const tx = c.sticky ? x : x + translateX;\n    if (tx >= minX && tx <= maxX - 1 && (index2 === effectiveCols.length - 1 || verticalBorder(index2 + 1))) {\n      toDraw.push({\n        x1: tx,\n        y1: Math.max(groupHeaderHeight, minY),\n        x2: tx,\n        y2: Math.min(height, maxY),\n        color: vColor\n      });\n    }\n  }\n  const stickyHeight = getRowHeight(rows - 1);\n  const stickyRowY = height - stickyHeight + 0.5;\n  const lastRowSticky = trailingRowType === \"sticky\";\n  if (lastRowSticky) {\n    toDraw.push({ x1: minX, y1: stickyRowY, x2: maxX, y2: stickyRowY, color: hColor });\n  }\n  if (verticalOnly !== true) {\n    let y = totalHeaderHeight + 0.5;\n    let row = cellYOffset;\n    let isHeader = true;\n    const target = lastRowSticky ? height - stickyHeight : height;\n    while (y + translateY <= target) {\n      const ty = isHeader ? y : y + translateY;\n      if (ty >= minY && ty <= maxY - 1 && (!lastRowSticky || row !== rows - 1 || Math.abs(ty - stickyRowY) > 1)) {\n        const rowTheme = isHeader ? void 0 : getRowThemeOverride == null ? void 0 : getRowThemeOverride(row);\n        toDraw.push({\n          x1: minX,\n          y1: ty,\n          x2: maxX,\n          y2: ty,\n          color: (_c = (_b = rowTheme == null ? void 0 : rowTheme.horizontalBorderColor) != null ? _b : rowTheme == null ? void 0 : rowTheme.borderColor) != null ? _c : hColor\n        });\n      }\n      y += getRowHeight(row);\n      isHeader = false;\n      row++;\n    }\n  }\n  const groups = groupBy(toDraw, (line) => line.color);\n  for (const g of Object.keys(groups)) {\n    ctx.strokeStyle = g;\n    for (const line of groups[g]) {\n      ctx.moveTo(line.x1, line.y1);\n      ctx.lineTo(line.x2, line.y2);\n    }\n    ctx.stroke();\n    ctx.beginPath();\n  }\n  if (spans !== void 0) {\n    ctx.restore();\n  }\n}\nfunction getActionBoundsForGroup(box, actions) {\n  const result = [];\n  let x = box.x + box.width - 26 * actions.length;\n  const y = box.y + box.height / 2 - 13;\n  const height = 26;\n  const width = 26;\n  for (let i = 0; i < actions.length; i++) {\n    result.push({\n      x,\n      y,\n      width,\n      height\n    });\n    x += 26;\n  }\n  return result;\n}\nfunction pointInRect(rect, x, y) {\n  return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n}\nfunction drawGroups(ctx, effectiveCols, width, translateX, groupHeaderHeight, hovered, theme, spriteManager, _hoverValues, verticalBorder, getGroupDetails, damage) {\n  var _a;\n  const xPad = 8;\n  const [hCol, hRow] = (_a = hovered == null ? void 0 : hovered[0]) != null ? _a : [];\n  let finalX = 0;\n  walkGroups(effectiveCols, width, translateX, groupHeaderHeight, (span, groupName, x, y, w, h) => {\n    var _a2, _b;\n    if (damage !== void 0 && !damage.some((d) => d[1] === -2 && d[0] >= span[0] && d[0] <= span[1]))\n      return;\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(x, y, w, h);\n    ctx.clip();\n    const group = getGroupDetails(groupName);\n    const groupTheme = (group == null ? void 0 : group.overrideTheme) === void 0 ? theme : { ...theme, ...group.overrideTheme };\n    const isHovered = hRow === -2 && hCol !== void 0 && hCol >= span[0] && hCol <= span[1];\n    const fillColor = isHovered ? groupTheme.bgHeaderHovered : groupTheme.bgHeader;\n    if (fillColor !== theme.bgHeader) {\n      ctx.fillStyle = fillColor;\n      ctx.fill();\n    }\n    ctx.fillStyle = (_a2 = groupTheme.textGroupHeader) != null ? _a2 : groupTheme.textHeader;\n    if (group !== void 0) {\n      let drawX = x;\n      if (group.icon !== void 0) {\n        spriteManager.drawSprite(group.icon, \"normal\", ctx, drawX + xPad, (groupHeaderHeight - 20) / 2, 20, groupTheme);\n        drawX += 26;\n      }\n      ctx.fillText(group.name, drawX + xPad, groupHeaderHeight / 2 + getMiddleCenterBias(ctx, `${theme.headerFontStyle} ${theme.fontFamily}`));\n      if (group.actions !== void 0 && isHovered) {\n        const actionBoxes = getActionBoundsForGroup({ x, y, width: w, height: h }, group.actions);\n        ctx.beginPath();\n        const fadeStartX = actionBoxes[0].x - 10;\n        const fadeWidth = x + w - fadeStartX;\n        ctx.rect(fadeStartX, 0, fadeWidth, groupHeaderHeight);\n        const grad = ctx.createLinearGradient(fadeStartX, 0, fadeStartX + fadeWidth, 0);\n        const trans = withAlpha(fillColor, 0);\n        grad.addColorStop(0, trans);\n        grad.addColorStop(10 / fadeWidth, fillColor);\n        grad.addColorStop(1, fillColor);\n        ctx.fillStyle = grad;\n        ctx.fill();\n        ctx.globalAlpha = 0.6;\n        const [mouseX, mouseY] = (_b = hovered == null ? void 0 : hovered[1]) != null ? _b : [-1, -1];\n        for (let i = 0; i < group.actions.length; i++) {\n          const action = group.actions[i];\n          const box = actionBoxes[i];\n          const actionHovered = pointInRect(box, mouseX + x, mouseY);\n          if (actionHovered) {\n            ctx.globalAlpha = 1;\n          }\n          spriteManager.drawSprite(action.icon, \"normal\", ctx, box.x + box.width / 2 - 10, box.y + box.height / 2 - 10, 20, groupTheme);\n          if (actionHovered) {\n            ctx.globalAlpha = 0.6;\n          }\n        }\n        ctx.globalAlpha = 1;\n      }\n    }\n    if (verticalBorder(span[0])) {\n      ctx.beginPath();\n      ctx.moveTo(x + 0.5, 0);\n      ctx.lineTo(x + 0.5, groupHeaderHeight);\n      ctx.strokeStyle = theme.borderColor;\n      ctx.lineWidth = 1;\n      ctx.stroke();\n    }\n    ctx.restore();\n    finalX = x + w;\n  });\n  ctx.beginPath();\n  ctx.moveTo(finalX + 0.5, 0);\n  ctx.lineTo(finalX + 0.5, groupHeaderHeight);\n  ctx.moveTo(0, groupHeaderHeight + 0.5);\n  ctx.lineTo(width, groupHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.borderColor;\n  ctx.lineWidth = 1;\n  ctx.stroke();\n}\nvar menuButtonSize = 30;\nfunction getHeaderMenuBounds(x, y, width, height) {\n  return {\n    x: x + width - menuButtonSize,\n    y: Math.max(y, y + height / 2 - menuButtonSize / 2),\n    width: menuButtonSize,\n    height: Math.min(menuButtonSize, height)\n  };\n}\nfunction drawHeader(ctx, x, y, width, height, c, selected, theme, isHovered, hasSelectedCell, hoverAmount, spriteManager, drawHeaderCallback, touchMode) {\n  const isCheckboxHeader = c.title.startsWith(headerCellCheckboxPrefix);\n  const menuBounds = getHeaderMenuBounds(x, y, width, height);\n  if (drawHeaderCallback !== void 0) {\n    let passCol = c;\n    if (isCheckboxHeader) {\n      passCol = {\n        ...c,\n        title: \"\"\n      };\n    }\n    if (drawHeaderCallback({\n      ctx,\n      theme,\n      rect: { x, y, width, height },\n      column: passCol,\n      columnIndex: passCol.sourceIndex,\n      isSelected: selected,\n      hoverAmount,\n      isHovered,\n      hasSelectedCell,\n      spriteManager,\n      menuBounds\n    })) {\n      return;\n    }\n  }\n  if (isCheckboxHeader) {\n    let checked = void 0;\n    if (c.title === headerCellCheckedMarker)\n      checked = true;\n    if (c.title === headerCellUnheckedMarker)\n      checked = false;\n    if (checked !== true) {\n      ctx.globalAlpha = hoverAmount;\n    }\n    drawCheckbox(ctx, theme, checked, x, y, width, height, false, void 0, void 0);\n    if (checked !== true) {\n      ctx.globalAlpha = 1;\n    }\n    return;\n  }\n  const xPad = 8;\n  const fillStyle = selected ? theme.textHeaderSelected : theme.textHeader;\n  const shouldDrawMenu = c.hasMenu === true && (isHovered || touchMode && selected);\n  let drawX = x + xPad;\n  if (c.icon !== void 0) {\n    let variant = selected ? \"selected\" : \"normal\";\n    if (c.style === \"highlight\") {\n      variant = selected ? \"selected\" : \"special\";\n    }\n    spriteManager.drawSprite(c.icon, variant, ctx, drawX, y + (height - 20) / 2, 20, theme);\n    if (c.overlayIcon !== void 0) {\n      spriteManager.drawSprite(c.overlayIcon, selected ? \"selected\" : \"special\", ctx, drawX + 9, y + ((height - 18) / 2 + 6), 18, theme);\n    }\n    drawX += 26;\n  }\n  if (shouldDrawMenu && c.hasMenu === true && width > 35) {\n    const fadeWidth = 35;\n    const fadeStart = width - fadeWidth;\n    const fadeEnd = width - fadeWidth * 0.7;\n    const fadeStartPercent = fadeStart / width;\n    const fadeEndPercent = fadeEnd / width;\n    const grad = ctx.createLinearGradient(x, 0, x + width, 0);\n    const trans = withAlpha(fillStyle, 0);\n    grad.addColorStop(0, fillStyle);\n    grad.addColorStop(fadeStartPercent, fillStyle);\n    grad.addColorStop(fadeEndPercent, trans);\n    grad.addColorStop(1, trans);\n    ctx.fillStyle = grad;\n  } else {\n    ctx.fillStyle = fillStyle;\n  }\n  ctx.fillText(c.title, drawX, y + height / 2 + getMiddleCenterBias(ctx, `${theme.headerFontStyle} ${theme.fontFamily}`));\n  if (shouldDrawMenu && c.hasMenu === true) {\n    ctx.beginPath();\n    const triangleX = menuBounds.x + menuBounds.width / 2 - 5.5;\n    const triangleY = menuBounds.y + menuBounds.height / 2 - 3;\n    roundedPoly(ctx, [\n      {\n        x: triangleX,\n        y: triangleY\n      },\n      {\n        x: triangleX + 11,\n        y: triangleY\n      },\n      {\n        x: triangleX + 5.5,\n        y: triangleY + 6\n      }\n    ], 1);\n    ctx.fillStyle = fillStyle;\n    ctx.fill();\n  }\n}\nfunction drawGridHeaders(ctx, effectiveCols, enableGroups, hovered, width, translateX, headerHeight, groupHeaderHeight, dragAndDropState, isResizing, selection, outerTheme, spriteManager, hoverValues, verticalBorder, getGroupDetails, damage, drawHeaderCallback, touchMode) {\n  var _a;\n  const totalHeaderHeight = headerHeight + groupHeaderHeight;\n  if (totalHeaderHeight <= 0)\n    return;\n  ctx.fillStyle = outerTheme.bgHeader;\n  ctx.fillRect(0, 0, width, totalHeaderHeight);\n  const [hCol, hRow] = (_a = hovered == null ? void 0 : hovered[0]) != null ? _a : [];\n  const font = `${outerTheme.headerFontStyle} ${outerTheme.fontFamily}`;\n  ctx.font = font;\n  walkColumns(effectiveCols, 0, translateX, 0, totalHeaderHeight, (c, x, _y, clipX) => {\n    var _a2, _b, _c;\n    if (damage !== void 0 && !damage.some((d) => d[1] === -1 && d[0] === c.sourceIndex))\n      return;\n    const diff = Math.max(0, clipX - x);\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(x + diff, groupHeaderHeight, c.width - diff, headerHeight);\n    ctx.clip();\n    const groupTheme = getGroupDetails((_a2 = c.group) != null ? _a2 : \"\").overrideTheme;\n    const theme = c.themeOverride === void 0 && groupTheme === void 0 ? outerTheme : { ...outerTheme, ...groupTheme, ...c.themeOverride };\n    if (theme.bgHeader !== outerTheme.bgHeader) {\n      ctx.fillStyle = theme.bgHeader;\n      ctx.fill();\n    }\n    const f = `${theme.headerFontStyle} ${theme.fontFamily}`;\n    if (font !== f) {\n      ctx.font = f;\n    }\n    const selected = selection.columns.hasIndex(c.sourceIndex);\n    const noHover = dragAndDropState !== void 0 || isResizing;\n    const hoveredBoolean = !noHover && hRow === -1 && hCol === c.sourceIndex;\n    const hover = noHover ? 0 : (_c = (_b = hoverValues.find((s) => s.item[0] === c.sourceIndex && s.item[1] === -1)) == null ? void 0 : _b.hoverAmount) != null ? _c : 0;\n    const hasSelectedCell = (selection == null ? void 0 : selection.current) !== void 0 && selection.current.cell[0] === c.sourceIndex;\n    const bgFillStyle = selected ? theme.accentColor : hasSelectedCell ? theme.bgHeaderHasFocus : theme.bgHeader;\n    const y = enableGroups ? groupHeaderHeight : 0;\n    const xOffset = c.sourceIndex === 0 ? 0 : 1;\n    if (selected) {\n      ctx.fillStyle = bgFillStyle;\n      ctx.fillRect(x + xOffset, y, c.width - xOffset, headerHeight);\n    } else if (hasSelectedCell || hover > 0) {\n      ctx.beginPath();\n      ctx.rect(x + xOffset, y, c.width - xOffset, headerHeight);\n      if (hasSelectedCell) {\n        ctx.fillStyle = theme.bgHeaderHasFocus;\n        ctx.fill();\n      }\n      if (hover > 0) {\n        ctx.globalAlpha = hover;\n        ctx.fillStyle = theme.bgHeaderHovered;\n        ctx.fill();\n        ctx.globalAlpha = 1;\n      }\n    }\n    drawHeader(ctx, x, y, c.width, headerHeight, c, selected, theme, hoveredBoolean, hasSelectedCell, hover, spriteManager, drawHeaderCallback, touchMode);\n    ctx.restore();\n  });\n  if (enableGroups) {\n    drawGroups(ctx, effectiveCols, width, translateX, groupHeaderHeight, hovered, outerTheme, spriteManager, hoverValues, verticalBorder, getGroupDetails, damage);\n  }\n}\nfunction intersectRect(x1, y1, w1, h1, x2, y2, w2, h2) {\n  return x1 <= x2 + w2 && x2 <= x1 + w1 && y1 <= y2 + h2 && y2 <= y1 + h1;\n}\nfunction clipDamage(ctx, effectiveColumns, width, height, groupHeaderHeight, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, trailingRowType, damage, includeCells) {\n  if (damage === void 0 || damage.length === 0)\n    return;\n  const stickyRowHeight = trailingRowType === \"sticky\" ? getRowHeight(rows - 1) : 0;\n  ctx.beginPath();\n  walkGroups(effectiveColumns, width, translateX, groupHeaderHeight, (span, _group, x, y, w, h) => {\n    for (let i = 0; i < damage.length; i++) {\n      const d = damage[i];\n      if (d[1] === -2 && d[0] >= span[0] && d[0] <= span[1]) {\n        ctx.rect(x, y, w, h);\n        break;\n      }\n    }\n  });\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, colDrawY, clipX, startRow) => {\n    const diff = Math.max(0, clipX - drawX);\n    const finalX = drawX + diff + 1;\n    const finalWidth = c.width - diff - 1;\n    for (let i = 0; i < damage.length; i++) {\n      const d = damage[i];\n      if (d[0] === c.sourceIndex && (d[1] === -1 || d[1] === void 0)) {\n        ctx.rect(finalX, groupHeaderHeight, finalWidth, totalHeaderHeight - groupHeaderHeight);\n        break;\n      }\n    }\n    if (!includeCells)\n      return;\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, trailingRowType, (drawY, row, rh, isSticky) => {\n      let isDamaged = false;\n      for (let i = 0; i < damage.length; i++) {\n        const d = damage[i];\n        if (d[0] === c.sourceIndex && d[1] === row) {\n          isDamaged = true;\n          break;\n        }\n      }\n      if (isDamaged) {\n        const top = drawY + 1;\n        const bottom = isSticky ? top + rh - 1 : Math.min(top + rh - 1, height - stickyRowHeight);\n        const h = bottom - top;\n        if (h > 0) {\n          ctx.rect(finalX, top, finalWidth, h);\n        }\n      }\n    });\n  });\n  ctx.clip();\n}\nfunction getSpanBounds(span, cellX, cellY, cellW, cellH, column, allColumns) {\n  var _a, _b;\n  const [startCol, endCol] = span;\n  let frozenRect;\n  let contentRect;\n  const firstNonSticky = (_b = (_a = allColumns.find((x) => !x.sticky)) == null ? void 0 : _a.sourceIndex) != null ? _b : 0;\n  if (endCol > firstNonSticky) {\n    const renderFromCol = Math.max(startCol, firstNonSticky);\n    let tempX = cellX;\n    let tempW = cellW;\n    for (let x = column.sourceIndex - 1; x >= renderFromCol; x--) {\n      tempX -= allColumns[x].width;\n      tempW += allColumns[x].width;\n    }\n    for (let x = column.sourceIndex + 1; x <= endCol; x++) {\n      tempW += allColumns[x].width;\n    }\n    contentRect = {\n      x: tempX,\n      y: cellY,\n      width: tempW,\n      height: cellH\n    };\n  }\n  if (firstNonSticky > startCol) {\n    const renderToCol = Math.min(endCol, firstNonSticky - 1);\n    let tempX = cellX;\n    let tempW = cellW;\n    for (let x = column.sourceIndex - 1; x >= startCol; x--) {\n      tempX -= allColumns[x].width;\n      tempW += allColumns[x].width;\n    }\n    for (let x = column.sourceIndex + 1; x <= renderToCol; x++) {\n      tempW += allColumns[x].width;\n    }\n    frozenRect = {\n      x: tempX,\n      y: cellY,\n      width: tempW,\n      height: cellH\n    };\n  }\n  return [frozenRect, contentRect];\n}\nfunction drawCells(ctx, effectiveColumns, allColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getCellContent, getGroupDetails, getRowThemeOverride, disabledRows, isFocused, trailingRowType, drawRegions, damage, selection, prelightCells, highlightRegions, drawCustomCell, imageLoader, spriteManager, hoverValues, hoverInfo, hyperWrapping, outerTheme, enqueue) {\n  var _a;\n  let toDraw = (_a = damage == null ? void 0 : damage.length) != null ? _a : Number.MAX_SAFE_INTEGER;\n  const frameTime = performance.now();\n  let font = `${outerTheme.baseFontStyle} ${outerTheme.fontFamily}`;\n  ctx.font = font;\n  let result;\n  const handledSpans = /* @__PURE__ */ new Set();\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, colDrawStartY, clipX, startRow) => {\n    var _a2;\n    const diff = Math.max(0, clipX - drawX);\n    const colDrawX = drawX + diff;\n    const colDrawY = totalHeaderHeight + 1;\n    const colWidth = c.width - diff;\n    const colHeight = height - totalHeaderHeight - 1;\n    if (drawRegions.length > 0) {\n      let found = false;\n      for (let i = 0; i < drawRegions.length; i++) {\n        const dr = drawRegions[i];\n        if (intersectRect(colDrawX, colDrawY, colWidth, colHeight, dr.x, dr.y, dr.width, dr.height)) {\n          found = true;\n          break;\n        }\n      }\n      if (!found)\n        return;\n    }\n    const reclip = () => {\n      ctx.save();\n      ctx.beginPath();\n      ctx.rect(colDrawX, colDrawY, colWidth, colHeight);\n      ctx.clip();\n    };\n    const colSelected = selection.columns.hasIndex(c.sourceIndex);\n    const groupTheme = getGroupDetails((_a2 = c.group) != null ? _a2 : \"\").overrideTheme;\n    const colTheme = c.themeOverride === void 0 && groupTheme === void 0 ? outerTheme : { ...outerTheme, ...groupTheme, ...c.themeOverride };\n    const colFont = `${colTheme.baseFontStyle} ${colTheme.fontFamily}`;\n    if (colFont !== font) {\n      font = colFont;\n      ctx.font = colFont;\n    }\n    reclip();\n    let prepResult = void 0;\n    walkRowsInCol(startRow, colDrawStartY, height, rows, getRowHeight, trailingRowType, (drawY, row, rh, isSticky, isTrailingRow) => {\n      var _a3, _b, _c, _d;\n      if (damage !== void 0) {\n        let found = false;\n        for (let i = 0; i < damage.length; i++) {\n          const d = damage[i];\n          if (d[0] === c.sourceIndex && d[1] === row) {\n            found = true;\n            break;\n          }\n        }\n        if (!found)\n          return;\n      }\n      if (drawRegions.length > 0) {\n        let found = false;\n        for (let i = 0; i < drawRegions.length; i++) {\n          const dr = drawRegions[i];\n          if (intersectRect(drawX, drawY, c.width, rh, dr.x, dr.y, dr.width, dr.height)) {\n            found = true;\n            break;\n          }\n        }\n        if (!found)\n          return;\n      }\n      const rowSelected = selection.rows.hasIndex(row);\n      const rowDisabled = disabledRows.hasIndex(row);\n      const cell = row < rows ? getCellContent([c.sourceIndex, row]) : loadingCell;\n      let cellX = drawX;\n      let cellWidth = c.width;\n      let drawingSpan = false;\n      let skipContents = false;\n      if (cell.span !== void 0) {\n        const [startCol, endCol] = cell.span;\n        const spanKey = `${row},${startCol},${endCol},${c.sticky}`;\n        if (!handledSpans.has(spanKey)) {\n          const areas = getSpanBounds(cell.span, drawX, drawY, c.width, rh, c, allColumns);\n          const area = c.sticky ? areas[0] : areas[1];\n          if (!c.sticky && areas[0] !== void 0) {\n            skipContents = true;\n          }\n          if (area !== void 0) {\n            cellX = area.x;\n            cellWidth = area.width;\n            handledSpans.add(spanKey);\n            ctx.restore();\n            prepResult = void 0;\n            ctx.save();\n            ctx.beginPath();\n            const d = Math.max(0, clipX - area.x);\n            ctx.rect(area.x + d, drawY, area.width - d, rh);\n            if (result === void 0) {\n              result = [];\n            }\n            result.push({\n              x: area.x + d,\n              y: drawY,\n              width: area.width - d,\n              height: rh\n            });\n            ctx.clip();\n            drawingSpan = true;\n          }\n        } else {\n          toDraw--;\n          return;\n        }\n      }\n      const rowTheme = getRowThemeOverride == null ? void 0 : getRowThemeOverride(row);\n      const trailingTheme = isTrailingRow && ((_a3 = c.trailingRowOptions) == null ? void 0 : _a3.themeOverride) !== void 0 ? (_b = c.trailingRowOptions) == null ? void 0 : _b.themeOverride : void 0;\n      const theme = cell.themeOverride === void 0 && rowTheme === void 0 && trailingTheme === void 0 ? colTheme : { ...colTheme, ...rowTheme, ...trailingTheme, ...cell.themeOverride };\n      ctx.beginPath();\n      const cellIndex = [c.sourceIndex, row];\n      const isSelected = cellIsSelected(cellIndex, cell, selection);\n      let accentCount = cellIsInRange(cellIndex, cell, selection);\n      const spanIsHighlighted = cell.span !== void 0 && selection.columns.some((index2) => cell.span !== void 0 && index2 >= cell.span[0] && index2 <= cell.span[1]);\n      if (isSelected && !isFocused) {\n        accentCount = 0;\n      } else if (isSelected) {\n        accentCount = Math.max(accentCount, 1);\n      }\n      if (spanIsHighlighted) {\n        accentCount++;\n      }\n      if (!isSelected) {\n        if (rowSelected)\n          accentCount++;\n        if (colSelected && !isSticky)\n          accentCount++;\n      }\n      const bgCell = cell.kind === GridCellKind.Protected ? theme.bgCellMedium : theme.bgCell;\n      let fill;\n      if (isSticky || bgCell !== outerTheme.bgCell) {\n        fill = blend(bgCell, fill);\n      }\n      if (accentCount > 0 || rowDisabled) {\n        if (rowDisabled) {\n          fill = blend(theme.bgHeader, fill);\n        }\n        for (let i = 0; i < accentCount; i++) {\n          fill = blend(theme.accentLight, fill);\n        }\n      } else {\n        if ((prelightCells == null ? void 0 : prelightCells.some((pre) => pre[0] === c.sourceIndex && pre[1] === row)) === true) {\n          fill = blend(theme.bgSearchResult, fill);\n        }\n      }\n      if (highlightRegions !== void 0) {\n        for (const region of highlightRegions) {\n          const r = region.range;\n          if (r.x <= c.sourceIndex && c.sourceIndex < r.x + r.width && r.y <= row && row < r.y + r.height) {\n            fill = blend(region.color, fill);\n          }\n        }\n      }\n      if (fill !== void 0) {\n        ctx.fillStyle = fill;\n        if (prepResult !== void 0) {\n          prepResult.fillStyle = fill;\n        }\n        ctx.fillRect(cellX, drawY, cellWidth, rh);\n      }\n      if (cell.style === \"faded\") {\n        ctx.globalAlpha = 0.6;\n      }\n      const hoverValue = hoverValues.find((hv) => hv.item[0] === c.sourceIndex && hv.item[1] === row);\n      if (cellWidth > 10 && !skipContents) {\n        const cellFont = `${theme.baseFontStyle} ${theme.fontFamily}`;\n        if (cellFont !== font) {\n          ctx.font = cellFont;\n          font = cellFont;\n        }\n        prepResult = drawCell(ctx, row, cell, c.sourceIndex, cellX, drawY, cellWidth, rh, accentCount > 0, theme, drawCustomCell, imageLoader, spriteManager, (_c = hoverValue == null ? void 0 : hoverValue.hoverAmount) != null ? _c : 0, hoverInfo, hyperWrapping, frameTime, prepResult, enqueue);\n      }\n      if (cell.style === \"faded\") {\n        ctx.globalAlpha = 1;\n      }\n      toDraw--;\n      if (drawingSpan) {\n        ctx.restore();\n        (_d = prepResult == null ? void 0 : prepResult.deprep) == null ? void 0 : _d.call(prepResult, { ctx });\n        prepResult = void 0;\n        reclip();\n        font = colFont;\n        ctx.font = colFont;\n      }\n      return toDraw <= 0;\n    });\n    ctx.restore();\n    return toDraw <= 0;\n  });\n  return result;\n}\nfunction drawBlanks(ctx, effectiveColumns, allColumns, width, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getRowTheme, selectedRows, disabledRows, trailingRowType, drawRegions, damage, theme) {\n  if (damage !== void 0 || effectiveColumns[effectiveColumns.length - 1] !== allColumns[effectiveColumns.length - 1])\n    return;\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, colDrawY, clipX, startRow) => {\n    if (c !== effectiveColumns[effectiveColumns.length - 1])\n      return;\n    drawX += c.width;\n    const x = Math.max(drawX, clipX);\n    if (x > width)\n      return;\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(x, totalHeaderHeight + 1, 1e4, height - totalHeaderHeight - 1);\n    ctx.clip();\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, trailingRowType, (drawY, row, rh, isSticky) => {\n      if (!isSticky && drawRegions.length > 0 && !drawRegions.some((dr) => intersectRect(drawX, drawY, 1e4, rh, dr.x, dr.y, dr.width, dr.height))) {\n        return;\n      }\n      const rowSelected = selectedRows.hasIndex(row);\n      const rowDisabled = disabledRows.hasIndex(row);\n      ctx.beginPath();\n      const rowTheme = getRowTheme == null ? void 0 : getRowTheme(row);\n      const blankTheme = rowTheme === void 0 ? theme : { ...theme, ...rowTheme };\n      if (blankTheme.bgCell !== theme.bgCell) {\n        ctx.fillStyle = blankTheme.bgCell;\n        ctx.fillRect(drawX, drawY, 1e4, rh);\n      }\n      if (rowDisabled) {\n        ctx.fillStyle = blankTheme.bgHeader;\n        ctx.fillRect(drawX, drawY, 1e4, rh);\n      }\n      if (rowSelected) {\n        ctx.fillStyle = blankTheme.accentLight;\n        ctx.fillRect(drawX, drawY, 1e4, rh);\n      }\n    });\n    ctx.restore();\n  });\n}\nfunction overdrawStickyBoundaries(ctx, effectiveCols, width, height, totalHeaderHeight, lastRowSticky, rows, verticalBorder, getRowHeight, theme) {\n  let drawFreezeBorder = false;\n  for (const c of effectiveCols) {\n    if (c.sticky)\n      continue;\n    drawFreezeBorder = verticalBorder(c.sourceIndex);\n    break;\n  }\n  const drawX = drawFreezeBorder ? getStickyWidth(effectiveCols) : 0;\n  ctx.beginPath();\n  ctx.moveTo(0, totalHeaderHeight + 0.5);\n  ctx.lineTo(width, totalHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.bgHeader;\n  ctx.stroke();\n  ctx.beginPath();\n  let doCell = false;\n  if (drawX !== 0) {\n    ctx.moveTo(drawX + 0.5, 0);\n    ctx.lineTo(drawX + 0.5, height);\n    doCell = true;\n  }\n  if (lastRowSticky) {\n    const h = getRowHeight(rows - 1);\n    ctx.moveTo(0, height - h + 0.5);\n    ctx.lineTo(width, height - h + 0.5);\n    doCell = true;\n  }\n  if (doCell) {\n    ctx.strokeStyle = theme.bgCell;\n    ctx.stroke();\n  }\n  ctx.moveTo(0, totalHeaderHeight + 0.5);\n  ctx.lineTo(width, totalHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.borderColor;\n  ctx.stroke();\n}\nfunction drawHighlightRings(ctx, width, height, cellXOffset, cellYOffset, translateX, translateY, mappedColumns, freezeColumns, headerHeight, groupHeaderHeight, rowHeight, lastRowSticky, rows, allHighlightRegions) {\n  const highlightRegions = allHighlightRegions == null ? void 0 : allHighlightRegions.filter((x) => x.style !== \"no-outline\");\n  if (highlightRegions === void 0 || highlightRegions.length === 0)\n    return void 0;\n  const drawRects = highlightRegions.map((h) => {\n    var _a, _b, _c, _d, _e;\n    const r = h.range;\n    const topLeftBounds = computeBounds(r.x, r.y, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n    if (r.width === 1 && r.height === 1) {\n      if (r.x < freezeColumns) {\n        return [{ color: h.color, style: (_a = h.style) != null ? _a : \"dashed\", rect: topLeftBounds }, void 0];\n      }\n      return [void 0, { color: h.color, style: (_b = h.style) != null ? _b : \"dashed\", rect: topLeftBounds }];\n    }\n    const bottomRightBounds = computeBounds(r.x + r.width - 1, r.y + r.height - 1, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n    if (r.x < freezeColumns && r.x + r.width >= freezeColumns) {\n      const freezeSectionRightBounds = computeBounds(freezeColumns - 1, r.y + r.height - 1, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n      const unfreezeSectionleftBounds = computeBounds(freezeColumns, r.y + r.height - 1, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n      return [\n        {\n          color: h.color,\n          style: (_c = h.style) != null ? _c : \"dashed\",\n          rect: {\n            x: topLeftBounds.x,\n            y: topLeftBounds.y,\n            width: freezeSectionRightBounds.x + freezeSectionRightBounds.width - topLeftBounds.x,\n            height: freezeSectionRightBounds.y + freezeSectionRightBounds.height - topLeftBounds.y\n          }\n        },\n        {\n          color: h.color,\n          style: (_d = h.style) != null ? _d : \"dashed\",\n          rect: {\n            x: unfreezeSectionleftBounds.x,\n            y: unfreezeSectionleftBounds.y,\n            width: bottomRightBounds.x + bottomRightBounds.width - unfreezeSectionleftBounds.x,\n            height: bottomRightBounds.y + bottomRightBounds.height - unfreezeSectionleftBounds.y\n          }\n        }\n      ];\n    } else {\n      return [\n        void 0,\n        {\n          color: h.color,\n          style: (_e = h.style) != null ? _e : \"dashed\",\n          rect: {\n            x: topLeftBounds.x,\n            y: topLeftBounds.y,\n            width: bottomRightBounds.x + bottomRightBounds.width - topLeftBounds.x,\n            height: bottomRightBounds.y + bottomRightBounds.height - topLeftBounds.y\n          }\n        }\n      ];\n    }\n  });\n  const stickyWidth = getStickyWidth(mappedColumns);\n  const drawCb = () => {\n    ctx.beginPath();\n    ctx.save();\n    let dashed = false;\n    const setDashed = (dash) => {\n      if (dashed === dash)\n        return;\n      ctx.setLineDash(dash ? [5, 3] : []);\n      dashed = dash;\n    };\n    ctx.lineWidth = 1;\n    for (const dr of drawRects) {\n      const [s] = dr;\n      if (s !== void 0 && intersectRect(0, 0, width, height, s.rect.x, s.rect.y, s.rect.width, s.rect.height)) {\n        setDashed(s.style === \"dashed\");\n        ctx.strokeStyle = withAlpha(s.color, 1);\n        ctx.strokeRect(s.rect.x + 1, s.rect.y + 1, s.rect.width - 2, s.rect.height - 2);\n      }\n    }\n    let clipped = false;\n    for (const dr of drawRects) {\n      const [, s] = dr;\n      if (s !== void 0 && intersectRect(0, 0, width, height, s.rect.x, s.rect.y, s.rect.width, s.rect.height)) {\n        setDashed(s.style === \"dashed\");\n        if (!clipped && s.rect.x < stickyWidth) {\n          ctx.rect(stickyWidth, 0, width, height);\n          ctx.clip();\n          clipped = true;\n        }\n        ctx.strokeStyle = withAlpha(s.color, 1);\n        ctx.strokeRect(s.rect.x + 1, s.rect.y + 1, s.rect.width - 2, s.rect.height - 2);\n      }\n    }\n    ctx.restore();\n  };\n  drawCb();\n  return drawCb;\n}\nfunction drawFocusRing(ctx, width, height, cellYOffset, translateX, translateY, effectiveCols, allColumns, theme, totalHeaderHeight, selectedCell, getRowHeight, getCellContent, trailingRowType, fillHandle, rows) {\n  var _a;\n  if (selectedCell.current === void 0 || !effectiveCols.some((c) => {\n    var _a2;\n    return c.sourceIndex === ((_a2 = selectedCell.current) == null ? void 0 : _a2.cell[0]);\n  }))\n    return void 0;\n  const [targetCol, targetRow] = selectedCell.current.cell;\n  const cell = getCellContent(selectedCell.current.cell);\n  const targetColSpan = (_a = cell.span) != null ? _a : [targetCol, targetCol];\n  const isStickyRow = trailingRowType === \"sticky\" && targetRow === rows - 1;\n  const stickRowHeight = trailingRowType === \"sticky\" && !isStickyRow ? getRowHeight(rows - 1) - 1 : 0;\n  let drawCb = void 0;\n  walkColumns(effectiveCols, cellYOffset, translateX, translateY, totalHeaderHeight, (col, drawX, colDrawY, clipX, startRow) => {\n    if (col.sticky && targetCol > col.sourceIndex)\n      return;\n    if (col.sourceIndex < targetColSpan[0] || col.sourceIndex > targetColSpan[1]) {\n      return;\n    }\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, trailingRowType, (drawY, row, rh) => {\n      if (row !== targetRow)\n        return;\n      let cellX = drawX;\n      let cellWidth = col.width;\n      if (cell.span !== void 0) {\n        const areas = getSpanBounds(cell.span, drawX, drawY, col.width, rh, col, allColumns);\n        const area = col.sticky ? areas[0] : areas[1];\n        if (area !== void 0) {\n          cellX = area.x;\n          cellWidth = area.width;\n        }\n      }\n      drawCb = () => {\n        var _a2, _b, _c, _d;\n        if (clipX > cellX && !col.sticky) {\n          ctx.beginPath();\n          ctx.rect(clipX, 0, width - clipX, height);\n          ctx.clip();\n        }\n        ctx.beginPath();\n        ctx.rect(cellX + 0.5, drawY + 0.5, cellWidth, rh);\n        ctx.strokeStyle = (_b = (_a2 = col.themeOverride) == null ? void 0 : _a2.accentColor) != null ? _b : theme.accentColor;\n        ctx.lineWidth = 1;\n        ctx.stroke();\n        if (fillHandle) {\n          ctx.beginPath();\n          ctx.rect(cellX + cellWidth - 4, drawY + rh - 4, 4, 4);\n          ctx.fillStyle = (_d = (_c = col.themeOverride) == null ? void 0 : _c.accentColor) != null ? _d : theme.accentColor;\n          ctx.fill();\n        }\n      };\n      return true;\n    });\n    return true;\n  });\n  if (drawCb === void 0)\n    return void 0;\n  const result = () => {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(0, totalHeaderHeight, width, height - totalHeaderHeight - stickRowHeight);\n    ctx.clip();\n    drawCb == null ? void 0 : drawCb();\n    ctx.restore();\n  };\n  result();\n  return result;\n}\nfunction getLastRow(effectiveColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, trailingRowType) {\n  let result = 0;\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (_c, __drawX, colDrawY, _clipX, startRow) => {\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, trailingRowType, (_drawY, row, _rh, isSticky) => {\n      if (!isSticky) {\n        result = Math.max(row, result);\n      }\n    });\n    return true;\n  });\n  return result;\n}\nfunction computeCanBlit(current, last) {\n  if (current.width !== (last == null ? void 0 : last.width) || current.height !== last.height || current.theme !== last.theme || current.headerHeight !== last.headerHeight || current.rowHeight !== last.rowHeight || current.rows !== last.rows || current.getRowThemeOverride !== last.getRowThemeOverride || current.isFocused !== last.isFocused || current.isResizing !== last.isResizing || current.verticalBorder !== last.verticalBorder || current.getCellContent !== last.getCellContent || current.highlightRegions !== last.highlightRegions || current.selection !== last.selection || current.dragAndDropState !== last.dragAndDropState || current.prelightCells !== last.prelightCells || current.touchMode !== last.touchMode || current.scrolling !== last.scrolling) {\n    return false;\n  }\n  if (current.mappedColumns !== last.mappedColumns) {\n    if (current.mappedColumns.length > 100 || current.mappedColumns.length !== last.mappedColumns.length) {\n      return false;\n    }\n    let resized;\n    for (let i = 0; i < current.mappedColumns.length; i++) {\n      const curCol = current.mappedColumns[i];\n      const lastCol = last.mappedColumns[i];\n      if (deepEqual(curCol, lastCol))\n        continue;\n      if (resized !== void 0)\n        return false;\n      if (curCol.width === lastCol.width)\n        return false;\n      const { width, ...curRest } = curCol;\n      const { width: lastWidth, ...lastRest } = lastCol;\n      if (!deepEqual(curRest, lastRest))\n        return false;\n      resized = i;\n    }\n    if (resized === void 0) {\n      return true;\n    }\n    return resized;\n  }\n  return true;\n}\nfunction drawGrid(arg, lastArg) {\n  var _a;\n  const {\n    canvas,\n    headerCanvas,\n    width,\n    height,\n    cellXOffset,\n    cellYOffset,\n    translateX,\n    translateY,\n    mappedColumns,\n    enableGroups,\n    freezeColumns,\n    dragAndDropState,\n    theme,\n    headerHeight,\n    groupHeaderHeight,\n    disabledRows,\n    rowHeight,\n    verticalBorder,\n    isResizing,\n    selection,\n    fillHandle,\n    lastRowSticky: trailingRowType,\n    rows,\n    getCellContent,\n    getGroupDetails,\n    getRowThemeOverride,\n    isFocused,\n    drawCustomCell,\n    drawHeaderCallback,\n    prelightCells,\n    highlightRegions,\n    imageLoader,\n    lastBlitData,\n    hoverValues,\n    hyperWrapping,\n    hoverInfo,\n    spriteManager,\n    scrolling,\n    touchMode,\n    enqueue\n  } = arg;\n  let { damage } = arg;\n  if (width === 0 || height === 0)\n    return;\n  const dpr = scrolling ? 1 : Math.ceil((_a = window.devicePixelRatio) != null ? _a : 1);\n  const canBlit = computeCanBlit(arg, lastArg);\n  if (canvas.width !== width * dpr || canvas.height !== height * dpr) {\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n  }\n  const overlayCanvas = headerCanvas;\n  const totalHeaderHeight = enableGroups ? groupHeaderHeight + headerHeight : headerHeight;\n  if (overlayCanvas.width !== width * dpr || overlayCanvas.height !== totalHeaderHeight * dpr) {\n    overlayCanvas.width = width * dpr;\n    overlayCanvas.height = totalHeaderHeight * dpr;\n    overlayCanvas.style.width = width + \"px\";\n    overlayCanvas.style.height = totalHeaderHeight + \"px\";\n  }\n  const last = lastBlitData.current;\n  if (canBlit === true && cellXOffset === last.cellXOffset && cellYOffset === last.cellYOffset && translateX === last.translateX && translateY === last.translateY)\n    return;\n  const targetCtx = canvas.getContext(\"2d\", {\n    alpha: false\n  });\n  const overlayCtx = overlayCanvas.getContext(\"2d\", {\n    alpha: false\n  });\n  if (overlayCtx === null || targetCtx === null)\n    return;\n  const getRowHeight = (r) => typeof rowHeight === \"number\" ? rowHeight : rowHeight(r);\n  overlayCtx.save();\n  overlayCtx.beginPath();\n  targetCtx.save();\n  targetCtx.beginPath();\n  overlayCtx.textBaseline = \"middle\";\n  targetCtx.textBaseline = \"middle\";\n  if (dpr !== 1) {\n    overlayCtx.scale(dpr, dpr);\n    targetCtx.scale(dpr, dpr);\n  }\n  const effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, dragAndDropState, translateX);\n  let drawRegions = [];\n  const drawHeaderTexture = () => {\n    drawGridHeaders(overlayCtx, effectiveCols, enableGroups, hoverInfo, width, translateX, headerHeight, groupHeaderHeight, dragAndDropState, isResizing, selection, theme, spriteManager, hoverValues, verticalBorder, getGroupDetails, damage, drawHeaderCallback, touchMode);\n    drawGridLines(overlayCtx, effectiveCols, cellYOffset, translateX, translateY, width, height, void 0, void 0, groupHeaderHeight, totalHeaderHeight, getRowHeight, getRowThemeOverride, verticalBorder, trailingRowType, rows, theme, true);\n  };\n  if (damage !== void 0) {\n    let doHeaders = false;\n    damage = damage.filter((x) => {\n      doHeaders = doHeaders || x[1] < 0;\n      return x[1] < 0 || intersectRect(cellXOffset, cellYOffset, effectiveCols.length, 300, x[0], x[1], 1, 1) || intersectRect(0, cellYOffset, freezeColumns, 300, x[0], x[1], 1, 1) || trailingRowType && intersectRect(cellXOffset, rows - 1, effectiveCols.length, 1, x[0], x[1], 1, 1);\n    });\n    if (damage.length > 0) {\n      clipDamage(targetCtx, effectiveCols, width, height, groupHeaderHeight, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, trailingRowType, damage, true);\n      targetCtx.fillStyle = theme.bgCell;\n      targetCtx.fillRect(0, totalHeaderHeight + 1, width, height - totalHeaderHeight - 1);\n      drawCells(targetCtx, effectiveCols, mappedColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getCellContent, getGroupDetails, getRowThemeOverride, disabledRows, isFocused, trailingRowType, drawRegions, damage, selection, prelightCells, highlightRegions, drawCustomCell, imageLoader, spriteManager, hoverValues, hoverInfo, hyperWrapping, theme, enqueue);\n      if (fillHandle && selection.current !== void 0 && damage.some((x) => {\n        var _a2, _b;\n        return x[0] === ((_a2 = selection.current) == null ? void 0 : _a2.cell[0]) && x[1] === ((_b = selection.current) == null ? void 0 : _b.cell[1]);\n      })) {\n        drawFocusRing(targetCtx, width, height, cellYOffset, translateX, translateY, effectiveCols, mappedColumns, theme, totalHeaderHeight, selection, getRowHeight, getCellContent, trailingRowType, fillHandle, rows);\n      }\n    }\n    if (doHeaders) {\n      clipDamage(overlayCtx, effectiveCols, width, totalHeaderHeight, groupHeaderHeight, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, trailingRowType, damage, false);\n      drawHeaderTexture();\n    }\n    targetCtx.restore();\n    overlayCtx.restore();\n    return;\n  }\n  if (canBlit !== true || cellXOffset !== last.cellXOffset || translateX !== last.translateX) {\n    drawHeaderTexture();\n  }\n  if (canBlit === true) {\n    const { regions } = blitLastFrame(targetCtx, canvas, last, cellXOffset, cellYOffset, translateX, translateY, trailingRowType === \"sticky\", width, height, rows, totalHeaderHeight, dpr, mappedColumns, effectiveCols, rowHeight);\n    drawRegions = regions;\n  } else if (canBlit !== false) {\n    const resizedCol = canBlit;\n    drawRegions = blitResizedCol(last, cellXOffset, cellYOffset, translateX, translateY, width, height, totalHeaderHeight, effectiveCols, resizedCol);\n  }\n  overdrawStickyBoundaries(targetCtx, effectiveCols, width, height, totalHeaderHeight, trailingRowType === \"sticky\", rows, verticalBorder, getRowHeight, theme);\n  const focusRedraw = drawFocusRing(targetCtx, width, height, cellYOffset, translateX, translateY, effectiveCols, mappedColumns, theme, totalHeaderHeight, selection, getRowHeight, getCellContent, trailingRowType, fillHandle, rows);\n  const highlightRedraw = drawHighlightRings(targetCtx, width, height, cellXOffset, cellYOffset, translateX, translateY, mappedColumns, freezeColumns, headerHeight, groupHeaderHeight, rowHeight, trailingRowType === \"sticky\", rows, highlightRegions);\n  targetCtx.fillStyle = theme.bgCell;\n  if (drawRegions.length > 0) {\n    targetCtx.beginPath();\n    for (const r of drawRegions) {\n      targetCtx.rect(r.x, r.y, r.width, r.height);\n    }\n    targetCtx.clip();\n    targetCtx.fill();\n    targetCtx.beginPath();\n  } else {\n    targetCtx.fillRect(0, 0, width, height);\n  }\n  const spans = drawCells(targetCtx, effectiveCols, mappedColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getCellContent, getGroupDetails, getRowThemeOverride, disabledRows, isFocused, trailingRowType, drawRegions, damage, selection, prelightCells, highlightRegions, drawCustomCell, imageLoader, spriteManager, hoverValues, hoverInfo, hyperWrapping, theme, enqueue);\n  drawBlanks(targetCtx, effectiveCols, mappedColumns, width, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getRowThemeOverride, selection.rows, disabledRows, trailingRowType, drawRegions, damage, theme);\n  drawGridLines(targetCtx, effectiveCols, cellYOffset, translateX, translateY, width, height, drawRegions, spans, groupHeaderHeight, totalHeaderHeight, getRowHeight, getRowThemeOverride, verticalBorder, trailingRowType, rows, theme);\n  focusRedraw == null ? void 0 : focusRedraw();\n  highlightRedraw == null ? void 0 : highlightRedraw();\n  const lastRowDrawn = getLastRow(effectiveCols, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, trailingRowType);\n  imageLoader == null ? void 0 : imageLoader.setWindow({\n    x: cellXOffset,\n    y: cellYOffset,\n    width: effectiveCols.length,\n    height: lastRowDrawn - cellYOffset\n  }, freezeColumns);\n  lastBlitData.current = { cellXOffset, cellYOffset, translateX, translateY };\n  targetCtx.restore();\n  overlayCtx.restore();\n}\nfunction walkRowsInCol(startRow, drawY, height, rows, getRowHeight, trailingRowType, cb) {\n  let y = drawY;\n  let row = startRow;\n  let doSticky = trailingRowType === \"sticky\";\n  while (y < height || doSticky) {\n    const doingSticky = doSticky && y >= height;\n    if (doingSticky) {\n      doSticky = false;\n      row = rows - 1;\n    }\n    const rh = getRowHeight(row);\n    if (doingSticky) {\n      y = height - rh;\n    }\n    const isMovedStickyRow = doSticky && row === rows - 1;\n    if (!isMovedStickyRow && cb(y, row, rh, doingSticky, trailingRowType !== \"none\" && row === rows - 1) === true) {\n      break;\n    }\n    if (doingSticky) {\n      break;\n    }\n    y += rh;\n    row++;\n  }\n}\nfunction walkColumns(effectiveCols, cellYOffset, translateX, translateY, totalHeaderHeight, cb) {\n  let x = 0;\n  let clipX = 0;\n  const drawY = totalHeaderHeight + translateY;\n  for (const c of effectiveCols) {\n    const drawX = c.sticky ? clipX : x + translateX;\n    if (cb(c, drawX, drawY, clipX, cellYOffset) === true) {\n      break;\n    }\n    x += c.width;\n    clipX += c.sticky ? c.width : 0;\n  }\n}\nfunction walkGroups(effectiveCols, width, translateX, groupHeaderHeight, cb) {\n  var _a;\n  let x = 0;\n  let clipX = 0;\n  for (let index2 = 0; index2 < effectiveCols.length; index2++) {\n    const startCol = effectiveCols[index2];\n    let end = index2 + 1;\n    let boxWidth = startCol.width;\n    if (startCol.sticky) {\n      clipX += boxWidth;\n    }\n    while (end < effectiveCols.length && isGroupEqual(effectiveCols[end].group, startCol.group) && effectiveCols[end].sticky === effectiveCols[index2].sticky) {\n      const endCol = effectiveCols[end];\n      boxWidth += endCol.width;\n      end++;\n      index2++;\n      if (endCol.sticky) {\n        clipX += endCol.width;\n      }\n    }\n    const t = startCol.sticky ? 0 : translateX;\n    const localX = x + t;\n    const delta = startCol.sticky ? 0 : Math.max(0, clipX - localX);\n    const w = Math.min(boxWidth - delta, width - (localX + delta));\n    cb([startCol.sourceIndex, effectiveCols[end - 1].sourceIndex], (_a = startCol.group) != null ? _a : \"\", localX + delta, 0, w, groupHeaderHeight);\n    x += boxWidth;\n  }\n}\n\n// src/data-grid/animation-manager.ts\nimport clamp from \"lodash/clamp.js\";\nvar hoverTime = 80;\nfunction easeOutCubic(x) {\n  const x1 = x - 1;\n  return x1 * x1 * x1 + 1;\n}\nvar AnimationManager = class {\n  constructor(callback) {\n    this.callback = callback;\n    this.currentHoveredItem = void 0;\n    this.leavingItems = [];\n    this.areSameItems = (left, right) => {\n      return (left == null ? void 0 : left[0]) === (right == null ? void 0 : right[0]) && (left == null ? void 0 : left[1]) === (right == null ? void 0 : right[1]);\n    };\n    this.addToLeavingItems = (item) => {\n      const isAlreadyLeaving = this.leavingItems.some((i) => this.areSameItems(i.item, item.item));\n      if (isAlreadyLeaving) {\n        return;\n      }\n      this.leavingItems.push(item);\n    };\n    this.removeFromLeavingItems = (item) => {\n      var _a;\n      const leavingItem = this.leavingItems.find((e) => this.areSameItems(e.item, item));\n      this.leavingItems = this.leavingItems.filter((i) => i !== leavingItem);\n      return (_a = leavingItem == null ? void 0 : leavingItem.hoverAmount) != null ? _a : 0;\n    };\n    this.cleanUpLeavingElements = () => {\n      this.leavingItems = this.leavingItems.filter((i) => i.hoverAmount > 0);\n    };\n    this.shouldStep = () => {\n      const hasLeavingItems = this.leavingItems.length > 0;\n      const currentHoveredIsAnimating = this.currentHoveredItem !== void 0 && this.currentHoveredItem.hoverAmount < 1;\n      return hasLeavingItems || currentHoveredIsAnimating;\n    };\n    this.getAnimatingItems = () => {\n      if (this.currentHoveredItem !== void 0) {\n        return [...this.leavingItems, this.currentHoveredItem];\n      }\n      return this.leavingItems.map((x) => ({ ...x, hoverAmount: easeOutCubic(x.hoverAmount) }));\n    };\n    this.step = (timestamp) => {\n      if (this.lastAnimationTime === void 0) {\n        this.lastAnimationTime = timestamp;\n      } else {\n        const step = timestamp - this.lastAnimationTime;\n        const delta = step / hoverTime;\n        for (const item of this.leavingItems) {\n          item.hoverAmount = clamp(item.hoverAmount - delta, 0, 1);\n        }\n        if (this.currentHoveredItem !== void 0) {\n          this.currentHoveredItem.hoverAmount = clamp(this.currentHoveredItem.hoverAmount + delta, 0, 1);\n        }\n        const animating = this.getAnimatingItems();\n        this.callback(animating);\n        this.cleanUpLeavingElements();\n      }\n      if (this.shouldStep()) {\n        this.lastAnimationTime = timestamp;\n        window.requestAnimationFrame(this.step);\n      } else {\n        this.lastAnimationTime = void 0;\n      }\n    };\n    this.setHovered = (item) => {\n      var _a;\n      if (this.areSameItems((_a = this.currentHoveredItem) == null ? void 0 : _a.item, item)) {\n        return;\n      }\n      if (this.currentHoveredItem !== void 0) {\n        this.addToLeavingItems(this.currentHoveredItem);\n      }\n      if (item !== void 0) {\n        const hoverAmount = this.removeFromLeavingItems(item);\n        this.currentHoveredItem = {\n          item,\n          hoverAmount\n        };\n      } else {\n        this.currentHoveredItem = void 0;\n      }\n      if (this.lastAnimationTime === void 0) {\n        window.requestAnimationFrame(this.step);\n      }\n    };\n  }\n};\n\n// src/common/browser-detect.ts\nvar Lazy = class {\n  constructor(fn) {\n    this.fn = fn;\n  }\n  get value() {\n    var _a;\n    return (_a = this.val) != null ? _a : this.val = this.fn();\n  }\n};\nfunction lazy2(fn) {\n  return new Lazy(fn);\n}\nvar browserIsFirefox = lazy2(() => window.navigator.userAgent.includes(\"Firefox\"));\nvar browserIsSafari = lazy2(() => window.navigator.userAgent.includes(\"Mac OS\") && window.navigator.userAgent.includes(\"Safari\") && !window.navigator.userAgent.includes(\"Chrome\"));\nvar browserIsOSX = lazy2(() => window.navigator.platform.toLowerCase().startsWith(\"mac\"));\n\n// src/data-grid/use-animation-queue.ts\nimport * as React24 from \"react\";\nfunction hasItem(arr, item) {\n  for (const element of arr) {\n    if (element[0] === item[0] && element[1] === item[1])\n      return true;\n  }\n  return false;\n}\nfunction useAnimationQueue(draw) {\n  const queue = React24.useRef([]);\n  const seq = React24.useRef(0);\n  const drawRef = React24.useRef(draw);\n  drawRef.current = draw;\n  const loop = React24.useCallback(() => {\n    const requeue = () => window.requestAnimationFrame(fn);\n    const fn = () => {\n      const toDraw = queue.current;\n      queue.current = [];\n      drawRef.current(toDraw);\n      if (queue.current.length > 0) {\n        seq.current++;\n      } else {\n        seq.current = 0;\n      }\n    };\n    window.requestAnimationFrame(seq.current > 600 ? requeue : fn);\n  }, []);\n  return React24.useCallback((item) => {\n    if (hasItem(queue.current, item))\n      return;\n    if (queue.current.length === 0) {\n      loop();\n    }\n    queue.current.push(item);\n  }, [loop]);\n}\n\n// src/data-grid/data-grid.tsx\nvar getRowData = (cell) => {\n  return cell.kind === GridCellKind.Custom ? cell.copyData : CellRenderers[cell.kind].getAccessibilityString(cell);\n};\nvar DataGrid = (p, forwardedRef) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const {\n    width,\n    height,\n    accessibilityHeight,\n    className,\n    columns,\n    cellXOffset: cellXOffsetReal,\n    cellYOffset,\n    headerHeight,\n    fillHandle = false,\n    groupHeaderHeight,\n    rowHeight,\n    rows,\n    getCellContent,\n    getRowThemeOverride,\n    onHeaderMenuClick,\n    enableGroups,\n    isFilling,\n    onCanvasFocused,\n    onCanvasBlur,\n    isFocused,\n    selection,\n    freezeColumns,\n    onContextMenu,\n    trailingRowType,\n    fixedShadowX = true,\n    fixedShadowY = true,\n    onMouseDown,\n    onMouseUp,\n    onMouseMoveRaw,\n    onMouseMove,\n    onItemHovered,\n    dragAndDropState,\n    firstColAccessible,\n    onKeyDown,\n    onKeyUp,\n    highlightRegions,\n    canvasRef,\n    onDragStart,\n    onDragEnd,\n    eventTargetRef,\n    isResizing,\n    isDragging,\n    isDraggable = false,\n    allowResize,\n    disabledRows,\n    getGroupDetails,\n    theme,\n    prelightCells,\n    headerIcons,\n    verticalBorder,\n    drawHeader: drawHeaderCallback,\n    drawCustomCell,\n    onCellFocused,\n    onDragOverCell,\n    onDrop,\n    onDragLeave,\n    smoothScrollX = false,\n    smoothScrollY = false,\n    experimental\n  } = p;\n  const translateX = (_a = p.translateX) != null ? _a : 0;\n  const translateY = (_b = p.translateY) != null ? _b : 0;\n  const cellXOffset = Math.max(freezeColumns, Math.min(columns.length - 1, cellXOffsetReal));\n  const ref = React25.useRef(null);\n  const imageLoader = React25.useMemo(() => new image_window_loader_default(), []);\n  const damageRegion = React25.useRef();\n  const [scrolling, setScrolling] = React25.useState(false);\n  const hoverValues = React25.useRef([]);\n  const lastBlitData = React25.useRef({ cellXOffset, cellYOffset, translateX, translateY });\n  const [hoveredItemInfo, setHoveredItemInfo] = React25.useState();\n  const [hoveredOnEdge, setHoveredOnEdge] = React25.useState();\n  const overlayRef = React25.useRef(null);\n  const [lastWasTouch, setLastWasTouch] = React25.useState(false);\n  const lastWasTouchRef = React25.useRef(lastWasTouch);\n  lastWasTouchRef.current = lastWasTouch;\n  const spriteManager = React25.useMemo(() => new SpriteManager(headerIcons, () => {\n    lastArgsRef.current = void 0;\n    lastDrawRef.current();\n  }), [headerIcons]);\n  const totalHeaderHeight = enableGroups ? groupHeaderHeight + headerHeight : headerHeight;\n  const scrollingStopRef = React25.useRef(-1);\n  const disableFirefoxRescaling = (experimental == null ? void 0 : experimental.enableFirefoxRescaling) !== true;\n  React25.useLayoutEffect(() => {\n    if (!browserIsFirefox.value || window.devicePixelRatio === 1 || disableFirefoxRescaling)\n      return;\n    if (scrollingStopRef.current !== -1) {\n      setScrolling(true);\n    }\n    window.clearTimeout(scrollingStopRef.current);\n    scrollingStopRef.current = window.setTimeout(() => {\n      setScrolling(false);\n      scrollingStopRef.current = -1;\n    }, 200);\n  }, [cellYOffset, cellXOffset, translateX, translateY, disableFirefoxRescaling]);\n  const mappedColumns = useMappedColumns(columns, freezeColumns);\n  const getBoundsForItem = React25.useCallback((canvas, col, row) => {\n    const rect = canvas.getBoundingClientRect();\n    if (col >= mappedColumns.length || row >= rows) {\n      return void 0;\n    }\n    const result = computeBounds(col, row, width, height, groupHeaderHeight, totalHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, trailingRowType === \"sticky\", mappedColumns, rowHeight);\n    result.x += rect.x;\n    result.y += rect.y;\n    return result;\n  }, [\n    width,\n    height,\n    groupHeaderHeight,\n    totalHeaderHeight,\n    cellXOffset,\n    cellYOffset,\n    translateX,\n    translateY,\n    rows,\n    freezeColumns,\n    trailingRowType,\n    mappedColumns,\n    rowHeight\n  ]);\n  const getMouseArgsForPosition = React25.useCallback((canvas, posX, posY, ev) => {\n    var _a2, _b2;\n    const rect = canvas.getBoundingClientRect();\n    const x = posX - rect.left;\n    const y = posY - rect.top;\n    const edgeDetectionBuffer = 5;\n    const effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, void 0, translateX);\n    let button = 0;\n    if (ev instanceof MouseEvent) {\n      button = ev.button;\n    }\n    const col = getColumnIndexForX(x, effectiveCols, translateX);\n    const row = getRowIndexForY(y, height, enableGroups, headerHeight, groupHeaderHeight, rows, rowHeight, cellYOffset, translateY, trailingRowType === \"sticky\");\n    const shiftKey = (ev == null ? void 0 : ev.shiftKey) === true;\n    const ctrlKey = (ev == null ? void 0 : ev.ctrlKey) === true;\n    const metaKey = (ev == null ? void 0 : ev.metaKey) === true;\n    const isTouch = ev !== void 0 && !(ev instanceof MouseEvent);\n    const edgeSize = 20;\n    const scrollEdge = [\n      Math.abs(x) < edgeSize ? -1 : Math.abs(rect.width - x) < edgeSize ? 1 : 0,\n      Math.abs(y) < edgeSize ? -1 : Math.abs(rect.height - y) < edgeSize ? 1 : 0\n    ];\n    let result;\n    if (col === -1 || y < 0 || x < 0 || row === void 0 || x > width || y > height) {\n      const horizontal = x > width ? -1 : x < 0 ? 1 : 0;\n      const vertical = y > height ? 1 : y < 0 ? -1 : 0;\n      let isEdge = false;\n      if (col === -1 && row === -1) {\n        const b = getBoundsForItem(canvas, mappedColumns.length - 1, -1);\n        assert(b !== void 0);\n        isEdge = posX < b.x + b.width + edgeDetectionBuffer;\n      }\n      result = {\n        kind: outOfBoundsKind,\n        location: [col !== -1 ? col : x < 0 ? 0 : mappedColumns.length - 1, row != null ? row : rows - 1],\n        direction: [horizontal, vertical],\n        shiftKey,\n        ctrlKey,\n        metaKey,\n        isEdge,\n        isTouch,\n        button,\n        scrollEdge\n      };\n    } else if (row <= -1) {\n      let bounds = getBoundsForItem(canvas, col, row);\n      assert(bounds !== void 0);\n      let isEdge = bounds !== void 0 && bounds.x + bounds.width - posX <= edgeDetectionBuffer;\n      const previousCol = col - 1;\n      if (posX - bounds.x <= edgeDetectionBuffer && previousCol >= 0) {\n        isEdge = true;\n        bounds = getBoundsForItem(canvas, previousCol, row);\n        assert(bounds !== void 0);\n        result = {\n          kind: enableGroups && row === -2 ? groupHeaderKind : headerKind,\n          location: [previousCol, row],\n          bounds,\n          group: (_a2 = mappedColumns[previousCol].group) != null ? _a2 : \"\",\n          isEdge,\n          shiftKey,\n          ctrlKey,\n          metaKey,\n          isTouch,\n          localEventX: posX - bounds.x,\n          localEventY: posY - bounds.y,\n          button,\n          scrollEdge\n        };\n      } else {\n        result = {\n          kind: enableGroups && row === -2 ? groupHeaderKind : headerKind,\n          group: (_b2 = mappedColumns[col].group) != null ? _b2 : \"\",\n          location: [col, row],\n          bounds,\n          isEdge,\n          shiftKey,\n          ctrlKey,\n          metaKey,\n          isTouch,\n          localEventX: posX - bounds.x,\n          localEventY: posY - bounds.y,\n          button,\n          scrollEdge\n        };\n      }\n    } else {\n      const bounds = getBoundsForItem(canvas, col, row);\n      assert(bounds !== void 0);\n      const isEdge = bounds !== void 0 && bounds.x + bounds.width - posX < edgeDetectionBuffer;\n      const isFillHandle = fillHandle && bounds !== void 0 && bounds.x + bounds.width - posX < 6 && bounds.y + bounds.height - posY < 6;\n      result = {\n        kind: \"cell\",\n        location: [col, row],\n        bounds,\n        isEdge,\n        shiftKey,\n        ctrlKey,\n        isFillHandle,\n        metaKey,\n        isTouch,\n        localEventX: posX - bounds.x,\n        localEventY: posY - bounds.y,\n        button,\n        scrollEdge\n      };\n    }\n    return result;\n  }, [\n    mappedColumns,\n    cellXOffset,\n    width,\n    translateX,\n    height,\n    enableGroups,\n    headerHeight,\n    groupHeaderHeight,\n    rows,\n    rowHeight,\n    cellYOffset,\n    translateY,\n    trailingRowType,\n    getBoundsForItem,\n    fillHandle\n  ]);\n  function isSameItem(item, other) {\n    if (item === other)\n      return true;\n    return (item == null ? void 0 : item.kind) === (other == null ? void 0 : other.kind) && (item == null ? void 0 : item.location[0]) === (other == null ? void 0 : other.location[0]) && (item == null ? void 0 : item.location[1]) === (other == null ? void 0 : other.location[1]);\n  }\n  const [hoveredItem] = hoveredItemInfo != null ? hoveredItemInfo : [];\n  const enqueueRef = React25.useRef((_item) => {\n  });\n  const hoverInfoRef = React25.useRef(hoveredItemInfo);\n  hoverInfoRef.current = hoveredItemInfo;\n  const lastArgsRef = React25.useRef();\n  const draw = React25.useCallback(() => {\n    var _a2;\n    const canvas = ref.current;\n    const overlay = overlayRef.current;\n    if (canvas === null || overlay === null)\n      return;\n    const last = lastArgsRef.current;\n    const current = {\n      canvas,\n      headerCanvas: overlay,\n      width,\n      height,\n      cellXOffset,\n      cellYOffset,\n      translateX: Math.round(translateX),\n      translateY: Math.round(translateY),\n      mappedColumns,\n      enableGroups,\n      freezeColumns,\n      dragAndDropState,\n      theme,\n      headerHeight,\n      groupHeaderHeight,\n      disabledRows: disabledRows != null ? disabledRows : CompactSelection.empty(),\n      rowHeight,\n      verticalBorder,\n      isResizing,\n      isFocused,\n      selection,\n      fillHandle,\n      lastRowSticky: trailingRowType,\n      rows,\n      getCellContent,\n      getGroupDetails: getGroupDetails != null ? getGroupDetails : (name) => ({ name }),\n      getRowThemeOverride,\n      drawCustomCell,\n      drawHeaderCallback,\n      prelightCells,\n      highlightRegions,\n      imageLoader,\n      lastBlitData,\n      damage: damageRegion.current,\n      hoverValues: hoverValues.current,\n      hoverInfo: hoverInfoRef.current,\n      spriteManager,\n      scrolling,\n      hyperWrapping: (_a2 = experimental == null ? void 0 : experimental.hyperWrapping) != null ? _a2 : false,\n      touchMode: lastWasTouch,\n      enqueue: enqueueRef.current\n    };\n    if (current.damage === void 0) {\n      lastArgsRef.current = current;\n      drawGrid(current, last);\n    } else {\n      drawGrid(current, void 0);\n    }\n  }, [\n    width,\n    height,\n    cellXOffset,\n    cellYOffset,\n    translateX,\n    translateY,\n    mappedColumns,\n    enableGroups,\n    freezeColumns,\n    dragAndDropState,\n    theme,\n    headerHeight,\n    groupHeaderHeight,\n    disabledRows,\n    rowHeight,\n    verticalBorder,\n    isResizing,\n    isFocused,\n    selection,\n    fillHandle,\n    trailingRowType,\n    rows,\n    getCellContent,\n    getGroupDetails,\n    getRowThemeOverride,\n    drawCustomCell,\n    drawHeaderCallback,\n    prelightCells,\n    highlightRegions,\n    imageLoader,\n    spriteManager,\n    scrolling,\n    experimental == null ? void 0 : experimental.hyperWrapping,\n    lastWasTouch\n  ]);\n  const lastDrawRef = React25.useRef(draw);\n  React25.useLayoutEffect(() => {\n    draw();\n    lastDrawRef.current = draw;\n  }, [draw]);\n  React25.useLayoutEffect(() => {\n    const fn = async () => {\n      var _a2;\n      if (((_a2 = document == null ? void 0 : document.fonts) == null ? void 0 : _a2.ready) === void 0)\n        return;\n      await document.fonts.ready;\n      lastArgsRef.current = void 0;\n      lastDrawRef.current();\n    };\n    void fn();\n  }, []);\n  const damageInternal = React25.useCallback((locations) => {\n    damageRegion.current = locations;\n    lastDrawRef.current();\n    damageRegion.current = void 0;\n  }, []);\n  const enqueue = useAnimationQueue(damageInternal);\n  enqueueRef.current = enqueue;\n  const damage = React25.useCallback((cells) => {\n    damageInternal(cells.map((x) => x.cell));\n  }, [damageInternal]);\n  imageLoader.setCallback(damageInternal);\n  const [overFill, setOverFill] = React25.useState(false);\n  const [hCol, hRow] = hoveredItem != null ? hoveredItem : [];\n  const headerHovered = hCol !== void 0 && hRow === -1;\n  const groupHeaderHovered = hCol !== void 0 && hRow === -2;\n  let clickableInnerCellHovered = false;\n  let editableBoolHovered = false;\n  let cursorOverride;\n  if (hCol !== void 0 && hRow !== void 0 && hRow > -1) {\n    const cell = getCellContent([hCol, hRow]);\n    clickableInnerCellHovered = cell.kind === InnerGridCellKind.NewRow || cell.kind === InnerGridCellKind.Marker && cell.markerKind !== \"number\";\n    editableBoolHovered = cell.kind === GridCellKind.Boolean && booleanCellIsEditable(cell);\n    cursorOverride = cell.cursor;\n  }\n  const canDrag = hoveredOnEdge != null ? hoveredOnEdge : false;\n  const cursor = isDragging ? \"grabbing\" : canDrag || isResizing ? \"col-resize\" : overFill || isFilling ? \"crosshair\" : cursorOverride !== void 0 ? cursorOverride : headerHovered || clickableInnerCellHovered || editableBoolHovered || groupHeaderHovered ? \"pointer\" : \"default\";\n  const style = React25.useMemo(() => ({\n    contain: \"strict\",\n    display: \"block\",\n    cursor\n  }), [cursor]);\n  const target = eventTargetRef == null ? void 0 : eventTargetRef.current;\n  if (target !== null && target !== void 0) {\n    target.style.cursor = style.cursor;\n  }\n  const groupHeaderActionForEvent = React25.useCallback((group, bounds, localEventX, localEventY) => {\n    if (getGroupDetails === void 0)\n      return void 0;\n    const groupDesc = getGroupDetails(group);\n    if (groupDesc.actions !== void 0) {\n      const boxes = getActionBoundsForGroup(bounds, groupDesc.actions);\n      for (const [i, box] of boxes.entries()) {\n        if (pointInRect(box, localEventX + bounds.x, localEventY + box.y)) {\n          return groupDesc.actions[i];\n        }\n      }\n    }\n    return void 0;\n  }, [getGroupDetails]);\n  const isOverHeaderMenu = React25.useCallback((canvas, col, clientX, clientY) => {\n    const header = columns[col];\n    if (!isDragging && !isResizing && header.hasMenu === true && !(hoveredOnEdge != null ? hoveredOnEdge : false)) {\n      const headerBounds = getBoundsForItem(canvas, col, -1);\n      assert(headerBounds !== void 0);\n      const menuBounds = getHeaderMenuBounds(headerBounds.x, headerBounds.y, headerBounds.width, headerBounds.height);\n      if (clientX > menuBounds.x && clientX < menuBounds.x + menuBounds.width && clientY > menuBounds.y && clientY < menuBounds.y + menuBounds.height) {\n        return headerBounds;\n      }\n    }\n    return void 0;\n  }, [columns, getBoundsForItem, hoveredOnEdge, isDragging, isResizing]);\n  const downTime = React25.useRef(0);\n  const downPosition = React25.useRef();\n  const onMouseDownImpl = React25.useCallback((ev) => {\n    const canvas = ref.current;\n    const eventTarget = eventTargetRef == null ? void 0 : eventTargetRef.current;\n    if (canvas === null || ev.target !== canvas && ev.target !== eventTarget)\n      return;\n    let clientX;\n    let clientY;\n    if (ev instanceof MouseEvent) {\n      clientX = ev.clientX;\n      clientY = ev.clientY;\n    } else {\n      clientX = ev.touches[0].clientX;\n      clientY = ev.touches[0].clientY;\n    }\n    if (ev.target === eventTarget && eventTarget !== null) {\n      const bounds = eventTarget.getBoundingClientRect();\n      if (clientX > bounds.left + eventTarget.clientWidth)\n        return;\n      if (clientY > bounds.top + eventTarget.clientHeight)\n        return;\n    }\n    const args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n    downPosition.current = args.location;\n    if (args.isTouch) {\n      downTime.current = Date.now();\n    }\n    if (lastWasTouchRef.current !== args.isTouch) {\n      setLastWasTouch(args.isTouch);\n    }\n    if (args.kind === headerKind && isOverHeaderMenu(canvas, args.location[0], clientX, clientY) !== void 0) {\n      return;\n    } else if (args.kind === groupHeaderKind) {\n      const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n      if (action !== void 0) {\n        return;\n      }\n    }\n    onMouseDown == null ? void 0 : onMouseDown(args);\n    if (!args.isTouch && isDraggable !== true && isDraggable !== args.kind) {\n      ev.preventDefault();\n    }\n  }, [eventTargetRef, isDraggable, getMouseArgsForPosition, groupHeaderActionForEvent, isOverHeaderMenu, onMouseDown]);\n  useEventListener(\"touchstart\", onMouseDownImpl, window, false);\n  useEventListener(\"mousedown\", onMouseDownImpl, window, false);\n  const onMouseUpImpl = React25.useCallback((ev) => {\n    var _a2, _b2;\n    const canvas = ref.current;\n    if (onMouseUp === void 0 || canvas === null)\n      return;\n    const eventTarget = eventTargetRef == null ? void 0 : eventTargetRef.current;\n    const isOutside = ev.target !== canvas && ev.target !== eventTarget;\n    let clientX;\n    let clientY;\n    if (ev instanceof MouseEvent) {\n      clientX = ev.clientX;\n      clientY = ev.clientY;\n    } else {\n      clientX = ev.changedTouches[0].clientX;\n      clientY = ev.changedTouches[0].clientY;\n    }\n    let args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n    if (args.isTouch && downTime.current !== 0 && Date.now() - downTime.current > 500) {\n      args = {\n        ...args,\n        isLongTouch: true\n      };\n    }\n    if (lastWasTouchRef.current !== args.isTouch) {\n      setLastWasTouch(args.isTouch);\n    }\n    if (!isOutside && ev.cancelable) {\n      ev.preventDefault();\n    }\n    if (args.kind === headerKind && isOverHeaderMenu(canvas, args.location[0], clientX, clientY)) {\n      const [col] = args.location;\n      const headerBounds = isOverHeaderMenu(canvas, col, clientX, clientY);\n      if (headerBounds !== void 0) {\n        if (args.button === 0 && ((_a2 = downPosition.current) == null ? void 0 : _a2[0]) === col && ((_b2 = downPosition.current) == null ? void 0 : _b2[1]) === -1) {\n          onHeaderMenuClick == null ? void 0 : onHeaderMenuClick(col, headerBounds);\n        } else {\n          onMouseUp(args, true);\n        }\n        return;\n      }\n    } else if (args.kind === groupHeaderKind) {\n      const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n      if (action !== void 0) {\n        if (args.button === 0) {\n          action.onClick(args);\n        }\n        return;\n      }\n    }\n    onMouseUp(args, isOutside);\n  }, [\n    onMouseUp,\n    eventTargetRef,\n    getMouseArgsForPosition,\n    isOverHeaderMenu,\n    onHeaderMenuClick,\n    groupHeaderActionForEvent\n  ]);\n  useEventListener(\"mouseup\", onMouseUpImpl, window, false);\n  useEventListener(\"touchend\", onMouseUpImpl, window, false);\n  const onContextMenuImpl = React25.useCallback((ev) => {\n    const canvas = ref.current;\n    if (canvas === null || onContextMenu === void 0)\n      return;\n    const args = getMouseArgsForPosition(canvas, ev.clientX, ev.clientY, ev);\n    onContextMenu(args, () => {\n      if (ev.cancelable)\n        ev.preventDefault();\n    });\n  }, [getMouseArgsForPosition, onContextMenu]);\n  useEventListener(\"contextmenu\", onContextMenuImpl, (_c = eventTargetRef == null ? void 0 : eventTargetRef.current) != null ? _c : null, false);\n  const onAnimationFrame = React25.useCallback((values) => {\n    damageRegion.current = values.map((x) => x.item);\n    hoverValues.current = values;\n    lastDrawRef.current();\n    damageRegion.current = void 0;\n  }, []);\n  const animManagerValue = React25.useMemo(() => new AnimationManager(onAnimationFrame), [onAnimationFrame]);\n  const animationManager = React25.useRef(animManagerValue);\n  animationManager.current = animManagerValue;\n  React25.useLayoutEffect(() => {\n    const am = animationManager.current;\n    if (hoveredItem === void 0 || hoveredItem[1] < 0) {\n      am.setHovered(hoveredItem);\n      return;\n    }\n    const cell = getCellContent(hoveredItem);\n    am.setHovered(cell.kind === GridCellKind.Custom || CellRenderers[cell.kind].needsHover ? hoveredItem : void 0);\n  }, [getCellContent, hoveredItem]);\n  const hoveredRef = React25.useRef();\n  const onMouseMoveImpl = React25.useCallback((ev) => {\n    const canvas = ref.current;\n    if (canvas === null)\n      return;\n    const args = getMouseArgsForPosition(canvas, ev.clientX, ev.clientY, ev);\n    if (!isSameItem(args, hoveredRef.current)) {\n      onItemHovered == null ? void 0 : onItemHovered(args);\n      setHoveredItemInfo(args.kind === outOfBoundsKind ? void 0 : [args.location, [args.localEventX, args.localEventY]]);\n      hoveredRef.current = args;\n    } else if (args.kind === \"cell\" || args.kind === headerKind || args.kind === groupHeaderKind) {\n      const newInfo = [args.location, [args.localEventX, args.localEventY]];\n      setHoveredItemInfo(newInfo);\n      hoverInfoRef.current = newInfo;\n      if (args.kind === \"cell\") {\n        const toCheck = getCellContent(args.location);\n        if (toCheck.kind === GridCellKind.Custom || CellRenderers[toCheck.kind].needsHoverPosition) {\n          damageInternal([args.location]);\n        }\n      } else if (args.kind === groupHeaderKind) {\n        damageInternal([args.location]);\n      }\n    }\n    setHoveredOnEdge(args.kind === headerKind && args.isEdge && allowResize === true);\n    if (fillHandle && selection.current !== void 0) {\n      const [col, row] = selection.current.cell;\n      const sb = getBoundsForItem(canvas, col, row);\n      const x = ev.clientX;\n      const y = ev.clientY;\n      assert(sb !== void 0);\n      setOverFill(x >= sb.x + sb.width - 6 && x <= sb.x + sb.width && y >= sb.y + sb.height - 6 && y <= sb.y + sb.height);\n    } else {\n      setOverFill(false);\n    }\n    onMouseMoveRaw == null ? void 0 : onMouseMoveRaw(ev);\n    onMouseMove(args);\n  }, [\n    getMouseArgsForPosition,\n    allowResize,\n    fillHandle,\n    selection,\n    onMouseMoveRaw,\n    onMouseMove,\n    onItemHovered,\n    getCellContent,\n    damageInternal,\n    getBoundsForItem\n  ]);\n  useEventListener(\"mousemove\", onMouseMoveImpl, window, true);\n  const onKeyDownImpl = React25.useCallback((event) => {\n    const canvas = ref.current;\n    if (canvas === null)\n      return;\n    let bounds;\n    if (selection.current !== void 0) {\n      bounds = getBoundsForItem(canvas, selection.current.cell[0], selection.current.cell[1]);\n    }\n    onKeyDown == null ? void 0 : onKeyDown({\n      bounds,\n      cancel: () => {\n        event.stopPropagation();\n        event.preventDefault();\n      },\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      key: event.key,\n      keyCode: event.keyCode\n    });\n  }, [onKeyDown, selection, getBoundsForItem]);\n  const onKeyUpImpl = React25.useCallback((event) => {\n    const canvas = ref.current;\n    if (canvas === null)\n      return;\n    let bounds;\n    if (selection.current !== void 0) {\n      bounds = getBoundsForItem(canvas, selection.current.cell[0], selection.current.cell[1]);\n    }\n    onKeyUp == null ? void 0 : onKeyUp({\n      bounds,\n      cancel: () => {\n        event.stopPropagation();\n        event.preventDefault();\n      },\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      key: event.key,\n      keyCode: event.keyCode\n    });\n  }, [onKeyUp, selection, getBoundsForItem]);\n  const refImpl = React25.useCallback((instance) => {\n    ref.current = instance;\n    if (canvasRef !== void 0) {\n      canvasRef.current = instance;\n    }\n  }, [canvasRef]);\n  const onDragStartImpl = React25.useCallback((event) => {\n    const canvas = ref.current;\n    if (canvas === null || isDraggable === false || isResizing) {\n      event.preventDefault();\n      return;\n    }\n    let dragMime;\n    let dragData;\n    const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n    if (isDraggable !== true && args.kind !== isDraggable) {\n      event.preventDefault();\n      return;\n    }\n    const setData = (mime, payload) => {\n      dragMime = mime;\n      dragData = payload;\n    };\n    let dragImage;\n    let dragImageX;\n    let dragImageY;\n    const setDragImage = (image, x, y) => {\n      dragImage = image;\n      dragImageX = x;\n      dragImageY = y;\n    };\n    let prevented = false;\n    onDragStart == null ? void 0 : onDragStart({\n      ...args,\n      setData,\n      setDragImage,\n      preventDefault: () => prevented = true,\n      defaultPrevented: () => prevented\n    });\n    if (!prevented && dragMime !== void 0 && dragData !== void 0 && event.dataTransfer !== null) {\n      event.dataTransfer.setData(dragMime, dragData);\n      event.dataTransfer.effectAllowed = \"copyLink\";\n      if (dragImage !== void 0 && dragImageX !== void 0 && dragImageY !== void 0) {\n        event.dataTransfer.setDragImage(dragImage, dragImageX, dragImageY);\n      } else {\n        const [col, row] = args.location;\n        if (row !== void 0) {\n          const offscreen = document.createElement(\"canvas\");\n          const boundsForDragTarget = getBoundsForItem(canvas, col, row);\n          assert(boundsForDragTarget !== void 0);\n          offscreen.width = boundsForDragTarget.width;\n          offscreen.height = boundsForDragTarget.height;\n          const ctx = offscreen.getContext(\"2d\");\n          if (ctx !== null) {\n            ctx.textBaseline = \"middle\";\n            if (row === -1) {\n              ctx.font = `${theme.headerFontStyle} ${theme.fontFamily}`;\n              ctx.fillStyle = theme.bgHeader;\n              ctx.fillRect(0, 0, offscreen.width, offscreen.height);\n              drawHeader(ctx, 0, 0, boundsForDragTarget.width, boundsForDragTarget.height, mappedColumns[col], false, theme, false, false, 0, spriteManager, drawHeaderCallback, false);\n            } else {\n              ctx.font = `${theme.baseFontStyle} ${theme.fontFamily}`;\n              ctx.fillStyle = theme.bgCell;\n              ctx.fillRect(0, 0, offscreen.width, offscreen.height);\n              drawCell(ctx, row, getCellContent([col, row]), 0, 0, 0, boundsForDragTarget.width, boundsForDragTarget.height, false, theme, drawCustomCell, imageLoader, spriteManager, 1, void 0, false, 0);\n            }\n          }\n          offscreen.style.left = \"-100%\";\n          offscreen.style.position = \"absolute\";\n          document.body.append(offscreen);\n          event.dataTransfer.setDragImage(offscreen, boundsForDragTarget.width / 2, boundsForDragTarget.height / 2);\n          window.setTimeout(() => {\n            offscreen.remove();\n          }, 0);\n        }\n      }\n    } else {\n      event.preventDefault();\n    }\n  }, [\n    isDraggable,\n    isResizing,\n    getMouseArgsForPosition,\n    onDragStart,\n    getBoundsForItem,\n    theme,\n    mappedColumns,\n    spriteManager,\n    drawHeaderCallback,\n    getCellContent,\n    drawCustomCell,\n    imageLoader\n  ]);\n  useEventListener(\"dragstart\", onDragStartImpl, (_d = eventTargetRef == null ? void 0 : eventTargetRef.current) != null ? _d : null, false, false);\n  const activeDropTarget = React25.useRef();\n  const onDragOverImpl = React25.useCallback((event) => {\n    var _a2;\n    const canvas = ref.current;\n    if (onDrop !== void 0) {\n      event.preventDefault();\n    }\n    if (canvas === null || onDragOverCell === void 0) {\n      return;\n    }\n    const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n    const [rawCol, row] = args.location;\n    const col = rawCol - (firstColAccessible ? 0 : 1);\n    const [activeCol, activeRow] = (_a2 = activeDropTarget.current) != null ? _a2 : [];\n    if (activeCol !== col || activeRow !== row) {\n      activeDropTarget.current = [col, row];\n      onDragOverCell([col, row], event.dataTransfer);\n    }\n  }, [firstColAccessible, getMouseArgsForPosition, onDragOverCell, onDrop]);\n  useEventListener(\"dragover\", onDragOverImpl, (_e = eventTargetRef == null ? void 0 : eventTargetRef.current) != null ? _e : null, false, false);\n  const onDragEndImpl = React25.useCallback(() => {\n    activeDropTarget.current = void 0;\n    onDragEnd == null ? void 0 : onDragEnd();\n  }, [onDragEnd]);\n  useEventListener(\"dragend\", onDragEndImpl, (_f = eventTargetRef == null ? void 0 : eventTargetRef.current) != null ? _f : null, false, false);\n  const onDropImpl = React25.useCallback((event) => {\n    const canvas = ref.current;\n    if (canvas === null || onDrop === void 0) {\n      return;\n    }\n    event.preventDefault();\n    const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n    const [rawCol, row] = args.location;\n    const col = rawCol - (firstColAccessible ? 0 : 1);\n    onDrop([col, row], event.dataTransfer);\n  }, [firstColAccessible, getMouseArgsForPosition, onDrop]);\n  useEventListener(\"drop\", onDropImpl, (_g = eventTargetRef == null ? void 0 : eventTargetRef.current) != null ? _g : null, false, false);\n  const onDragLeaveImpl = React25.useCallback(() => {\n    onDragLeave == null ? void 0 : onDragLeave();\n  }, [onDragLeave]);\n  useEventListener(\"dragleave\", onDragLeaveImpl, (_h = eventTargetRef == null ? void 0 : eventTargetRef.current) != null ? _h : null, false, false);\n  const selectionRef = React25.useRef(selection);\n  selectionRef.current = selection;\n  const focusRef = React25.useRef(null);\n  const focusElement = React25.useCallback((el) => {\n    var _a2;\n    if (ref.current === null || !ref.current.contains(document.activeElement))\n      return;\n    if (el === null && selectionRef.current.current !== void 0) {\n      (_a2 = canvasRef == null ? void 0 : canvasRef.current) == null ? void 0 : _a2.focus({\n        preventScroll: true\n      });\n    } else if (el !== null) {\n      el.focus({\n        preventScroll: true\n      });\n    }\n    focusRef.current = el;\n  }, [canvasRef]);\n  React25.useImperativeHandle(forwardedRef, () => ({\n    focus: () => {\n      var _a2;\n      const el = focusRef.current;\n      if (el === null || !document.contains(el)) {\n        (_a2 = canvasRef == null ? void 0 : canvasRef.current) == null ? void 0 : _a2.focus({\n          preventScroll: true\n        });\n      } else {\n        el.focus({\n          preventScroll: true\n        });\n      }\n    },\n    getBounds: (col, row) => {\n      if (canvasRef === void 0 || canvasRef.current === null) {\n        return void 0;\n      }\n      return getBoundsForItem(canvasRef.current, col, row != null ? row : -1);\n    },\n    damage\n  }), [canvasRef, damage, getBoundsForItem]);\n  const lastFocusedSubdomNode = React25.useRef();\n  const accessibilityTree = useDebouncedMemo(() => {\n    var _a2, _b2, _c2, _d2;\n    if (width < 50)\n      return null;\n    let effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, dragAndDropState, translateX);\n    const colOffset = firstColAccessible ? 0 : -1;\n    if (!firstColAccessible && ((_a2 = effectiveCols[0]) == null ? void 0 : _a2.sourceIndex) === 0) {\n      effectiveCols = effectiveCols.slice(1);\n    }\n    const [fCol, fRow] = (_c2 = (_b2 = selection.current) == null ? void 0 : _b2.cell) != null ? _c2 : [];\n    const range2 = (_d2 = selection.current) == null ? void 0 : _d2.range;\n    const visibleCols = effectiveCols.map((c) => c.sourceIndex);\n    const visibleRows = makeRange(cellYOffset, Math.min(rows, cellYOffset + accessibilityHeight));\n    if (fCol !== void 0 && fRow !== void 0 && !(visibleCols.includes(fCol) && visibleRows.includes(fRow))) {\n      focusElement(null);\n    }\n    return /* @__PURE__ */ React25.createElement(\"table\", {\n      key: \"access-tree\",\n      role: \"grid\",\n      \"aria-rowcount\": rows + 1,\n      \"aria-multiselectable\": \"true\",\n      \"aria-colcount\": mappedColumns.length + colOffset\n    }, /* @__PURE__ */ React25.createElement(\"thead\", {\n      role: \"rowgroup\"\n    }, /* @__PURE__ */ React25.createElement(\"tr\", {\n      role: \"row\",\n      \"aria-rowindex\": 1\n    }, effectiveCols.map((c) => /* @__PURE__ */ React25.createElement(\"th\", {\n      role: \"columnheader\",\n      \"aria-selected\": selection.columns.hasIndex(c.sourceIndex),\n      \"aria-colindex\": c.sourceIndex + 1 + colOffset,\n      tabIndex: -1,\n      onFocus: (e) => {\n        if (e.target === focusRef.current)\n          return;\n        return onCellFocused == null ? void 0 : onCellFocused([c.sourceIndex, -1]);\n      },\n      key: c.sourceIndex\n    }, c.title)))), /* @__PURE__ */ React25.createElement(\"tbody\", {\n      role: \"rowgroup\"\n    }, visibleRows.map((row) => /* @__PURE__ */ React25.createElement(\"tr\", {\n      role: \"row\",\n      \"aria-selected\": selection.rows.hasIndex(row),\n      key: row,\n      \"aria-rowindex\": row + 2\n    }, effectiveCols.map((c) => {\n      const col = c.sourceIndex;\n      const key = `${col},${row}`;\n      const focused = fCol === col && fRow === row;\n      const selected = range2 !== void 0 && col >= range2.x && col < range2.x + range2.width && row >= range2.y && row < range2.y + range2.height;\n      const id = `glide-cell-${col}-${row}`;\n      const cellContent = getCellContent([col, row]);\n      return /* @__PURE__ */ React25.createElement(\"td\", {\n        key,\n        role: \"gridcell\",\n        \"aria-colindex\": col + 1 + colOffset,\n        \"aria-selected\": selected,\n        \"aria-readonly\": isInnerOnlyCell(cellContent) || !isReadWriteCell(cellContent),\n        id,\n        \"data-testid\": id,\n        onClick: () => {\n          const canvas = canvasRef == null ? void 0 : canvasRef.current;\n          if (canvas === null || canvas === void 0)\n            return;\n          return onKeyDown == null ? void 0 : onKeyDown({\n            bounds: getBoundsForItem(canvas, col, row),\n            cancel: () => void 0,\n            ctrlKey: false,\n            key: \"Enter\",\n            keyCode: 13,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n        },\n        onFocusCapture: (e) => {\n          var _a3, _b3;\n          if (e.target === focusRef.current || ((_a3 = lastFocusedSubdomNode.current) == null ? void 0 : _a3[0]) === col && ((_b3 = lastFocusedSubdomNode.current) == null ? void 0 : _b3[1]) === row)\n            return;\n          lastFocusedSubdomNode.current = [col, row];\n          return onCellFocused == null ? void 0 : onCellFocused([col, row]);\n        },\n        ref: focused ? focusElement : void 0,\n        tabIndex: -1\n      }, getRowData(cellContent));\n    })))));\n  }, [\n    width,\n    mappedColumns,\n    cellXOffset,\n    dragAndDropState,\n    translateX,\n    rows,\n    cellYOffset,\n    accessibilityHeight,\n    selection,\n    focusElement,\n    getCellContent,\n    canvasRef,\n    onKeyDown,\n    getBoundsForItem,\n    onCellFocused\n  ], 200);\n  const stickyX = fixedShadowX ? getStickyWidth(mappedColumns, dragAndDropState) : 0;\n  const opacityX = freezeColumns === 0 || !fixedShadowX ? 0 : cellXOffset > freezeColumns ? 1 : clamp2(-translateX / 100, 0, 1);\n  const absoluteOffsetY = -cellYOffset * 32 + translateY;\n  const opacityY = !fixedShadowY ? 0 : clamp2(-absoluteOffsetY / 100, 0, 1);\n  const stickyShadow = React25.useMemo(() => {\n    if (!opacityX && !opacityY) {\n      return null;\n    }\n    const styleX = {\n      position: \"absolute\",\n      top: 0,\n      left: stickyX,\n      width: width - stickyX,\n      height,\n      opacity: opacityX,\n      pointerEvents: \"none\",\n      transition: !smoothScrollX ? \"opacity 0.2s\" : void 0,\n      boxShadow: \"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)\"\n    };\n    const styleY = {\n      position: \"absolute\",\n      top: totalHeaderHeight,\n      left: 0,\n      width,\n      height,\n      opacity: opacityY,\n      pointerEvents: \"none\",\n      transition: !smoothScrollY ? \"opacity 0.2s\" : void 0,\n      boxShadow: \"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)\"\n    };\n    return /* @__PURE__ */ React25.createElement(React25.Fragment, null, opacityX > 0 && /* @__PURE__ */ React25.createElement(\"div\", {\n      id: \"shadow-x\",\n      style: styleX\n    }), opacityY > 0 && /* @__PURE__ */ React25.createElement(\"div\", {\n      id: \"shadow-y\",\n      style: styleY\n    }));\n  }, [opacityX, opacityY, stickyX, width, smoothScrollX, totalHeaderHeight, height, smoothScrollY]);\n  const overlayStyle = React25.useMemo(() => ({\n    position: \"absolute\",\n    top: 0,\n    left: 0\n  }), []);\n  return /* @__PURE__ */ React25.createElement(React25.Fragment, null, /* @__PURE__ */ React25.createElement(\"canvas\", {\n    \"data-testid\": \"data-grid-canvas\",\n    tabIndex: 0,\n    onKeyDown: onKeyDownImpl,\n    onKeyUp: onKeyUpImpl,\n    onFocus: onCanvasFocused,\n    onBlur: onCanvasBlur,\n    className,\n    ref: refImpl,\n    style\n  }, accessibilityTree), /* @__PURE__ */ React25.createElement(\"canvas\", {\n    ref: overlayRef,\n    style: overlayStyle\n  }), stickyShadow);\n};\nvar data_grid_default = React25.memo(React25.forwardRef(DataGrid));\n\n// src/data-grid-dnd/data-grid-dnd.tsx\nfunction offsetColumnSize(column, width, min, max) {\n  var _a;\n  return clamp3(Math.round(width - ((_a = column.growOffset) != null ? _a : 0)), Math.ceil(min), Math.floor(max));\n}\nvar DataGridDnd = (p) => {\n  var _a;\n  const [resizeColStartX, setResizeColStartX] = React26.useState();\n  const [resizeCol, setResizeCol] = React26.useState();\n  const [dragCol, setDragCol] = React26.useState();\n  const [dropCol, setDropCol] = React26.useState();\n  const [dragColActive, setDragColActive] = React26.useState(false);\n  const [dragStartX, setDragStartX] = React26.useState();\n  const [dragRow, setDragRow] = React26.useState();\n  const [dropRow, setDropRow] = React26.useState();\n  const [dragRowActive, setDragRowActive] = React26.useState(false);\n  const [dragStartY, setDragStartY] = React26.useState();\n  const {\n    onColumnMoved,\n    onColumnResize,\n    onColumnResizeStart,\n    onColumnResizeEnd,\n    gridRef,\n    maxColumnWidth,\n    minColumnWidth,\n    onHeaderMenuClick,\n    onRowMoved,\n    lockColumns,\n    getCellContent\n  } = p;\n  const canResize = ((_a = onColumnResize != null ? onColumnResize : onColumnResizeEnd) != null ? _a : onColumnResizeStart) !== void 0;\n  const { onMouseDown, onMouseUp, onItemHovered, columns, selection } = p;\n  const selectedColumns = selection.columns;\n  const onItemHoveredImpl = React26.useCallback((args) => {\n    const [col, row] = args.location;\n    if (dragCol !== void 0 && dropCol !== col && col >= lockColumns) {\n      setDragColActive(true);\n      setDropCol(col);\n    } else if (dragRow !== void 0 && row !== void 0) {\n      setDragRowActive(true);\n      setDropRow(Math.max(0, row));\n    } else {\n      onItemHovered == null ? void 0 : onItemHovered(args);\n    }\n  }, [dragCol, dragRow, dropCol, onItemHovered, lockColumns]);\n  const canDragCol = onColumnMoved !== void 0;\n  const onMouseDownImpl = React26.useCallback((args) => {\n    var _a2;\n    if (args.button === 0) {\n      const [col, row] = args.location;\n      if (args.kind === \"out-of-bounds\" && args.isEdge && canResize) {\n        const bounds = (_a2 = gridRef == null ? void 0 : gridRef.current) == null ? void 0 : _a2.getBounds(columns.length - 1, -1);\n        if (bounds !== void 0) {\n          setResizeColStartX(bounds.x);\n          setResizeCol(columns.length - 1);\n        }\n      } else if (args.kind === \"header\" && col >= lockColumns) {\n        if (args.isEdge && canResize) {\n          setResizeColStartX(args.bounds.x);\n          setResizeCol(col);\n          onColumnResizeStart == null ? void 0 : onColumnResizeStart(columns[col], args.bounds.width, col);\n        } else if (args.kind === \"header\" && canDragCol) {\n          setDragStartX(args.bounds.x);\n          setDragCol(col);\n        }\n      } else if (args.kind === \"cell\" && lockColumns > 0 && col === 0 && row !== void 0 && onRowMoved !== void 0) {\n        setDragStartY(args.bounds.y);\n        setDragRow(row);\n      }\n    }\n    onMouseDown == null ? void 0 : onMouseDown(args);\n  }, [onMouseDown, canResize, lockColumns, onRowMoved, gridRef, columns, canDragCol, onColumnResizeStart]);\n  const onHeaderMenuClickMangled = React26.useCallback((col, screenPosition) => {\n    if (dragColActive || dragRowActive)\n      return;\n    onHeaderMenuClick == null ? void 0 : onHeaderMenuClick(col, screenPosition);\n  }, [dragColActive, dragRowActive, onHeaderMenuClick]);\n  const lastResizeWidthRef = React26.useRef(-1);\n  const clearAll = React26.useCallback(() => {\n    lastResizeWidthRef.current = -1;\n    setDragRow(void 0);\n    setDropRow(void 0);\n    setDragStartY(void 0);\n    setDragRowActive(false);\n    setDragCol(void 0);\n    setDropCol(void 0);\n    setDragStartX(void 0);\n    setDragColActive(false);\n    setResizeCol(void 0);\n    setResizeColStartX(void 0);\n  }, []);\n  const onMouseUpImpl = React26.useCallback((args, isOutside) => {\n    if (args.button === 0) {\n      if (resizeCol !== void 0) {\n        if ((selectedColumns == null ? void 0 : selectedColumns.hasIndex(resizeCol)) === true) {\n          for (const c of selectedColumns) {\n            if (c === resizeCol)\n              continue;\n            const col = columns[c];\n            onColumnResize == null ? void 0 : onColumnResize(col, offsetColumnSize(col, lastResizeWidthRef.current, minColumnWidth, maxColumnWidth), c);\n          }\n        }\n        onColumnResizeEnd == null ? void 0 : onColumnResizeEnd(columns[resizeCol], offsetColumnSize(columns[resizeCol], lastResizeWidthRef.current, minColumnWidth, maxColumnWidth), resizeCol);\n        for (const c of selectedColumns) {\n          if (c === resizeCol)\n            continue;\n          const col = columns[c];\n          onColumnResizeEnd == null ? void 0 : onColumnResizeEnd(col, offsetColumnSize(col, lastResizeWidthRef.current, minColumnWidth, maxColumnWidth), c);\n        }\n      }\n      clearAll();\n      if (dragCol !== void 0 && dropCol !== void 0) {\n        onColumnMoved == null ? void 0 : onColumnMoved(dragCol, dropCol);\n      }\n      if (dragRow !== void 0 && dropRow !== void 0) {\n        onRowMoved == null ? void 0 : onRowMoved(dragRow, dropRow);\n      }\n    }\n    onMouseUp == null ? void 0 : onMouseUp(args, isOutside);\n  }, [\n    onMouseUp,\n    resizeCol,\n    dragCol,\n    dropCol,\n    dragRow,\n    dropRow,\n    selectedColumns,\n    onColumnResizeEnd,\n    columns,\n    minColumnWidth,\n    maxColumnWidth,\n    onColumnResize,\n    onColumnMoved,\n    onRowMoved,\n    clearAll\n  ]);\n  const dragOffset = React26.useMemo(() => {\n    if (dragCol === void 0 || dropCol === void 0)\n      return void 0;\n    if (dragCol === dropCol)\n      return void 0;\n    return {\n      src: dragCol,\n      dest: dropCol\n    };\n  }, [dragCol, dropCol]);\n  const onMouseMove = React26.useCallback((event) => {\n    if (dragCol !== void 0 && dragStartX !== void 0) {\n      const diff = Math.abs(event.clientX - dragStartX);\n      if (diff > 20) {\n        setDragColActive(true);\n      }\n    } else if (dragRow !== void 0 && dragStartY !== void 0) {\n      const diff = Math.abs(event.clientY - dragStartY);\n      if (diff > 20) {\n        setDragRowActive(true);\n      }\n    } else if (resizeCol !== void 0 && resizeColStartX !== void 0) {\n      const column = columns[resizeCol];\n      const newWidth = event.clientX - resizeColStartX;\n      onColumnResize == null ? void 0 : onColumnResize(column, offsetColumnSize(column, newWidth, minColumnWidth, maxColumnWidth), resizeCol);\n      lastResizeWidthRef.current = newWidth;\n      if ((selectedColumns == null ? void 0 : selectedColumns.first()) === resizeCol) {\n        for (const c of selectedColumns) {\n          if (c === resizeCol)\n            continue;\n          const col = columns[c];\n          onColumnResize == null ? void 0 : onColumnResize(col, offsetColumnSize(col, lastResizeWidthRef.current, minColumnWidth, maxColumnWidth), c);\n        }\n      }\n    }\n  }, [\n    dragCol,\n    dragStartX,\n    dragRow,\n    dragStartY,\n    resizeCol,\n    resizeColStartX,\n    columns,\n    minColumnWidth,\n    maxColumnWidth,\n    onColumnResize,\n    selectedColumns\n  ]);\n  const getMangledCellContent = React26.useCallback((cell) => {\n    if (dragRow === void 0 || dropRow === void 0)\n      return getCellContent(cell);\n    let [col, row] = cell;\n    if (row === dropRow) {\n      row = dragRow;\n    } else {\n      if (row > dropRow)\n        row -= 1;\n      if (row >= dragRow)\n        row += 1;\n    }\n    return getCellContent([col, row]);\n  }, [dragRow, dropRow, getCellContent]);\n  const dragStart = p.onDragStart;\n  const onDragStart = React26.useCallback((args) => {\n    dragStart == null ? void 0 : dragStart(args);\n    if (!args.defaultPrevented()) {\n      clearAll();\n    }\n  }, [clearAll, dragStart]);\n  return /* @__PURE__ */ React26.createElement(data_grid_default, {\n    accessibilityHeight: p.accessibilityHeight,\n    cellXOffset: p.cellXOffset,\n    cellYOffset: p.cellYOffset,\n    columns: p.columns,\n    enableGroups: p.enableGroups,\n    freezeColumns: p.freezeColumns,\n    onCanvasFocused: p.onCanvasFocused,\n    onCanvasBlur: p.onCanvasBlur,\n    isFocused: p.isFocused,\n    onMouseMove: p.onMouseMove,\n    groupHeaderHeight: p.groupHeaderHeight,\n    fillHandle: p.fillHandle,\n    headerHeight: p.headerHeight,\n    height: p.height,\n    trailingRowType: p.trailingRowType,\n    rowHeight: p.rowHeight,\n    rows: p.rows,\n    highlightRegions: p.highlightRegions,\n    verticalBorder: p.verticalBorder,\n    width: p.width,\n    canvasRef: p.canvasRef,\n    onContextMenu: p.onContextMenu,\n    className: p.className,\n    theme: p.theme,\n    disabledRows: p.disabledRows,\n    isFilling: p.isFilling,\n    firstColAccessible: p.firstColAccessible,\n    drawCustomCell: p.drawCustomCell,\n    drawHeader: p.drawHeader,\n    eventTargetRef: p.eventTargetRef,\n    experimental: p.experimental,\n    getGroupDetails: p.getGroupDetails,\n    getRowThemeOverride: p.getRowThemeOverride,\n    headerIcons: p.headerIcons,\n    isDraggable: p.isDraggable,\n    onDragEnd: p.onDragEnd,\n    onCellFocused: p.onCellFocused,\n    onDragStart,\n    onDragOverCell: p.onDragOverCell,\n    onDragLeave: p.onDragLeave,\n    onDrop: p.onDrop,\n    onKeyDown: p.onKeyDown,\n    onKeyUp: p.onKeyUp,\n    prelightCells: p.prelightCells,\n    selection: p.selection,\n    translateX: p.translateX,\n    translateY: p.translateY,\n    smoothScrollX: p.smoothScrollX,\n    smoothScrollY: p.smoothScrollY,\n    getCellContent: getMangledCellContent,\n    isResizing: resizeCol !== void 0,\n    onHeaderMenuClick: onHeaderMenuClickMangled,\n    isDragging: dragColActive,\n    onItemHovered: onItemHoveredImpl,\n    onMouseDown: onMouseDownImpl,\n    allowResize: onColumnResize !== void 0,\n    onMouseUp: onMouseUpImpl,\n    dragAndDropState: dragOffset,\n    onMouseMoveRaw: onMouseMove,\n    ref: gridRef\n  });\n};\nvar data_grid_dnd_default = DataGridDnd;\n\n// src/scrolling-data-grid/infinite-scroller.tsx\ninit_esm2();\nimport * as React27 from \"react\";\n\n// src/common/resize-detector.ts\nimport { useLayoutEffect as useLayoutEffect6, useState as useState8, useRef as useRef8 } from \"react\";\nvar createNotifier = (setSize) => ({\n  width,\n  height\n}) => {\n  setSize((prev) => {\n    if (prev.width === width && prev.height === height) {\n      return prev;\n    }\n    return { width, height };\n  });\n};\nfunction useResizeDetector() {\n  const ref = useRef8(null);\n  const [size, setSize] = useState8({\n    width: void 0,\n    height: void 0\n  });\n  useLayoutEffect6(() => {\n    const notifyResize = createNotifier(setSize);\n    const resizeCallback = (entries) => {\n      for (const entry of entries) {\n        const { width, height } = entry && entry.contentRect || {};\n        notifyResize({ width, height });\n      }\n    };\n    const resizeObserver = new window.ResizeObserver(resizeCallback);\n    if (ref.current) {\n      resizeObserver.observe(ref.current, void 0);\n    }\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [ref.current]);\n  return { ref, ...size };\n}\n\n// src/scrolling-data-grid/infinite-scroller.tsx\nvar ScrollRegionStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"ScrollRegionStyle\",\n  class: \"s1jz82f8\",\n  vars: {\n    \"s1jz82f8-0\": [(p) => p.isSafari ? \"scroll\" : \"auto\"]\n  }\n});\nvar InfiniteScroller = (p) => {\n  var _a, _b, _c, _d;\n  const {\n    children,\n    clientHeight,\n    scrollHeight,\n    scrollWidth,\n    update,\n    draggable,\n    className,\n    preventDiagonalScrolling = false,\n    paddingBottom = 0,\n    paddingRight = 0,\n    rightElement,\n    rightElementProps,\n    scrollRef,\n    scrollToEnd,\n    minimap,\n    style\n  } = p;\n  const padders = [];\n  const rightElementSticky = (_a = rightElementProps == null ? void 0 : rightElementProps.sticky) != null ? _a : false;\n  const rightElementFill = (_b = rightElementProps == null ? void 0 : rightElementProps.fill) != null ? _b : false;\n  const offsetY = React27.useRef(0);\n  const lastScrollY = React27.useRef(0);\n  const scroller = React27.useRef(null);\n  const dpr = window.devicePixelRatio;\n  React27.useEffect(() => {\n    const el = scroller.current;\n    if (el === null || scrollToEnd !== true)\n      return;\n    el.scrollLeft = el.scrollWidth - el.clientWidth;\n  }, [scrollToEnd]);\n  const lastScrollPosition = React27.useRef({\n    scrollLeft: 0,\n    scrollTop: 0,\n    lockDirection: void 0\n  });\n  const resetHandle = React27.useRef(0);\n  const rightWrapRef = React27.useRef(null);\n  const onScroll = React27.useCallback(() => {\n    var _a2, _b2, _c2, _d2;\n    const el = scroller.current;\n    if (el === null)\n      return;\n    let scrollTop = el.scrollTop;\n    let scrollLeft = el.scrollLeft;\n    const lastScrollTop = lastScrollPosition.current.scrollTop;\n    const lastScrollLeft = lastScrollPosition.current.scrollLeft;\n    const dx = scrollLeft - lastScrollLeft;\n    const dy = scrollTop - lastScrollTop;\n    if (dx !== 0 && dy !== 0 && preventDiagonalScrolling && lastScrollPosition.current.lockDirection === void 0) {\n      lastScrollPosition.current.lockDirection = Math.abs(dx) > Math.abs(dy) ? [lastScrollLeft, void 0] : [void 0, lastScrollTop];\n    }\n    const lock = lastScrollPosition.current.lockDirection;\n    scrollLeft = (_a2 = lock == null ? void 0 : lock[0]) != null ? _a2 : scrollLeft;\n    scrollTop = (_b2 = lock == null ? void 0 : lock[1]) != null ? _b2 : scrollTop;\n    lastScrollPosition.current.scrollLeft = scrollLeft;\n    lastScrollPosition.current.scrollTop = scrollTop;\n    const newY = Math.max(0, scrollTop);\n    const delta = lastScrollY.current - newY;\n    const scrollableHeight = el.scrollHeight - el.clientHeight;\n    const maxFakeY = Math.max(0, scrollHeight - el.clientHeight);\n    lastScrollY.current = newY;\n    if (scrollableHeight > 0 && (Math.abs(delta) > 2e3 || newY === 0 || newY === scrollableHeight) && scrollHeight > el.scrollHeight + 5) {\n      const prog = newY / scrollableHeight;\n      const recomputed = (scrollHeight - el.clientHeight) * prog;\n      offsetY.current = recomputed - newY;\n    }\n    if (resetHandle.current > 0) {\n      window.clearTimeout(resetHandle.current);\n    }\n    if (lock !== void 0) {\n      resetHandle.current = window.setTimeout(() => {\n        var _a3;\n        const [lx, ly] = (_a3 = lastScrollPosition.current.lockDirection) != null ? _a3 : [];\n        if (lx !== void 0) {\n          el.scrollLeft = lx;\n        } else if (ly !== void 0) {\n          el.scrollTop = ly;\n        }\n        lastScrollPosition.current.lockDirection = void 0;\n        resetHandle.current = 0;\n      }, 200);\n    }\n    update({\n      x: Math.max(0, scrollLeft),\n      y: Math.min(maxFakeY, newY + offsetY.current),\n      width: el.clientWidth - paddingRight,\n      height: el.clientHeight - paddingBottom,\n      paddingRight: (_d2 = (_c2 = rightWrapRef.current) == null ? void 0 : _c2.clientWidth) != null ? _d2 : 0\n    });\n  }, [paddingBottom, paddingRight, scrollHeight, update, preventDiagonalScrolling]);\n  const onScrollRef = React27.useRef(onScroll);\n  onScrollRef.current = onScroll;\n  const lastProps = React27.useRef();\n  const nomEvent = React27.useCallback((e) => {\n    e.stopPropagation();\n  }, []);\n  React27.useEffect(() => {\n    onScroll();\n  }, [onScroll, paddingBottom, paddingRight]);\n  const setRefs = React27.useCallback((instance) => {\n    scroller.current = instance;\n    if (scrollRef !== void 0) {\n      scrollRef.current = instance;\n    }\n  }, [scrollRef]);\n  let key = 0;\n  let h = 0;\n  padders.push(/* @__PURE__ */ React27.createElement(\"div\", {\n    key: key++,\n    style: {\n      width: scrollWidth,\n      height: 0\n    }\n  }));\n  while (h < scrollHeight) {\n    const toAdd = Math.min(5e6, scrollHeight - h);\n    padders.push(/* @__PURE__ */ React27.createElement(\"div\", {\n      key: key++,\n      style: {\n        width: 0,\n        height: toAdd\n      }\n    }));\n    h += toAdd;\n  }\n  const {\n    ref,\n    width,\n    height\n  } = useResizeDetector();\n  if (((_c = lastProps.current) == null ? void 0 : _c.height) !== height || ((_d = lastProps.current) == null ? void 0 : _d.width) !== width) {\n    window.setTimeout(() => onScrollRef.current(), 0);\n    lastProps.current = {\n      width,\n      height\n    };\n  }\n  if ((width != null ? width : 0) === 0 || (height != null ? height : 0) === 0)\n    return /* @__PURE__ */ React27.createElement(\"div\", {\n      style,\n      ref\n    });\n  return /* @__PURE__ */ React27.createElement(\"div\", {\n    style,\n    ref\n  }, /* @__PURE__ */ React27.createElement(ScrollRegionStyle, {\n    isSafari: browserIsSafari.value\n  }, minimap, /* @__PURE__ */ React27.createElement(\"div\", {\n    className: \"dvn-underlay\"\n  }, children), /* @__PURE__ */ React27.createElement(\"div\", {\n    ref: setRefs,\n    style: lastProps.current,\n    draggable,\n    onDragStart: (e) => {\n      if (!draggable) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n    className: \"dvn-scroller \" + (className != null ? className : \"\"),\n    onScroll\n  }, /* @__PURE__ */ React27.createElement(\"div\", {\n    className: \"dvn-scroll-inner\" + (rightElement === void 0 ? \" hidden\" : \"\")\n  }, /* @__PURE__ */ React27.createElement(\"div\", {\n    className: \"dvn-stack\"\n  }, padders), rightElement !== void 0 && /* @__PURE__ */ React27.createElement(React27.Fragment, null, !rightElementFill && /* @__PURE__ */ React27.createElement(\"div\", {\n    className: \"dvn-spacer\"\n  }), /* @__PURE__ */ React27.createElement(\"div\", {\n    ref: rightWrapRef,\n    onMouseDown: nomEvent,\n    onMouseUp: nomEvent,\n    onMouseMove: nomEvent,\n    style: {\n      height,\n      maxHeight: clientHeight - Math.ceil(dpr % 1),\n      position: \"sticky\",\n      top: 0,\n      paddingLeft: 1,\n      marginBottom: -40,\n      marginRight: paddingRight,\n      flexGrow: rightElementFill ? 1 : void 0,\n      right: rightElementSticky ? paddingRight != null ? paddingRight : 0 : void 0,\n      pointerEvents: \"auto\"\n    }\n  }, rightElement))))));\n};\n\n// src/scrolling-data-grid/scrolling-data-grid.tsx\nimport clamp4 from \"lodash/clamp.js\";\nvar MinimapStyle = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"MinimapStyle\",\n  class: \"m15w2ly5\"\n});\nvar GridScroller = (p) => {\n  var _a, _b, _c;\n  const {\n    columns,\n    rows,\n    rowHeight,\n    headerHeight,\n    groupHeaderHeight,\n    enableGroups,\n    freezeColumns,\n    experimental,\n    clientSize\n  } = p;\n  const {\n    paddingRight,\n    paddingBottom\n  } = experimental != null ? experimental : {};\n  const {\n    className,\n    onVisibleRegionChanged,\n    scrollToEnd,\n    scrollRef,\n    preventDiagonalScrolling,\n    rightElement,\n    rightElementProps,\n    overscrollX,\n    overscrollY,\n    showMinimap = false,\n    ...dataGridProps\n  } = p;\n  const {\n    smoothScrollX = false,\n    smoothScrollY = false\n  } = p;\n  const [clientWidth, clientHeight] = clientSize;\n  const last = React28.useRef();\n  const lastX = React28.useRef();\n  const lastY = React28.useRef();\n  const lastSize = React28.useRef();\n  const width = React28.useMemo(() => {\n    let r = Math.max(0, overscrollX != null ? overscrollX : 0);\n    for (const c of columns) {\n      r += c.width;\n    }\n    return r;\n  }, [columns, overscrollX]);\n  let height = enableGroups ? headerHeight + groupHeaderHeight : headerHeight;\n  if (typeof rowHeight === \"number\") {\n    height += rows * rowHeight;\n  } else {\n    for (let r = 0; r < rows; r++) {\n      height += rowHeight(r);\n    }\n  }\n  if (overscrollY !== void 0) {\n    height += overscrollY;\n  }\n  const lastArgs = React28.useRef();\n  const processArgs = React28.useCallback(() => {\n    var _a2, _b2, _c2;\n    const args = lastArgs.current;\n    if (args === void 0)\n      return;\n    let x = 0;\n    let tx = 0;\n    let cellRight = 0;\n    let cellX = 0;\n    let stickyColWidth = 0;\n    for (let i = 0; i < freezeColumns; i++) {\n      stickyColWidth += columns[i].width;\n    }\n    for (const c of columns) {\n      const cx3 = x - stickyColWidth;\n      if (args.x >= cx3 + c.width) {\n        x += c.width;\n        cellX++;\n        cellRight++;\n      } else if (args.x > cx3) {\n        x += c.width;\n        if (smoothScrollX) {\n          tx += cx3 - args.x;\n        } else {\n          cellX++;\n        }\n        cellRight++;\n      } else if (args.x + args.width > cx3) {\n        x += c.width;\n        cellRight++;\n      } else {\n        break;\n      }\n    }\n    let ty = 0;\n    let cellY = 0;\n    let cellBottom = 0;\n    if (typeof rowHeight === \"number\") {\n      if (smoothScrollY) {\n        cellY = Math.floor(args.y / rowHeight);\n        ty = cellY * rowHeight - args.y;\n      } else {\n        cellY = Math.ceil(args.y / rowHeight);\n      }\n      cellBottom = Math.ceil(args.height / rowHeight) + cellY;\n      if (ty < 0)\n        cellBottom++;\n    } else {\n      let y = 0;\n      for (let row = 0; row < rows; row++) {\n        const rh = rowHeight(row);\n        const cy = y + (smoothScrollY ? 0 : rh / 2);\n        if (args.y >= y + rh) {\n          y += rh;\n          cellY++;\n          cellBottom++;\n        } else if (args.y > cy) {\n          y += rh;\n          if (smoothScrollY) {\n            ty += cy - args.y;\n          } else {\n            cellY++;\n          }\n          cellBottom++;\n        } else if (args.y + args.height > rh / 2 + y) {\n          y += rh;\n          cellBottom++;\n        } else {\n          break;\n        }\n      }\n    }\n    const rect = {\n      x: cellX,\n      y: cellY,\n      width: cellRight - cellX,\n      height: cellBottom - cellY\n    };\n    const oldRect = last.current;\n    if (oldRect === void 0 || oldRect.y !== rect.y || oldRect.x !== rect.x || oldRect.height !== rect.height || oldRect.width !== rect.width || lastX.current !== tx || lastY.current !== ty || args.width !== ((_a2 = lastSize.current) == null ? void 0 : _a2[0]) || args.height !== ((_b2 = lastSize.current) == null ? void 0 : _b2[1])) {\n      onVisibleRegionChanged == null ? void 0 : onVisibleRegionChanged({\n        x: cellX,\n        y: cellY,\n        width: cellRight - cellX,\n        height: cellBottom - cellY\n      }, args.width, args.height, (_c2 = args.paddingRight) != null ? _c2 : 0, tx, ty);\n      last.current = rect;\n      lastX.current = tx;\n      lastY.current = ty;\n      lastSize.current = [args.width, args.height];\n    }\n  }, [columns, rowHeight, rows, onVisibleRegionChanged, freezeColumns, smoothScrollX, smoothScrollY]);\n  const onScrollUpdate = React28.useCallback((args) => {\n    lastArgs.current = args;\n    processArgs();\n  }, [processArgs]);\n  React28.useEffect(() => {\n    processArgs();\n  }, [processArgs]);\n  const scroller = (_a = scrollRef == null ? void 0 : scrollRef.current) != null ? _a : void 0;\n  const aspect = clamp4(width / height, 2 / 3, 1.5);\n  const maxSize = 200;\n  const w = aspect > 1 ? maxSize : Math.ceil(maxSize * aspect);\n  const h = aspect > 1 ? Math.ceil(maxSize / aspect) : maxSize;\n  const hRatio = w / width;\n  const vRatio = h / height;\n  const vWidth = Math.min(clientWidth * Math.max(hRatio, 0.01), w);\n  const vHeight = Math.min(clientHeight * Math.max(vRatio, 0.01), h);\n  const left = ((_b = scroller == null ? void 0 : scroller.scrollLeft) != null ? _b : 0) / (width - clientWidth) * (w - vWidth);\n  const top = ((_c = scroller == null ? void 0 : scroller.scrollTop) != null ? _c : 0) / (height - clientHeight) * (h - vHeight);\n  const minimap = React28.useMemo(() => {\n    if (!showMinimap || vWidth === 0 || vHeight === 0)\n      return void 0;\n    const handleMouse = (e) => {\n      if (scroller === void 0)\n        return;\n      const bounds = e.currentTarget.getBoundingClientRect();\n      const x = e.clientX - bounds.x - vWidth / 2;\n      const y = e.clientY - bounds.y - vHeight / 2;\n      const newScrollLeft = (width - scroller.clientWidth) * (x / (w - vWidth));\n      const newScrollTop = (height - scroller.clientHeight) * (y / (h - vHeight));\n      scroller.scrollTo({\n        left: newScrollLeft,\n        top: newScrollTop,\n        behavior: e.type === \"mousemove\" ? \"auto\" : \"smooth\"\n      });\n    };\n    return /* @__PURE__ */ React28.createElement(MinimapStyle, {\n      style: {\n        width: w,\n        height: h\n      },\n      \"data-testid\": \"minimap-container\",\n      onMouseMove: (e) => {\n        if (e.buttons !== 1)\n          return;\n        handleMouse(e);\n      },\n      onClick: handleMouse\n    }, /* @__PURE__ */ React28.createElement(\"div\", {\n      className: \"header\"\n    }), /* @__PURE__ */ React28.createElement(\"div\", {\n      className: \"locationMarker\",\n      onDragStart: (e) => e.preventDefault(),\n      style: {\n        left,\n        top,\n        width: vWidth,\n        height: vHeight,\n        borderRadius: Math.min(vWidth, vHeight * 0.2, 9)\n      }\n    }));\n  }, [h, height, left, scroller, showMinimap, top, vHeight, vWidth, w, width]);\n  return /* @__PURE__ */ React28.createElement(InfiniteScroller, {\n    scrollRef,\n    minimap,\n    className,\n    preventDiagonalScrolling,\n    draggable: dataGridProps.isDraggable === true || typeof dataGridProps.isDraggable === \"string\",\n    scrollWidth: width + (paddingRight != null ? paddingRight : 0),\n    scrollHeight: height + (paddingBottom != null ? paddingBottom : 0),\n    clientHeight,\n    rightElement,\n    paddingBottom,\n    paddingRight,\n    rightElementProps,\n    update: onScrollUpdate,\n    scrollToEnd\n  }, /* @__PURE__ */ React28.createElement(data_grid_dnd_default, {\n    eventTargetRef: scrollRef,\n    width: clientWidth,\n    height: clientHeight,\n    ...dataGridProps\n  }));\n};\nvar scrolling_data_grid_default = GridScroller;\n\n// src/data-grid-search/data-grid-search-style.tsx\ninit_esm2();\nvar SearchWrapper = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"SearchWrapper\",\n  class: \"sxep88s\",\n  vars: {\n    \"sxep88s-0\": [(p) => p.showSearch ? 0 : 400, \"px\"]\n  }\n});\n\n// src/data-grid-search/data-grid-search.tsx\nvar upArrow = /* @__PURE__ */ React29.createElement(\"svg\", {\n  className: \"button-icon\",\n  viewBox: \"0 0 512 512\"\n}, /* @__PURE__ */ React29.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: \"48\",\n  d: \"M112 244l144-144 144 144M256 120v292\"\n}));\nvar downArrow = /* @__PURE__ */ React29.createElement(\"svg\", {\n  className: \"button-icon\",\n  viewBox: \"0 0 512 512\"\n}, /* @__PURE__ */ React29.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: \"48\",\n  d: \"M112 268l144 144 144-144M256 392V100\"\n}));\nvar closeX = /* @__PURE__ */ React29.createElement(\"svg\", {\n  className: \"button-icon\",\n  viewBox: \"0 0 512 512\"\n}, /* @__PURE__ */ React29.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: \"32\",\n  d: \"M368 368L144 144M368 144L144 368\"\n}));\nvar targetSearchTimeMS = 10;\nvar DataGridSearch = (p) => {\n  const {\n    getCellsForSelection,\n    onSearchResultsChanged,\n    showSearch = false,\n    onSearchClose,\n    canvasRef,\n    cellYOffset,\n    rows,\n    columns\n  } = p;\n  const [searchID] = React29.useState(() => \"search-box-\" + Math.round(Math.random() * 1e3));\n  const [searchString, setSearchString] = React29.useState(\"\");\n  const [searchStatus, setSearchStatus] = React29.useState();\n  const searchStatusRef = React29.useRef(searchStatus);\n  searchStatusRef.current = searchStatus;\n  const abortControllerRef = React29.useRef(new AbortController());\n  const inputRef = React29.useRef(null);\n  const searchHandle = React29.useRef();\n  const [searchResults, setSearchResults] = React29.useState([]);\n  const cancelSearch = React29.useCallback(() => {\n    if (searchHandle.current !== void 0) {\n      window.cancelAnimationFrame(searchHandle.current);\n      searchHandle.current = void 0;\n      abortControllerRef.current.abort();\n    }\n  }, []);\n  const cellYOffsetRef = React29.useRef(cellYOffset);\n  cellYOffsetRef.current = cellYOffset;\n  const beginSearch = React29.useCallback((str) => {\n    const regex = new RegExp(str.replace(/([$()*+.?[\\\\\\]^{|}-])/g, \"\\\\$1\"), \"i\");\n    let startY = cellYOffsetRef.current;\n    let searchStride = Math.min(10, rows);\n    let rowsSearched = 0;\n    setSearchStatus(void 0);\n    setSearchResults([]);\n    const runningResult = [];\n    const tick = async () => {\n      var _a, _b;\n      if (getCellsForSelection === void 0)\n        return;\n      const tStart = performance.now();\n      const rowsLeft = rows - rowsSearched;\n      let data = getCellsForSelection({\n        x: 0,\n        y: startY,\n        width: columns.length,\n        height: Math.min(searchStride, rowsLeft, rows - startY)\n      }, abortControllerRef.current.signal);\n      if (typeof data === \"function\") {\n        data = await data();\n      }\n      let added = false;\n      for (const [row, d] of data.entries()) {\n        for (const [col, cell] of d.entries()) {\n          let testString;\n          switch (cell.kind) {\n            case GridCellKind.Text:\n            case GridCellKind.Number:\n              testString = cell.displayData;\n              break;\n            case GridCellKind.Uri:\n            case GridCellKind.Markdown:\n              testString = cell.data;\n              break;\n            case GridCellKind.Boolean:\n              testString = typeof cell.data === \"boolean\" ? cell.data.toString() : void 0;\n              break;\n            case GridCellKind.Image:\n            case GridCellKind.Bubble:\n              testString = cell.data.join(\"\\u{1F433}\");\n              break;\n            case GridCellKind.Custom:\n              testString = cell.copyData;\n              break;\n          }\n          if (testString !== void 0 && regex.test(testString)) {\n            runningResult.push([col, row + startY]);\n            added = true;\n          }\n        }\n      }\n      const tEnd = performance.now();\n      if (added) {\n        setSearchResults([...runningResult]);\n      }\n      rowsSearched += data.length;\n      assert(rowsSearched <= rows);\n      const selectedIndex = (_b = (_a = searchStatusRef.current) == null ? void 0 : _a.selectedIndex) != null ? _b : -1;\n      setSearchStatus({\n        results: runningResult.length,\n        rowsSearched,\n        selectedIndex\n      });\n      onSearchResultsChanged == null ? void 0 : onSearchResultsChanged(runningResult, selectedIndex);\n      if (startY + searchStride >= rows) {\n        startY = 0;\n      } else {\n        startY += searchStride;\n      }\n      const tElapsed = tEnd - tStart;\n      const rounded = Math.max(tElapsed, 1);\n      const scalar = targetSearchTimeMS / rounded;\n      searchStride = Math.ceil(searchStride * scalar);\n      if (rowsSearched < rows && runningResult.length < 1e3) {\n        searchHandle.current = window.requestAnimationFrame(tick);\n      }\n    };\n    cancelSearch();\n    searchHandle.current = window.requestAnimationFrame(tick);\n  }, [cancelSearch, columns.length, getCellsForSelection, onSearchResultsChanged, rows]);\n  const onClose = React29.useCallback(() => {\n    var _a;\n    onSearchClose == null ? void 0 : onSearchClose();\n    setSearchStatus(void 0);\n    setSearchResults([]);\n    onSearchResultsChanged == null ? void 0 : onSearchResultsChanged([], -1);\n    cancelSearch();\n    (_a = canvasRef == null ? void 0 : canvasRef.current) == null ? void 0 : _a.focus();\n  }, [cancelSearch, canvasRef, onSearchClose, onSearchResultsChanged]);\n  const onSearchChange = React29.useCallback((event) => {\n    setSearchString(event.target.value);\n    if (event.target.value === \"\") {\n      setSearchStatus(void 0);\n      setSearchResults([]);\n      cancelSearch();\n    } else {\n      beginSearch(event.target.value);\n    }\n  }, [beginSearch, cancelSearch]);\n  React29.useEffect(() => {\n    if (showSearch && inputRef.current !== null) {\n      setSearchString(\"\");\n      inputRef.current.focus({ preventScroll: true });\n    }\n  }, [showSearch]);\n  const onNext = React29.useCallback((ev) => {\n    var _a;\n    (_a = ev == null ? void 0 : ev.stopPropagation) == null ? void 0 : _a.call(ev);\n    if (searchStatus === void 0)\n      return;\n    const newIndex = (searchStatus.selectedIndex + 1) % searchStatus.results;\n    setSearchStatus({\n      ...searchStatus,\n      selectedIndex: newIndex\n    });\n    onSearchResultsChanged == null ? void 0 : onSearchResultsChanged(searchResults, newIndex);\n  }, [searchStatus, onSearchResultsChanged, searchResults]);\n  const onPrev = React29.useCallback((ev) => {\n    var _a;\n    (_a = ev == null ? void 0 : ev.stopPropagation) == null ? void 0 : _a.call(ev);\n    if (searchStatus === void 0)\n      return;\n    let newIndex = (searchStatus.selectedIndex - 1) % searchStatus.results;\n    if (newIndex < 0)\n      newIndex += searchStatus.results;\n    setSearchStatus({\n      ...searchStatus,\n      selectedIndex: newIndex\n    });\n    onSearchResultsChanged == null ? void 0 : onSearchResultsChanged(searchResults, newIndex);\n  }, [onSearchResultsChanged, searchResults, searchStatus]);\n  const onSearchKeyDown = React29.useCallback((event) => {\n    if ((event.ctrlKey || event.metaKey) && event.nativeEvent.code === \"KeyF\" || event.key === \"Escape\") {\n      onClose();\n      event.stopPropagation();\n      event.preventDefault();\n    } else if (event.key === \"Enter\") {\n      if (event.shiftKey) {\n        onPrev();\n      } else {\n        onNext();\n      }\n    }\n  }, [onClose, onNext, onPrev]);\n  React29.useEffect(() => {\n    return () => {\n      cancelSearch();\n    };\n  }, [cancelSearch]);\n  const searchbox = React29.useMemo(() => {\n    var _a, _b, _c;\n    let resultString;\n    if (searchStatus !== void 0) {\n      resultString = searchStatus.results >= 1e3 ? `over 1000` : `${searchStatus.results} result${searchStatus.results !== 1 ? \"s\" : \"\"}`;\n      if (searchStatus.selectedIndex >= 0) {\n        resultString = `${searchStatus.selectedIndex + 1} of ${resultString}`;\n      }\n    }\n    const cancelEvent = (ev) => {\n      ev.stopPropagation();\n    };\n    const rowsSearchedProgress = Math.floor(((_a = searchStatus == null ? void 0 : searchStatus.rowsSearched) != null ? _a : 0) / rows * 100);\n    const progressStyle = {\n      width: `${rowsSearchedProgress}%`\n    };\n    return /* @__PURE__ */ React29.createElement(SearchWrapper, {\n      showSearch,\n      onMouseDown: cancelEvent,\n      onMouseMove: cancelEvent,\n      onMouseUp: cancelEvent,\n      onClick: cancelEvent\n    }, /* @__PURE__ */ React29.createElement(\"div\", {\n      className: \"search-bar-inner\"\n    }, /* @__PURE__ */ React29.createElement(\"input\", {\n      id: searchID,\n      \"aria-hidden\": !showSearch,\n      \"data-testid\": \"search-input\",\n      ref: inputRef,\n      onChange: onSearchChange,\n      value: searchString,\n      tabIndex: showSearch ? void 0 : -1,\n      onKeyDownCapture: onSearchKeyDown\n    }), /* @__PURE__ */ React29.createElement(\"button\", {\n      \"aria-label\": \"Previous Result\",\n      \"aria-hidden\": !showSearch,\n      tabIndex: showSearch ? void 0 : -1,\n      onClick: onPrev,\n      disabled: ((_b = searchStatus == null ? void 0 : searchStatus.results) != null ? _b : 0) === 0\n    }, upArrow), /* @__PURE__ */ React29.createElement(\"button\", {\n      \"aria-label\": \"Next Result\",\n      \"aria-hidden\": !showSearch,\n      tabIndex: showSearch ? void 0 : -1,\n      onClick: onNext,\n      disabled: ((_c = searchStatus == null ? void 0 : searchStatus.results) != null ? _c : 0) === 0\n    }, downArrow), onSearchClose !== void 0 && /* @__PURE__ */ React29.createElement(\"button\", {\n      \"aria-label\": \"Close Search\",\n      \"aria-hidden\": !showSearch,\n      \"data-testid\": \"search-close-button\",\n      tabIndex: showSearch ? void 0 : -1,\n      onClick: onClose\n    }, closeX)), searchStatus !== void 0 ? /* @__PURE__ */ React29.createElement(React29.Fragment, null, /* @__PURE__ */ React29.createElement(\"div\", {\n      className: \"search-status\"\n    }, /* @__PURE__ */ React29.createElement(\"div\", {\n      \"data-testid\": \"search-result-area\"\n    }, resultString)), /* @__PURE__ */ React29.createElement(\"div\", {\n      className: \"search-progress\",\n      style: progressStyle\n    })) : /* @__PURE__ */ React29.createElement(\"div\", {\n      className: \"search-status\"\n    }, /* @__PURE__ */ React29.createElement(\"label\", {\n      htmlFor: searchID\n    }, \"Type to search\")));\n  }, [\n    onClose,\n    onNext,\n    onPrev,\n    onSearchChange,\n    onSearchClose,\n    onSearchKeyDown,\n    rows,\n    searchStatus,\n    searchString,\n    showSearch,\n    searchID\n  ]);\n  return /* @__PURE__ */ React29.createElement(React29.Fragment, null, /* @__PURE__ */ React29.createElement(scrolling_data_grid_default, {\n    accessibilityHeight: p.accessibilityHeight,\n    cellXOffset: p.cellXOffset,\n    cellYOffset: p.cellYOffset,\n    columns: p.columns,\n    enableGroups: p.enableGroups,\n    freezeColumns: p.freezeColumns,\n    preventDiagonalScrolling: p.preventDiagonalScrolling,\n    getCellContent: p.getCellContent,\n    groupHeaderHeight: p.groupHeaderHeight,\n    onCanvasFocused: p.onCanvasFocused,\n    onCanvasBlur: p.onCanvasBlur,\n    isFocused: p.isFocused,\n    clientSize: p.clientSize,\n    headerHeight: p.headerHeight,\n    onContextMenu: p.onContextMenu,\n    isFilling: p.isFilling,\n    fillHandle: p.fillHandle,\n    trailingRowType: p.trailingRowType,\n    firstColAccessible: p.firstColAccessible,\n    lockColumns: p.lockColumns,\n    rowHeight: p.rowHeight,\n    onMouseMove: p.onMouseMove,\n    rows: p.rows,\n    highlightRegions: p.highlightRegions,\n    verticalBorder: p.verticalBorder,\n    canvasRef: p.canvasRef,\n    className: p.className,\n    theme: p.theme,\n    disabledRows: p.disabledRows,\n    drawCustomCell: p.drawCustomCell,\n    drawHeader: p.drawHeader,\n    experimental: p.experimental,\n    getGroupDetails: p.getGroupDetails,\n    getRowThemeOverride: p.getRowThemeOverride,\n    gridRef: p.gridRef,\n    headerIcons: p.headerIcons,\n    isDraggable: p.isDraggable,\n    onDragEnd: p.onDragEnd,\n    minColumnWidth: p.minColumnWidth,\n    maxColumnWidth: p.maxColumnWidth,\n    onCellFocused: p.onCellFocused,\n    onColumnMoved: p.onColumnMoved,\n    onColumnResize: p.onColumnResize,\n    onColumnResizeStart: p.onColumnResizeStart,\n    onColumnResizeEnd: p.onColumnResizeEnd,\n    onDragStart: p.onDragStart,\n    onDragOverCell: p.onDragOverCell,\n    onDragLeave: p.onDragLeave,\n    onDrop: p.onDrop,\n    onHeaderMenuClick: p.onHeaderMenuClick,\n    onItemHovered: p.onItemHovered,\n    onKeyUp: p.onKeyUp,\n    onMouseDown: p.onMouseDown,\n    onMouseUp: p.onMouseUp,\n    onRowMoved: p.onRowMoved,\n    onVisibleRegionChanged: p.onVisibleRegionChanged,\n    overscrollX: p.overscrollX,\n    overscrollY: p.overscrollY,\n    rightElement: p.rightElement,\n    rightElementProps: p.rightElementProps,\n    scrollRef: p.scrollRef,\n    scrollToEnd: p.scrollToEnd,\n    selection: p.selection,\n    showMinimap: p.showMinimap,\n    smoothScrollX: p.smoothScrollX,\n    smoothScrollY: p.smoothScrollY,\n    translateX: p.translateX,\n    translateY: p.translateY,\n    onKeyDown: p.onKeyDown,\n    prelightCells: searchResults\n  }), searchbox);\n};\nvar data_grid_search_default = DataGridSearch;\n\n// src/data-editor/group-rename.tsx\ninit_esm2();\nimport React30 from \"react\";\nvar RenameInput = /* @__PURE__ */ styled_default(\"input\")({\n  name: \"RenameInput\",\n  class: \"r1kzy40b\",\n  vars: {\n    \"r1kzy40b-0\": [(p) => Math.max(16, p.targetHeight - 10), \"px\"]\n  }\n});\nvar GroupRename = (p) => {\n  const {\n    bounds,\n    group,\n    onClose,\n    canvasBounds,\n    onFinish\n  } = p;\n  const [value, setValue] = React30.useState(group);\n  return /* @__PURE__ */ React30.createElement(ClickOutsideContainer, {\n    style: {\n      position: \"absolute\",\n      left: bounds.x - canvasBounds.left + 1,\n      top: bounds.y - canvasBounds.top,\n      width: bounds.width - 2,\n      height: bounds.height\n    },\n    className: \"c1sqdbw3\",\n    onClickOutside: onClose\n  }, /* @__PURE__ */ React30.createElement(RenameInput, {\n    targetHeight: bounds.height,\n    \"data-testid\": \"group-rename-input\",\n    value,\n    onBlur: onClose,\n    onFocus: (e) => e.target.setSelectionRange(0, value.length),\n    onChange: (e) => setValue(e.target.value),\n    onKeyDown: (e) => {\n      if (e.key === \"Enter\") {\n        onFinish(value);\n      } else if (e.key === \"Escape\") {\n        onClose();\n      }\n    },\n    autoFocus: true\n  }));\n};\n\n// src/data-editor/use-column-sizer.ts\nimport * as React31 from \"react\";\nvar defaultSize = 150;\nfunction measureCell(ctx, cell, theme) {\n  var _a;\n  if (cell.kind === GridCellKind.Custom)\n    return defaultSize;\n  const r = CellRenderers[cell.kind];\n  return (_a = r == null ? void 0 : r.measure(ctx, cell, theme)) != null ? _a : defaultSize;\n}\nfunction measureColumn(ctx, theme, c, colIndex, selectedData, minColumnWidth, maxColumnWidth, removeOutliers) {\n  let sizes = [];\n  if (selectedData !== void 0) {\n    sizes.push(...selectedData.map((row) => row[colIndex]).map((cell) => measureCell(ctx, cell, theme)));\n  }\n  if (sizes.length > 5 && removeOutliers) {\n    const average = sizes.reduce((a, b) => a + b) / sizes.length;\n    sizes = sizes.filter((a) => a < average * 2);\n  }\n  sizes.push(ctx.measureText(c.title).width + 16 + (c.icon === void 0 ? 0 : 28));\n  const biggest = Math.max(...sizes);\n  const final = Math.max(Math.ceil(minColumnWidth), Math.min(Math.floor(maxColumnWidth), Math.ceil(biggest)));\n  return {\n    ...c,\n    width: final\n  };\n}\nfunction useColumnSizer(columns, rows, getCellsForSelection, clientWidth, minColumnWidth, maxColumnWidth, theme, abortController) {\n  const rowsRef = React31.useRef(rows);\n  const getCellsForSelectionRef = React31.useRef(getCellsForSelection);\n  const themeRef = React31.useRef(theme);\n  rowsRef.current = rows;\n  getCellsForSelectionRef.current = getCellsForSelection;\n  themeRef.current = theme;\n  const [ctx] = React31.useState(() => {\n    const offscreen = document.createElement(\"canvas\");\n    return offscreen.getContext(\"2d\", { alpha: false });\n  });\n  const memoMap = React31.useRef({});\n  const lastColumns = React31.useRef();\n  const [selectedData, setSelectionData] = React31.useState();\n  React31.useLayoutEffect(() => {\n    const getCells = getCellsForSelectionRef.current;\n    if (getCells === void 0 || columns.every(isSizedGridColumn))\n      return;\n    let computeRows = Math.max(1, 10 - Math.floor(columns.length / 1e4));\n    let tailRows = 0;\n    if (computeRows < rowsRef.current && computeRows > 1) {\n      computeRows--;\n      tailRows = 1;\n    }\n    const computeArea = {\n      x: 0,\n      y: 0,\n      width: columns.length,\n      height: Math.min(rowsRef.current, computeRows)\n    };\n    const tailComputeArea = {\n      x: 0,\n      y: rowsRef.current - 1,\n      width: columns.length,\n      height: 1\n    };\n    const fn = async () => {\n      const getResult = getCells(computeArea, abortController.signal);\n      const tailGetResult = tailRows > 0 ? getCells(tailComputeArea, abortController.signal) : void 0;\n      let toSet;\n      if (typeof getResult === \"object\") {\n        toSet = getResult;\n      } else {\n        toSet = await resolveCellsThunk(getResult);\n      }\n      if (tailGetResult !== void 0) {\n        if (typeof tailGetResult === \"object\") {\n          toSet = [...toSet, ...tailGetResult];\n        } else {\n          toSet = [...toSet, ...await resolveCellsThunk(tailGetResult)];\n        }\n      }\n      lastColumns.current = columns;\n      setSelectionData(toSet);\n    };\n    void fn();\n  }, [abortController.signal, columns]);\n  return React31.useMemo(() => {\n    var _a;\n    const getRaw = () => {\n      if (columns.every(isSizedGridColumn)) {\n        return columns;\n      }\n      if (ctx === null) {\n        return columns.map((c) => {\n          if (isSizedGridColumn(c))\n            return c;\n          return {\n            ...c,\n            width: defaultSize\n          };\n        });\n      }\n      ctx.font = `${themeRef.current.baseFontStyle} ${themeRef.current.fontFamily}`;\n      return columns.map((c, colIndex) => {\n        if (isSizedGridColumn(c))\n          return c;\n        if (memoMap.current[c.id] !== void 0) {\n          return {\n            ...c,\n            width: memoMap.current[c.id]\n          };\n        }\n        if (selectedData === void 0 || lastColumns.current !== columns || c.id === void 0) {\n          return {\n            ...c,\n            width: defaultSize\n          };\n        }\n        const r = measureColumn(ctx, theme, c, colIndex, selectedData, minColumnWidth, maxColumnWidth, true);\n        memoMap.current[c.id] = r.width;\n        return r;\n      });\n    };\n    let result = getRaw();\n    let totalWidth = 0;\n    let totalGrow = 0;\n    const distribute = [];\n    for (const [i, c] of result.entries()) {\n      totalWidth += c.width;\n      if (c.grow !== void 0 && c.grow > 0) {\n        totalGrow += c.grow;\n        distribute.push(i);\n      }\n    }\n    if (totalWidth < clientWidth && distribute.length > 0) {\n      const writeable = [...result];\n      const extra = clientWidth - totalWidth;\n      let remaining = extra;\n      for (let di = 0; di < distribute.length; di++) {\n        const i = distribute[di];\n        const weighted = ((_a = result[i].grow) != null ? _a : 0) / totalGrow;\n        const toAdd = di === distribute.length - 1 ? remaining : Math.min(remaining, Math.floor(extra * weighted));\n        writeable[i] = {\n          ...result[i],\n          growOffset: toAdd,\n          width: result[i].width + toAdd\n        };\n        remaining -= toAdd;\n      }\n      result = writeable;\n    }\n    return result;\n  }, [clientWidth, columns, ctx, selectedData, theme, minColumnWidth, maxColumnWidth]);\n}\n\n// src/common/is-hotkey.ts\nfunction checkKey(key, args) {\n  if (key === void 0)\n    return false;\n  if (key.length > 1 && key.startsWith(\"_\")) {\n    const keycode = Number.parseInt(key.slice(1));\n    if (keycode !== args.keyCode)\n      return false;\n  } else {\n    if (key !== args.key)\n      return false;\n  }\n  return true;\n}\nfunction isHotkey(hotkey, args) {\n  if (hotkey.length === 0)\n    return false;\n  let wantCtrl = false;\n  let wantShift = false;\n  let wantAlt = false;\n  let wantMeta = false;\n  const split = hotkey.split(\"+\");\n  const key = split.pop();\n  if (!checkKey(key, args))\n    return false;\n  for (const accel of split) {\n    switch (accel) {\n      case \"ctrl\":\n        wantCtrl = true;\n        break;\n      case \"shift\":\n        wantShift = true;\n        break;\n      case \"alt\":\n        wantAlt = true;\n        break;\n      case \"meta\":\n        wantMeta = true;\n        break;\n      case \"primary\":\n        if (browserIsOSX.value) {\n          wantMeta = true;\n        } else {\n          wantCtrl = true;\n        }\n        break;\n    }\n  }\n  return args.altKey === wantAlt && args.ctrlKey === wantCtrl && args.shiftKey === wantShift && args.metaKey === wantMeta;\n}\n\n// src/data-grid/use-selection-behavior.ts\nimport React32 from \"react\";\nfunction useSelectionBehavior(gridSelection, setGridSelection, rangeBehavior, columnBehavior, rowBehavior, rangeSelect) {\n  const setCurrent = React32.useCallback((value, expand, append, trigger) => {\n    var _a, _b;\n    if ((rangeSelect === \"cell\" || rangeSelect === \"multi-cell\") && value !== void 0) {\n      value = {\n        ...value,\n        range: {\n          x: value.cell[0],\n          y: value.cell[1],\n          width: 1,\n          height: 1\n        }\n      };\n    }\n    const rangeMixable = rangeBehavior === \"mixed\" && (append || trigger === \"drag\");\n    const allowColumnCoSelect = columnBehavior === \"mixed\" && rangeMixable;\n    const allowRowCoSelect = rowBehavior === \"mixed\" && rangeMixable;\n    let newVal = {\n      current: value === void 0 ? void 0 : {\n        ...value,\n        rangeStack: trigger === \"drag\" ? (_b = (_a = gridSelection.current) == null ? void 0 : _a.rangeStack) != null ? _b : [] : []\n      },\n      columns: allowColumnCoSelect ? gridSelection.columns : CompactSelection.empty(),\n      rows: allowRowCoSelect ? gridSelection.rows : CompactSelection.empty()\n    };\n    const addLastRange = append && (rangeSelect === \"multi-rect\" || rangeSelect === \"multi-cell\");\n    if (addLastRange && newVal.current !== void 0 && gridSelection.current !== void 0) {\n      newVal = {\n        ...newVal,\n        current: {\n          ...newVal.current,\n          rangeStack: [...gridSelection.current.rangeStack, gridSelection.current.range]\n        }\n      };\n    }\n    setGridSelection(newVal, expand);\n  }, [columnBehavior, gridSelection, rangeBehavior, rangeSelect, rowBehavior, setGridSelection]);\n  const setSelectedRows = React32.useCallback((newRows, append, allowMixed) => {\n    newRows = newRows != null ? newRows : gridSelection.rows;\n    if (append !== void 0) {\n      newRows = newRows.add(append);\n    }\n    let newVal;\n    if (rowBehavior === \"exclusive\" && newRows.length > 0) {\n      newVal = {\n        current: void 0,\n        columns: CompactSelection.empty(),\n        rows: newRows\n      };\n    } else {\n      const rangeMixed = allowMixed && rangeBehavior === \"mixed\";\n      const columnMixed = allowMixed && columnBehavior === \"mixed\";\n      const current = !rangeMixed ? void 0 : gridSelection.current;\n      newVal = {\n        current,\n        columns: columnMixed ? gridSelection.columns : CompactSelection.empty(),\n        rows: newRows\n      };\n    }\n    setGridSelection(newVal, false);\n  }, [columnBehavior, gridSelection, rangeBehavior, rowBehavior, setGridSelection]);\n  const setSelectedColumns = React32.useCallback((newCols, append, allowMixed) => {\n    newCols = newCols != null ? newCols : gridSelection.columns;\n    if (append !== void 0) {\n      newCols = newCols.add(append);\n    }\n    let newVal;\n    if (columnBehavior === \"exclusive\" && newCols.length > 0) {\n      newVal = {\n        current: void 0,\n        rows: CompactSelection.empty(),\n        columns: newCols\n      };\n    } else {\n      const rangeMixed = allowMixed && rangeBehavior === \"mixed\";\n      const rowMixed = allowMixed && rowBehavior === \"mixed\";\n      const current = !rangeMixed ? void 0 : gridSelection.current;\n      newVal = {\n        current,\n        rows: rowMixed ? gridSelection.rows : CompactSelection.empty(),\n        columns: newCols\n      };\n    }\n    setGridSelection(newVal, false);\n  }, [columnBehavior, gridSelection, rangeBehavior, rowBehavior, setGridSelection]);\n  return [setCurrent, setSelectedRows, setSelectedColumns];\n}\n\n// src/data-editor/use-cells-for-selection.ts\nimport * as React33 from \"react\";\nfunction useCellsForSelection(getCellsForSelectionIn, getCellContent, rowMarkerOffset, abortController) {\n  const getCellsForSelectionDirectWhenValid = React33.useCallback((rect) => {\n    var _a;\n    if (getCellsForSelectionIn === true) {\n      const result = [];\n      for (let y = rect.y; y < rect.y + rect.height; y++) {\n        const row = [];\n        for (let x = rect.x; x < rect.x + rect.width; x++) {\n          if (x < 0) {\n            row.push({\n              kind: GridCellKind.Loading,\n              allowOverlay: false\n            });\n          } else {\n            row.push(getCellContent([x, y]));\n          }\n        }\n        result.push(row);\n      }\n      return result;\n    }\n    return (_a = getCellsForSelectionIn == null ? void 0 : getCellsForSelectionIn(rect, abortController.signal)) != null ? _a : [];\n  }, [abortController.signal, getCellContent, getCellsForSelectionIn]);\n  const getCellsForSelectionDirect = getCellsForSelectionIn !== void 0 ? getCellsForSelectionDirectWhenValid : void 0;\n  const getCellsForSelectionMangled = React33.useCallback((rect) => {\n    if (getCellsForSelectionDirect === void 0)\n      return [];\n    const newRect = {\n      ...rect,\n      x: rect.x - rowMarkerOffset\n    };\n    if (newRect.x < 0) {\n      newRect.x = 0;\n      newRect.width--;\n      const r = getCellsForSelectionDirect(newRect, abortController.signal);\n      if (typeof r === \"function\") {\n        return async () => (await r()).map((row) => [\n          { kind: GridCellKind.Loading, allowOverlay: false },\n          ...row\n        ]);\n      }\n      return r.map((row) => [{ kind: GridCellKind.Loading, allowOverlay: false }, ...row]);\n    }\n    return getCellsForSelectionDirect(newRect, abortController.signal);\n  }, [abortController.signal, getCellsForSelectionDirect, rowMarkerOffset]);\n  const getCellsForSelection = getCellsForSelectionIn !== void 0 ? getCellsForSelectionMangled : void 0;\n  return [getCellsForSelection, getCellsForSelectionDirect];\n}\n\n// src/data-editor/data-editor-fns.ts\nfunction expandSelection(newVal, getCellsForSelection, rowMarkerOffset, spanRangeBehavior, abortController) {\n  var _a, _b;\n  const origVal = newVal;\n  if (spanRangeBehavior === \"allowPartial\" || newVal.current === void 0)\n    return newVal;\n  if (getCellsForSelection !== void 0) {\n    let isFilled = false;\n    do {\n      if ((newVal == null ? void 0 : newVal.current) === void 0)\n        break;\n      const r = (_a = newVal.current) == null ? void 0 : _a.range;\n      const cells = [];\n      if (r.width > 2) {\n        const leftCells = getCellsForSelection({\n          x: r.x,\n          y: r.y,\n          width: 1,\n          height: r.height\n        }, abortController.signal);\n        if (typeof leftCells === \"function\") {\n          return origVal;\n        }\n        cells.push(...leftCells);\n        const rightCells = getCellsForSelection({\n          x: r.x + r.width - 1,\n          y: r.y,\n          width: 1,\n          height: r.height\n        }, abortController.signal);\n        if (typeof rightCells === \"function\") {\n          return origVal;\n        }\n        cells.push(...rightCells);\n      } else {\n        const rCells = getCellsForSelection({\n          x: r.x,\n          y: r.y,\n          width: r.width,\n          height: r.height\n        }, abortController.signal);\n        if (typeof rCells === \"function\") {\n          return origVal;\n        }\n        cells.push(...rCells);\n      }\n      let left = r.x - rowMarkerOffset;\n      let right = r.x + r.width - 1 - rowMarkerOffset;\n      for (const row of cells) {\n        for (const cell of row) {\n          if (cell.span === void 0)\n            continue;\n          left = Math.min(cell.span[0], left);\n          right = Math.max(cell.span[1], right);\n        }\n      }\n      if (left === r.x - rowMarkerOffset && right === r.x + r.width - 1 - rowMarkerOffset) {\n        isFilled = true;\n      } else {\n        newVal = {\n          current: {\n            cell: (_b = newVal.current.cell) != null ? _b : [0, 0],\n            range: {\n              x: left + rowMarkerOffset,\n              y: r.y,\n              width: right - left + 1,\n              height: r.height\n            },\n            rangeStack: newVal.current.rangeStack\n          },\n          columns: newVal.columns,\n          rows: newVal.rows\n        };\n      }\n    } while (!isFilled);\n  }\n  return newVal;\n}\nfunction descape(s) {\n  if (s.startsWith('\"') && s.endsWith('\"')) {\n    s = s.slice(1, -1).replace(/\"\"/g, '\"');\n  }\n  return s;\n}\nfunction unquote(str) {\n  var State;\n  (function(State2) {\n    State2[State2[\"None\"] = 0] = \"None\";\n    State2[State2[\"inString\"] = 1] = \"inString\";\n    State2[State2[\"inStringPostQuote\"] = 2] = \"inStringPostQuote\";\n  })(State || (State = {}));\n  const result = [];\n  let current = [];\n  let start = 0;\n  let state = 0;\n  str = str.trim().replace(/\\r\\n/g, \"\\n\");\n  let index2 = 0;\n  for (const char of str) {\n    switch (state) {\n      case 0:\n        if (char === \"\t\" || char === \"\\n\") {\n          current.push(str.slice(start, index2));\n          start = index2 + 1;\n          if (char === \"\\n\") {\n            result.push(current);\n            current = [];\n          }\n        } else if (char === `\"`) {\n          state = 1;\n        }\n        break;\n      case 1:\n        if (char === `\"`) {\n          state = 2;\n        }\n        break;\n      case 2:\n        if (char === '\"') {\n          state = 1;\n        } else if (char === \"\t\" || char === \"\\n\") {\n          current.push(descape(str.slice(start, index2)));\n          start = index2 + 1;\n          if (char === \"\\n\") {\n            result.push(current);\n            current = [];\n          }\n          state = 0;\n        } else {\n          state = 0;\n        }\n        break;\n    }\n    index2++;\n  }\n  if (start < str.length) {\n    current.push(descape(str.slice(start, str.length)));\n  }\n  result.push(current);\n  return result;\n}\nfunction decodeHTML(tableEl) {\n  var _a, _b;\n  const walkEl = [tableEl];\n  const result = [];\n  let current;\n  while (walkEl.length > 0) {\n    const el = walkEl.pop();\n    if (el === void 0)\n      break;\n    if (el instanceof HTMLTableElement || el.nodeName === \"TBODY\") {\n      walkEl.push(...[...el.children].reverse());\n    } else if (el instanceof HTMLTableRowElement) {\n      if (current !== void 0) {\n        result.push(current);\n      }\n      current = [];\n      walkEl.push(...[...el.children].reverse());\n    } else if (el instanceof HTMLTableCellElement) {\n      current == null ? void 0 : current.push((_b = (_a = el.innerText) != null ? _a : el.textContent) != null ? _b : \"\");\n    }\n  }\n  if (current !== void 0) {\n    result.push(current);\n  }\n  return result;\n}\nfunction escape(str) {\n  if (/[\\t\\n\"]/.test(str)) {\n    str = `\"${str.replace(/\"/g, '\"\"')}\"`;\n  }\n  return str;\n}\nvar formatBoolean = (val) => {\n  switch (val) {\n    case true:\n      return \"TRUE\";\n    case false:\n      return \"FALSE\";\n    case BooleanIndeterminate:\n      return \"INDETERMINATE\";\n    case BooleanEmpty:\n      return \"\";\n    default:\n      assertNever(val);\n  }\n};\nfunction copyToClipboard(cells, columnIndexes, e) {\n  var _a, _b, _c, _d;\n  const formatCell = (cell, index2, raw) => {\n    var _a2, _b2;\n    const colIndex = columnIndexes[index2];\n    if (cell.span !== void 0 && cell.span[0] !== colIndex)\n      return \"\";\n    switch (cell.kind) {\n      case GridCellKind.Text:\n      case GridCellKind.Number:\n        return escape(raw ? (_b2 = (_a2 = cell.data) == null ? void 0 : _a2.toString()) != null ? _b2 : \"\" : cell.displayData);\n      case GridCellKind.Markdown:\n      case GridCellKind.RowID:\n      case GridCellKind.Uri:\n        return escape(cell.data);\n      case GridCellKind.Image:\n      case GridCellKind.Bubble:\n        return cell.data.reduce((pv, cv) => `${escape(pv)},${escape(cv)}`);\n      case GridCellKind.Boolean:\n        return formatBoolean(cell.data);\n      case GridCellKind.Loading:\n        return raw ? \"\" : \"#LOADING\";\n      case GridCellKind.Protected:\n        return raw ? \"\" : \"************\";\n      case GridCellKind.Drilldown:\n        return cell.data.map((i) => i.text).reduce((pv, cv) => `${escape(pv)},${escape(cv)}`);\n      case GridCellKind.Custom:\n        return escape(cell.copyData);\n      default:\n        assertNever(cell);\n    }\n  };\n  const str = cells.map((row) => row.map((a, b) => formatCell(a, b, false)).join(\"\t\")).join(\"\\n\");\n  if (((_a = window.navigator.clipboard) == null ? void 0 : _a.write) !== void 0 || e !== void 0) {\n    const rootEl = document.createElement(\"tbody\");\n    for (const row of cells) {\n      const rowEl = document.createElement(\"tr\");\n      for (const [i, cell] of row.entries()) {\n        const cellEl = document.createElement(\"td\");\n        if (cell.kind === GridCellKind.Uri) {\n          const link = document.createElement(\"a\");\n          link.href = cell.data;\n          link.innerText = cell.data;\n          cellEl.append(link);\n        } else {\n          cellEl.innerText = formatCell(cell, i, true);\n        }\n        rowEl.append(cellEl);\n      }\n      rootEl.append(rowEl);\n    }\n    if (((_b = window.navigator.clipboard) == null ? void 0 : _b.write) !== void 0) {\n      void window.navigator.clipboard.write([\n        new ClipboardItem({\n          \"text/plain\": new Blob([str], { type: \"text/plain\" }),\n          \"text/html\": new Blob([`<table>${rootEl.outerHTML}</table>`], { type: \"text/html\" })\n        })\n      ]);\n    } else if (e !== void 0 && (e == null ? void 0 : e.clipboardData) !== null) {\n      try {\n        e.clipboardData.setData(\"text/plain\", str);\n        e.clipboardData.setData(\"text/html\", `<table>${rootEl.outerHTML}</table>`);\n      } catch (e2) {\n        void ((_c = window.navigator.clipboard) == null ? void 0 : _c.writeText(str));\n      }\n    }\n  } else {\n    void ((_d = window.navigator.clipboard) == null ? void 0 : _d.writeText(str));\n  }\n  e == null ? void 0 : e.preventDefault();\n}\n\n// src/data-editor-container/data-grid-container.tsx\ninit_esm2();\nimport * as React34 from \"react\";\nfunction toCss(x) {\n  if (typeof x === \"string\")\n    return x;\n  return `${x}px`;\n}\nvar Wrapper = /* @__PURE__ */ styled_default(\"div\")({\n  name: \"Wrapper\",\n  class: \"wzg2m5k\",\n  vars: {\n    \"wzg2m5k-0\": [(p) => p.innerWidth],\n    \"wzg2m5k-1\": [(p) => p.innerHeight]\n  }\n});\nvar DataEditorContainer = (p) => {\n  const {\n    inWidth,\n    inHeight,\n    children,\n    ...rest\n  } = p;\n  return /* @__PURE__ */ React34.createElement(Wrapper, {\n    innerHeight: toCss(inHeight),\n    innerWidth: toCss(inWidth),\n    ...rest\n  }, children);\n};\n\n// src/data-editor/use-autoscroll.ts\nimport React35 from \"react\";\nvar maxPxPerMs = 2;\nvar msToFullSpeed = 1300;\nfunction useAutoscroll(scrollDirection, scrollRef) {\n  const speedScalar = React35.useRef(0);\n  const [xDir, yDir] = scrollDirection != null ? scrollDirection : [0, 0];\n  React35.useEffect(() => {\n    if (xDir === 0 && yDir === 0) {\n      speedScalar.current = 0;\n      return;\n    }\n    let lastTime = 0;\n    const scrollFn = (curTime) => {\n      var _a;\n      if (lastTime === 0) {\n        lastTime = curTime;\n      } else {\n        const step = curTime - lastTime;\n        speedScalar.current = Math.min(1, speedScalar.current + step / msToFullSpeed);\n        const motion = speedScalar.current ** 1.618 * step * maxPxPerMs;\n        (_a = scrollRef.current) == null ? void 0 : _a.scrollBy(xDir * motion, yDir * motion);\n        lastTime = curTime;\n      }\n      t = window.requestAnimationFrame(scrollFn);\n    };\n    let t = window.requestAnimationFrame(scrollFn);\n    return () => window.cancelAnimationFrame(t);\n  }, [scrollRef, xDir, yDir]);\n}\n\n// src/data-editor/data-editor.tsx\nvar idCounter = 0;\nfunction getSpanStops(cells) {\n  return uniq(flatten(flatten(cells).filter((c) => c.span !== void 0).map((c) => {\n    var _a, _b, _c, _d;\n    return range(((_b = (_a = c.span) == null ? void 0 : _a[0]) != null ? _b : 0) + 1, ((_d = (_c = c.span) == null ? void 0 : _c[1]) != null ? _d : 0) + 1);\n  })));\n}\nfunction shiftSelection(input, offset) {\n  if (input === void 0 || offset === 0 || input.columns.length === 0 && input.current === void 0)\n    return input;\n  return {\n    current: input.current === void 0 ? void 0 : {\n      cell: [input.current.cell[0] + offset, input.current.cell[1]],\n      range: {\n        ...input.current.range,\n        x: input.current.range.x + offset\n      },\n      rangeStack: input.current.rangeStack.map((r) => ({\n        ...r,\n        x: r.x + offset\n      }))\n    },\n    rows: input.rows,\n    columns: input.columns.offset(offset)\n  };\n}\nvar keybindingDefaults = {\n  selectAll: true,\n  selectRow: true,\n  selectColumn: true,\n  downFill: false,\n  rightFill: false,\n  pageUp: false,\n  pageDown: false,\n  clear: true,\n  copy: true,\n  paste: true,\n  search: false,\n  first: true,\n  last: true\n};\nvar loadingCell2 = {\n  kind: GridCellKind.Loading,\n  allowOverlay: false\n};\nvar emptyGridSelection = {\n  columns: CompactSelection.empty(),\n  rows: CompactSelection.empty(),\n  current: void 0\n};\nvar DataEditorImpl = (p, forwardedRef) => {\n  var _a, _b, _c, _d, _e, _f;\n  const [gridSelectionInner, setGridSelectionInner] = React36.useState(emptyGridSelection);\n  const [overlay, setOverlay] = React36.useState();\n  const canvasRef = React36.useRef(null);\n  const [mouseState, setMouseState] = React36.useState();\n  const scrollRef = React36.useRef(null);\n  const lastSent = React36.useRef();\n  const {\n    rowMarkers = \"none\",\n    rowHeight = 34,\n    headerHeight = 36,\n    rowMarkerWidth: rowMarkerWidthRaw,\n    imageEditorOverride,\n    getRowThemeOverride,\n    markdownDivCreateNode\n  } = p;\n  const {\n    width,\n    height,\n    columns: columnsIn,\n    rows,\n    getCellContent,\n    onCellClicked,\n    onCellActivated,\n    onFinishedEditing,\n    coercePasteValue,\n    drawHeader: drawHeaderIn,\n    onHeaderClicked,\n    spanRangeBehavior = \"default\",\n    onGroupHeaderClicked,\n    onCellContextMenu,\n    className,\n    theme,\n    onHeaderContextMenu,\n    getCellsForSelection: getCellsForSelectionIn,\n    onGroupHeaderContextMenu,\n    onGroupHeaderRenamed,\n    onCellEdited,\n    onCellsEdited,\n    keybindings: keybindingsIn,\n    onRowAppended,\n    onColumnMoved,\n    validateCell: validateCellIn,\n    highlightRegions: highlightRegionsIn,\n    drawCell: drawCell2,\n    rangeSelect = \"rect\",\n    columnSelect = \"multi\",\n    rowSelect = \"multi\",\n    rangeSelectionBlending = \"exclusive\",\n    columnSelectionBlending = \"exclusive\",\n    rowSelectionBlending = \"exclusive\",\n    onDelete: onDeleteIn,\n    onDragStart,\n    onMouseMove,\n    onPaste,\n    groupHeaderHeight = headerHeight,\n    freezeColumns = 0,\n    rowSelectionMode = \"auto\",\n    rowMarkerStartIndex = 1,\n    onHeaderMenuClick,\n    getGroupDetails,\n    onSearchClose: onSearchCloseIn,\n    onItemHovered,\n    onSelectionCleared,\n    showSearch: showSearchIn,\n    onVisibleRegionChanged,\n    gridSelection: gridSelectionOuter,\n    onGridSelectionChange,\n    minColumnWidth: minColumnWidthIn = 50,\n    maxColumnWidth: maxColumnWidthIn = 500,\n    provideEditor,\n    trailingRowOptions,\n    verticalBorder,\n    onDragOverCell,\n    onDrop,\n    onColumnResize: onColumnResizeIn,\n    onColumnResizeEnd: onColumnResizeEndIn,\n    onColumnResizeStart: onColumnResizeStartIn,\n    ...rest\n  } = p;\n  const minColumnWidth = Math.max(minColumnWidthIn, 20);\n  const maxColumnWidth = Math.max(maxColumnWidthIn, minColumnWidth);\n  const keybindings = React36.useMemo(() => {\n    return keybindingsIn === void 0 ? keybindingDefaults : {\n      ...keybindingDefaults,\n      ...keybindingsIn\n    };\n  }, [keybindingsIn]);\n  const rowMarkerWidth = rowMarkerWidthRaw != null ? rowMarkerWidthRaw : rows > 1e4 ? 48 : rows > 1e3 ? 44 : rows > 100 ? 36 : 32;\n  const hasRowMarkers = rowMarkers !== \"none\";\n  const rowMarkerOffset = hasRowMarkers ? 1 : 0;\n  const showTrailingBlankRow = onRowAppended !== void 0;\n  const lastRowSticky = (trailingRowOptions == null ? void 0 : trailingRowOptions.sticky) === true;\n  const [showSearchInner, setShowSearchInner] = React36.useState(false);\n  const showSearch = showSearchIn != null ? showSearchIn : showSearchInner;\n  const onSearchClose = React36.useCallback(() => {\n    if (onSearchCloseIn !== void 0) {\n      onSearchCloseIn();\n    } else {\n      setShowSearchInner(false);\n    }\n  }, [onSearchCloseIn]);\n  const gridSelectionOuterMangled = React36.useMemo(() => {\n    return gridSelectionOuter === void 0 ? void 0 : shiftSelection(gridSelectionOuter, rowMarkerOffset);\n  }, [gridSelectionOuter, rowMarkerOffset]);\n  const gridSelection = gridSelectionOuterMangled != null ? gridSelectionOuterMangled : gridSelectionInner;\n  const abortControllerRef = React36.useRef(new AbortController());\n  React36.useEffect(() => {\n    return () => {\n      abortControllerRef == null ? void 0 : abortControllerRef.current.abort();\n    };\n  }, []);\n  const [getCellsForSelection, getCellsForSeletionDirect] = useCellsForSelection(getCellsForSelectionIn, getCellContent, rowMarkerOffset, abortControllerRef.current);\n  const validateCell = React36.useCallback((cell, newValue, prevValue) => {\n    if (validateCellIn === void 0)\n      return true;\n    const item = [cell[0] - rowMarkerOffset, cell[1]];\n    return validateCellIn == null ? void 0 : validateCellIn(item, newValue, prevValue);\n  }, [rowMarkerOffset, validateCellIn]);\n  const setGridSelection = React36.useCallback((newVal, expand) => {\n    if (expand) {\n      newVal = expandSelection(newVal, getCellsForSelection, rowMarkerOffset, spanRangeBehavior, abortControllerRef.current);\n    }\n    if (onGridSelectionChange !== void 0) {\n      onGridSelectionChange(shiftSelection(newVal, -rowMarkerOffset));\n    } else {\n      setGridSelectionInner(newVal);\n    }\n  }, [onGridSelectionChange, getCellsForSelection, rowMarkerOffset, spanRangeBehavior]);\n  const onColumnResize = whenDefined(onColumnResizeIn, React36.useCallback((_, w, ind) => {\n    onColumnResizeIn == null ? void 0 : onColumnResizeIn(columnsIn[ind - rowMarkerOffset], w, ind - rowMarkerOffset);\n  }, [onColumnResizeIn, rowMarkerOffset, columnsIn]));\n  const onColumnResizeEnd = whenDefined(onColumnResizeEndIn, React36.useCallback((_, w, ind) => {\n    onColumnResizeEndIn == null ? void 0 : onColumnResizeEndIn(columnsIn[ind - rowMarkerOffset], w, ind - rowMarkerOffset);\n  }, [onColumnResizeEndIn, rowMarkerOffset, columnsIn]));\n  const onColumnResizeStart = whenDefined(onColumnResizeStartIn, React36.useCallback((_, w, ind) => {\n    onColumnResizeStartIn == null ? void 0 : onColumnResizeStartIn(columnsIn[ind - rowMarkerOffset], w, ind - rowMarkerOffset);\n  }, [onColumnResizeStartIn, rowMarkerOffset, columnsIn]));\n  const drawHeader2 = whenDefined(drawHeaderIn, React36.useCallback((args) => {\n    var _a2;\n    return (_a2 = drawHeaderIn == null ? void 0 : drawHeaderIn({ ...args, columnIndex: args.columnIndex - rowMarkerOffset })) != null ? _a2 : false;\n  }, [drawHeaderIn, rowMarkerOffset]));\n  const onDelete = React36.useCallback((sel) => {\n    if (onDeleteIn !== void 0) {\n      const result = onDeleteIn(shiftSelection(sel, -rowMarkerOffset));\n      if (typeof result === \"boolean\") {\n        return result;\n      }\n      return shiftSelection(result, rowMarkerOffset);\n    }\n    return true;\n  }, [onDeleteIn, rowMarkerOffset]);\n  const [setCurrent, setSelectedRows, setSelectedColumns] = useSelectionBehavior(gridSelection, setGridSelection, rangeSelectionBlending, columnSelectionBlending, rowSelectionBlending, rangeSelect);\n  const mergedTheme = React36.useMemo(() => {\n    return { ...getDataEditorTheme(), ...theme };\n  }, [theme]);\n  const [clientSize, setClientSize] = React36.useState([10, 10, 0]);\n  const columns = useColumnSizer(columnsIn, rows, getCellsForSeletionDirect, clientSize[0] - (rowMarkerOffset === 0 ? 0 : rowMarkerWidth) - clientSize[2], minColumnWidth, maxColumnWidth, mergedTheme, abortControllerRef.current);\n  const enableGroups = React36.useMemo(() => {\n    return columns.some((c) => c.group !== void 0);\n  }, [columns]);\n  const totalHeaderHeight = enableGroups ? headerHeight + groupHeaderHeight : headerHeight;\n  const [visibleRegion, setVisibleRegion] = React36.useState({\n    x: 0,\n    y: 0,\n    width: 1,\n    height: 1\n  });\n  const cellXOffset = visibleRegion.x + rowMarkerOffset;\n  const cellYOffset = visibleRegion.y;\n  const gridRef = React36.useRef(null);\n  const focus = React36.useCallback((immediate) => {\n    var _a2;\n    if (immediate === true) {\n      (_a2 = gridRef.current) == null ? void 0 : _a2.focus();\n    } else {\n      window.requestAnimationFrame(() => {\n        var _a3;\n        (_a3 = gridRef.current) == null ? void 0 : _a3.focus();\n      });\n    }\n  }, []);\n  const mangledRows = showTrailingBlankRow ? rows + 1 : rows;\n  const mangledOnCellsEdited = React36.useCallback((items) => {\n    const mangledItems = rowMarkerOffset === 0 ? items : items.map((x) => ({\n      ...x,\n      location: [x.location[0] - rowMarkerOffset, x.location[1]]\n    }));\n    const r = onCellsEdited == null ? void 0 : onCellsEdited(mangledItems);\n    if (r !== true) {\n      for (const i of mangledItems)\n        onCellEdited == null ? void 0 : onCellEdited(i.location, i.value);\n    }\n    return r;\n  }, [onCellEdited, onCellsEdited, rowMarkerOffset]);\n  const numSelectedRows = gridSelection.rows.length;\n  const rowMarkerHeader = rowMarkers === \"none\" ? \"\" : numSelectedRows === 0 ? headerCellUnheckedMarker : numSelectedRows === rows ? headerCellCheckedMarker : headerCellIndeterminateMarker;\n  const mangledCols = React36.useMemo(() => {\n    if (rowMarkers === \"none\")\n      return columns;\n    return [\n      {\n        title: rowMarkerHeader,\n        width: rowMarkerWidth,\n        icon: void 0,\n        hasMenu: false,\n        style: \"normal\"\n      },\n      ...columns\n    ];\n  }, [columns, rowMarkerWidth, rowMarkers, rowMarkerHeader]);\n  const highlightRegions = React36.useMemo(() => {\n    if (highlightRegionsIn === void 0)\n      return void 0;\n    if (rowMarkerOffset === 0)\n      return highlightRegionsIn;\n    return highlightRegionsIn.map((r) => {\n      const maxWidth = mangledCols.length - r.range.x - rowMarkerOffset;\n      if (maxWidth <= 0)\n        return void 0;\n      return {\n        color: r.color,\n        range: {\n          ...r.range,\n          x: r.range.x + rowMarkerOffset,\n          width: Math.min(maxWidth, r.range.width)\n        },\n        style: r.style\n      };\n    }).filter((x) => x !== void 0);\n  }, [highlightRegionsIn, mangledCols.length, rowMarkerOffset]);\n  const visibleRegionRef = React36.useRef(visibleRegion);\n  const mangledColsRef = React36.useRef(mangledCols);\n  mangledColsRef.current = mangledCols;\n  const getMangledCellContent = React36.useCallback(([col, row]) => {\n    var _a2, _b2, _c2, _d2, _e2, _f2, _g, _h, _i, _j, _k;\n    const isTrailing = showTrailingBlankRow && row === mangledRows - 1;\n    const isRowMarkerCol = col === 0 && hasRowMarkers;\n    if (isRowMarkerCol) {\n      if (isTrailing) {\n        return loadingCell2;\n      }\n      return {\n        kind: InnerGridCellKind.Marker,\n        allowOverlay: false,\n        checked: (gridSelection == null ? void 0 : gridSelection.rows.hasIndex(row)) === true,\n        markerKind: rowMarkers === \"clickable-number\" ? \"number\" : rowMarkers,\n        row: rowMarkerStartIndex + row,\n        drawHandle: p.onRowMoved !== void 0\n      };\n    } else if (isTrailing) {\n      const isFirst = col === rowMarkerOffset;\n      const maybeFirstColumnHint = isFirst ? (_a2 = trailingRowOptions == null ? void 0 : trailingRowOptions.hint) != null ? _a2 : \"\" : \"\";\n      const c = mangledColsRef.current[col];\n      if (((_b2 = c == null ? void 0 : c.trailingRowOptions) == null ? void 0 : _b2.disabled) === true) {\n        return loadingCell2;\n      } else {\n        const hint = (_d2 = (_c2 = c == null ? void 0 : c.trailingRowOptions) == null ? void 0 : _c2.hint) != null ? _d2 : maybeFirstColumnHint;\n        const icon = (_f2 = (_e2 = c == null ? void 0 : c.trailingRowOptions) == null ? void 0 : _e2.addIcon) != null ? _f2 : trailingRowOptions == null ? void 0 : trailingRowOptions.addIcon;\n        return {\n          kind: InnerGridCellKind.NewRow,\n          hint,\n          allowOverlay: false,\n          icon\n        };\n      }\n    } else {\n      const outerCol = col - rowMarkerOffset;\n      if (((_g = p.experimental) == null ? void 0 : _g.strict) === true) {\n        const vr = visibleRegionRef.current;\n        const isOutsideMainArea = vr.x > outerCol || outerCol > vr.x + vr.width || vr.y > row || row > vr.y + vr.height;\n        const isSelected = outerCol === ((_i = (_h = vr.extras) == null ? void 0 : _h.selected) == null ? void 0 : _i[0]) && row === ((_j = vr.extras) == null ? void 0 : _j.selected[1]);\n        const isOutsideFreezeArea = ((_k = vr.extras) == null ? void 0 : _k.freezeRegion) === void 0 || vr.extras.freezeRegion.x > outerCol || outerCol > vr.extras.freezeRegion.x + vr.extras.freezeRegion.width || vr.extras.freezeRegion.y > row || row > vr.extras.freezeRegion.y + vr.extras.freezeRegion.height;\n        if (isOutsideMainArea && !isSelected && isOutsideFreezeArea) {\n          return {\n            kind: GridCellKind.Loading,\n            allowOverlay: false\n          };\n        }\n      }\n      let result = getCellContent([outerCol, row]);\n      if (rowMarkerOffset !== 0 && result.span !== void 0) {\n        result = {\n          ...result,\n          span: [result.span[0] + rowMarkerOffset, result.span[1] + rowMarkerOffset]\n        };\n      }\n      return result;\n    }\n  }, [\n    showTrailingBlankRow,\n    mangledRows,\n    hasRowMarkers,\n    gridSelection == null ? void 0 : gridSelection.rows,\n    p.onRowMoved,\n    rowMarkers,\n    rowMarkerOffset,\n    trailingRowOptions == null ? void 0 : trailingRowOptions.hint,\n    trailingRowOptions == null ? void 0 : trailingRowOptions.addIcon,\n    (_a = p.experimental) == null ? void 0 : _a.strict,\n    getCellContent,\n    rowMarkerStartIndex\n  ]);\n  const mangledGetGroupDetails = React36.useCallback((group) => {\n    var _a2, _b2;\n    let result = (_a2 = getGroupDetails == null ? void 0 : getGroupDetails(group)) != null ? _a2 : { name: group };\n    if (onGroupHeaderRenamed !== void 0 && group !== \"\") {\n      result = {\n        icon: result.icon,\n        name: result.name,\n        overrideTheme: result.overrideTheme,\n        actions: [\n          ...(_b2 = result.actions) != null ? _b2 : [],\n          {\n            title: \"Rename\",\n            icon: \"renameIcon\",\n            onClick: (e) => setRenameGroup({\n              group: result.name,\n              bounds: e.bounds\n            })\n          }\n        ]\n      };\n    }\n    return result;\n  }, [getGroupDetails, onGroupHeaderRenamed]);\n  const setOverlaySimple = React36.useCallback((val) => {\n    var _a2;\n    const [col, row] = val.cell;\n    const column = mangledCols[col];\n    const groupTheme = (column == null ? void 0 : column.group) !== void 0 ? (_a2 = mangledGetGroupDetails(column.group)) == null ? void 0 : _a2.overrideTheme : void 0;\n    const colTheme = column == null ? void 0 : column.themeOverride;\n    const rowTheme = getRowThemeOverride == null ? void 0 : getRowThemeOverride(row);\n    setOverlay({\n      ...val,\n      theme: { ...mergedTheme, ...groupTheme, ...colTheme, ...rowTheme, ...val.content.themeOverride }\n    });\n  }, [getRowThemeOverride, mangledCols, mangledGetGroupDetails, mergedTheme]);\n  const reselect = React36.useCallback((bounds, fromKeyboard, initialValue) => {\n    var _a2;\n    if (gridSelection.current === void 0)\n      return;\n    const [col, row] = gridSelection.current.cell;\n    const c = getMangledCellContent([col, row]);\n    if (c.kind !== GridCellKind.Boolean && c.allowOverlay) {\n      let content = c;\n      if (initialValue !== void 0) {\n        switch (content.kind) {\n          case GridCellKind.Number:\n            content = {\n              ...content,\n              data: maybe(() => initialValue === \"-\" ? -0 : Number.parseFloat(initialValue), 0)\n            };\n            break;\n          case GridCellKind.Text:\n          case GridCellKind.Markdown:\n          case GridCellKind.Uri:\n            content = {\n              ...content,\n              data: initialValue\n            };\n            break;\n        }\n      }\n      setOverlaySimple({\n        target: bounds,\n        content,\n        initialValue,\n        cell: [col, row],\n        highlight: initialValue === void 0,\n        forceEditMode: initialValue !== void 0\n      });\n    } else if (c.kind === GridCellKind.Boolean && fromKeyboard) {\n      mangledOnCellsEdited([\n        {\n          location: gridSelection.current.cell,\n          value: {\n            ...c,\n            data: toggleBoolean(c.data)\n          }\n        }\n      ]);\n      (_a2 = gridRef.current) == null ? void 0 : _a2.damage([{ cell: gridSelection.current.cell }]);\n    }\n  }, [getMangledCellContent, gridSelection, mangledOnCellsEdited, setOverlaySimple]);\n  const focusOnRowFromTrailingBlankRow = React36.useCallback((col, row) => {\n    var _a2;\n    const bounds = (_a2 = gridRef.current) == null ? void 0 : _a2.getBounds(col, row);\n    if (bounds === void 0 || scrollRef.current === null) {\n      return;\n    }\n    const content = getMangledCellContent([col, row]);\n    if (!content.allowOverlay) {\n      return;\n    }\n    setOverlaySimple({\n      target: bounds,\n      content,\n      initialValue: void 0,\n      highlight: true,\n      cell: [col, row],\n      forceEditMode: true\n    });\n  }, [getMangledCellContent, setOverlaySimple]);\n  const scrollTo = React36.useCallback((col, row, dir = \"both\", paddingX = 0, paddingY = 0) => {\n    if (scrollRef.current !== null) {\n      const grid = gridRef.current;\n      const canvas = canvasRef.current;\n      if (grid !== null && canvas !== null) {\n        const rawBounds = grid.getBounds(col + rowMarkerOffset, row);\n        const scrollBounds = canvas.getBoundingClientRect();\n        if (rawBounds !== void 0) {\n          const bounds = {\n            x: rawBounds.x - paddingX,\n            y: rawBounds.y - paddingY,\n            width: rawBounds.width + 2 * paddingX,\n            height: rawBounds.height + 2 * paddingY\n          };\n          let scrollX = 0;\n          let scrollY = 0;\n          let frozenWidth = 0;\n          for (let i = 0; i < freezeColumns; i++) {\n            frozenWidth += columns[i].width;\n          }\n          const sLeft = frozenWidth + scrollBounds.left + rowMarkerOffset * rowMarkerWidth;\n          const sRight = scrollBounds.right;\n          const sTop = scrollBounds.top + totalHeaderHeight;\n          let trailingRowHeight = 0;\n          if (lastRowSticky) {\n            trailingRowHeight = typeof rowHeight === \"number\" ? rowHeight : rowHeight(rows);\n          }\n          const sBottom = scrollBounds.bottom - trailingRowHeight;\n          if (sLeft > bounds.x) {\n            scrollX = bounds.x - sLeft;\n          } else if (sRight < bounds.x + bounds.width) {\n            scrollX = bounds.x + bounds.width - sRight;\n          }\n          if (sTop > bounds.y) {\n            scrollY = bounds.y - sTop;\n          } else if (sBottom < bounds.y + bounds.height) {\n            scrollY = bounds.y + bounds.height - sBottom;\n          }\n          if (dir === \"vertical\" || col < freezeColumns) {\n            scrollX = 0;\n          } else if (dir === \"horizontal\") {\n            scrollY = 0;\n          }\n          if (scrollX !== 0 || scrollY !== 0) {\n            scrollRef.current.scrollTo(scrollX + scrollRef.current.scrollLeft, scrollY + scrollRef.current.scrollTop);\n          }\n        }\n      }\n    }\n  }, [rowMarkerOffset, rowMarkerWidth, totalHeaderHeight, lastRowSticky, freezeColumns, columns, rowHeight, rows]);\n  const focusCallback = React36.useRef(focusOnRowFromTrailingBlankRow);\n  const getCellContentRef = React36.useRef(getCellContent);\n  const rowsRef = React36.useRef(rows);\n  focusCallback.current = focusOnRowFromTrailingBlankRow;\n  getCellContentRef.current = getCellContent;\n  rowsRef.current = rows;\n  const appendRow = React36.useCallback(async (col) => {\n    var _a2;\n    const c = mangledCols[col];\n    if (((_a2 = c == null ? void 0 : c.trailingRowOptions) == null ? void 0 : _a2.disabled) === true) {\n      return;\n    }\n    const appendResult = onRowAppended == null ? void 0 : onRowAppended();\n    let r = void 0;\n    let bottom = true;\n    if (appendResult !== void 0) {\n      r = await appendResult;\n      if (r === \"top\")\n        bottom = false;\n      if (typeof r === \"number\")\n        bottom = false;\n    }\n    let backoff = 0;\n    const doFocus = () => {\n      if (rowsRef.current <= rows) {\n        if (backoff < 500) {\n          window.setTimeout(doFocus, backoff);\n        }\n        backoff = 50 + backoff * 2;\n        return;\n      }\n      const row = typeof r === \"number\" ? r : bottom ? rows : 0;\n      scrollTo(col - rowMarkerOffset, row);\n      setCurrent({\n        cell: [col, row],\n        range: {\n          x: col,\n          y: row,\n          width: 1,\n          height: 1\n        }\n      }, false, false, \"edit\");\n      const cell = getCellContentRef.current([col - rowMarkerOffset, row]);\n      if (cell.allowOverlay && isReadWriteCell(cell) && cell.readonly !== true) {\n        window.setTimeout(() => {\n          focusCallback.current(col, row);\n        }, 0);\n      }\n    };\n    doFocus();\n  }, [mangledCols, onRowAppended, rowMarkerOffset, rows, scrollTo, setCurrent]);\n  const getCustomNewRowTargetColumn = React36.useCallback((col) => {\n    var _a2, _b2, _c2;\n    const customTargetColumn = (_c2 = (_b2 = (_a2 = columns[col]) == null ? void 0 : _a2.trailingRowOptions) == null ? void 0 : _b2.targetColumn) != null ? _c2 : trailingRowOptions == null ? void 0 : trailingRowOptions.targetColumn;\n    if (typeof customTargetColumn === \"number\") {\n      const customTargetOffset = hasRowMarkers ? 1 : 0;\n      return customTargetColumn + customTargetOffset;\n    }\n    if (typeof customTargetColumn === \"object\") {\n      const maybeIndex = columnsIn.indexOf(customTargetColumn);\n      if (maybeIndex >= 0) {\n        const customTargetOffset = hasRowMarkers ? 1 : 0;\n        return maybeIndex + customTargetOffset;\n      }\n    }\n    return void 0;\n  }, [columns, columnsIn, hasRowMarkers, trailingRowOptions == null ? void 0 : trailingRowOptions.targetColumn]);\n  const lastSelectedRowRef = React36.useRef();\n  const lastSelectedColRef = React36.useRef();\n  const handleSelect = React36.useCallback((args) => {\n    var _a2, _b2, _c2, _d2;\n    const isMultiKey = browserIsOSX.value ? args.metaKey : args.ctrlKey;\n    const isMultiRow = isMultiKey && rowSelect === \"multi\";\n    const isMultiCol = isMultiKey && columnSelect === \"multi\";\n    const [col, row] = args.location;\n    const selectedColumns = gridSelection.columns;\n    const selectedRows = gridSelection.rows;\n    const [cellCol, cellRow] = (_b2 = (_a2 = gridSelection.current) == null ? void 0 : _a2.cell) != null ? _b2 : [];\n    if (args.kind === \"cell\") {\n      lastSelectedColRef.current = void 0;\n      lastMouseSelectLocation.current = [col, row];\n      if (col === 0 && hasRowMarkers) {\n        if (showTrailingBlankRow === true && row === rows || rowMarkers === \"number\" || rowSelect === \"none\")\n          return;\n        const markerCell = getMangledCellContent(args.location);\n        if (markerCell.kind !== InnerGridCellKind.Marker) {\n          return;\n        }\n        if (p.onRowMoved !== void 0) {\n          const renderer = CellRenderers[markerCell.kind];\n          const postClick = (_c2 = renderer.onClick) == null ? void 0 : _c2.call(renderer, markerCell, args.localEventX, args.localEventY, args.bounds);\n          if (postClick === void 0 || postClick.checked === markerCell.checked)\n            return;\n        }\n        setOverlay(void 0);\n        focus();\n        const isSelected = selectedRows.hasIndex(row);\n        const lastHighlighted = lastSelectedRowRef.current;\n        if (rowSelect === \"multi\" && (args.shiftKey || args.isLongTouch === true) && lastHighlighted !== void 0 && selectedRows.hasIndex(lastHighlighted)) {\n          const newSlice = [Math.min(lastHighlighted, row), Math.max(lastHighlighted, row) + 1];\n          if (isMultiRow || rowSelectionMode === \"multi\") {\n            setSelectedRows(void 0, newSlice, true);\n          } else {\n            setSelectedRows(CompactSelection.fromSingleSelection(newSlice), void 0, isMultiRow);\n          }\n        } else if (isMultiRow || args.isTouch || rowSelectionMode === \"multi\") {\n          if (isSelected) {\n            setSelectedRows(selectedRows.remove(row), void 0, true);\n          } else {\n            setSelectedRows(void 0, row, true);\n            lastSelectedRowRef.current = row;\n          }\n        } else if (isSelected && selectedRows.length === 1) {\n          setSelectedRows(CompactSelection.empty(), void 0, isMultiKey);\n        } else {\n          setSelectedRows(CompactSelection.fromSingleSelection(row), void 0, isMultiKey);\n          lastSelectedRowRef.current = row;\n        }\n      } else if (col >= rowMarkerOffset && showTrailingBlankRow && row === rows) {\n        const customTargetColumn = getCustomNewRowTargetColumn(col);\n        void appendRow(customTargetColumn != null ? customTargetColumn : col);\n      } else {\n        if (cellCol !== col || cellRow !== row) {\n          const isLastStickyRow = lastRowSticky && row === rows;\n          const startedFromLastSticky = lastRowSticky && gridSelection !== void 0 && ((_d2 = gridSelection.current) == null ? void 0 : _d2.cell[1]) === rows;\n          if ((args.shiftKey || args.isLongTouch === true) && cellCol !== void 0 && cellRow !== void 0 && gridSelection.current !== void 0 && !startedFromLastSticky) {\n            if (isLastStickyRow) {\n              return;\n            }\n            const left = Math.min(col, cellCol);\n            const right = Math.max(col, cellCol);\n            const top = Math.min(row, cellRow);\n            const bottom = Math.max(row, cellRow);\n            setCurrent({\n              ...gridSelection.current,\n              range: {\n                x: left,\n                y: top,\n                width: right - left + 1,\n                height: bottom - top + 1\n              }\n            }, true, isMultiKey, \"click\");\n            lastSelectedRowRef.current = void 0;\n            focus();\n          } else {\n            setCurrent({\n              cell: [col, row],\n              range: { x: col, y: row, width: 1, height: 1 }\n            }, true, isMultiKey, \"click\");\n            lastSelectedRowRef.current = void 0;\n            setOverlay(void 0);\n            focus();\n          }\n        }\n      }\n    } else if (args.kind === \"header\") {\n      lastMouseSelectLocation.current = [col, row];\n      setOverlay(void 0);\n      if (hasRowMarkers && col === 0) {\n        lastSelectedRowRef.current = void 0;\n        lastSelectedColRef.current = void 0;\n        if (rowSelect === \"multi\") {\n          if (selectedRows.length !== rows) {\n            setSelectedRows(CompactSelection.fromSingleSelection([0, rows]), void 0, isMultiKey);\n          } else {\n            setSelectedRows(CompactSelection.empty(), void 0, isMultiKey);\n          }\n          focus();\n        }\n      } else {\n        const lastCol = lastSelectedColRef.current;\n        if (columnSelect === \"multi\" && (args.shiftKey || args.isLongTouch === true) && lastCol !== void 0 && selectedColumns.hasIndex(lastCol)) {\n          const newSlice = [Math.min(lastCol, col), Math.max(lastCol, col) + 1];\n          if (isMultiCol) {\n            setSelectedColumns(void 0, newSlice, isMultiKey);\n          } else {\n            setSelectedColumns(CompactSelection.fromSingleSelection(newSlice), void 0, isMultiKey);\n          }\n        } else if (isMultiCol) {\n          if (selectedColumns.hasIndex(col)) {\n            setSelectedColumns(selectedColumns.remove(col), void 0, isMultiKey);\n          } else {\n            setSelectedColumns(void 0, col, isMultiKey);\n          }\n          lastSelectedColRef.current = col;\n        } else if (columnSelect !== \"none\") {\n          setSelectedColumns(CompactSelection.fromSingleSelection(col), void 0, isMultiKey);\n          lastSelectedColRef.current = col;\n        }\n        lastSelectedRowRef.current = void 0;\n        focus();\n      }\n    } else if (args.kind === groupHeaderKind) {\n      lastMouseSelectLocation.current = [col, row];\n    } else if (args.kind === outOfBoundsKind) {\n      setGridSelection(emptyGridSelection, false);\n      setOverlay(void 0);\n      focus();\n      onSelectionCleared == null ? void 0 : onSelectionCleared();\n      lastSelectedRowRef.current = void 0;\n      lastSelectedColRef.current = void 0;\n    }\n  }, [\n    appendRow,\n    columnSelect,\n    focus,\n    getCustomNewRowTargetColumn,\n    getMangledCellContent,\n    gridSelection,\n    hasRowMarkers,\n    lastRowSticky,\n    onSelectionCleared,\n    p.onRowMoved,\n    rowMarkerOffset,\n    rowMarkers,\n    rowSelect,\n    rowSelectionMode,\n    rows,\n    setCurrent,\n    setGridSelection,\n    setSelectedColumns,\n    setSelectedRows,\n    showTrailingBlankRow\n  ]);\n  const lastMouseSelectLocation = React36.useRef();\n  const touchDownArgs = React36.useRef(visibleRegion);\n  const mouseDownData = React36.useRef();\n  const onMouseDown = React36.useCallback((args) => {\n    var _a2, _b2;\n    isPrevented.current = false;\n    touchDownArgs.current = visibleRegionRef.current;\n    if (args.button !== 0) {\n      mouseDownData.current = void 0;\n      return;\n    }\n    const time = performance.now();\n    const wasDoubleClick = time - ((_b2 = (_a2 = mouseDownData.current) == null ? void 0 : _a2.time) != null ? _b2 : -1e3) < 250;\n    mouseDownData.current = {\n      wasDoubleClick,\n      time,\n      location: args.location\n    };\n    const fillHandle = args.kind === \"cell\" && args.isFillHandle;\n    if (!fillHandle && args.kind !== \"cell\" && args.isEdge)\n      return;\n    setMouseState({\n      previousSelection: gridSelection,\n      fillHandle\n    });\n    lastMouseSelectLocation.current = void 0;\n    if (!args.isTouch) {\n      handleSelect(args);\n    }\n  }, [gridSelection, handleSelect]);\n  const [renameGroup, setRenameGroup] = React36.useState();\n  const handleGroupHeaderSelection = React36.useCallback((args) => {\n    if (args.kind !== groupHeaderKind || columnSelect !== \"multi\") {\n      return;\n    }\n    const isMultiKey = browserIsOSX.value ? args.metaKey : args.ctrlKey;\n    const [col] = args.location;\n    const selectedColumns = gridSelection.columns;\n    if (col < rowMarkerOffset)\n      return;\n    const needle = mangledCols[col];\n    let start = col;\n    let end = col;\n    for (let i = col - 1; i >= rowMarkerOffset; i--) {\n      if (!isGroupEqual(needle.group, mangledCols[i].group))\n        break;\n      start--;\n    }\n    for (let i = col + 1; i < mangledCols.length; i++) {\n      if (!isGroupEqual(needle.group, mangledCols[i].group))\n        break;\n      end++;\n    }\n    focus();\n    if (isMultiKey) {\n      if (selectedColumns.hasAll([start, end + 1])) {\n        let newVal = selectedColumns;\n        for (let index2 = start; index2 <= end; index2++) {\n          newVal = newVal.remove(index2);\n        }\n        setSelectedColumns(newVal, void 0, isMultiKey);\n      } else {\n        setSelectedColumns(void 0, [start, end + 1], isMultiKey);\n      }\n    } else {\n      setSelectedColumns(CompactSelection.fromSingleSelection([start, end + 1]), void 0, isMultiKey);\n    }\n  }, [columnSelect, focus, gridSelection.columns, mangledCols, rowMarkerOffset, setSelectedColumns]);\n  const fillDown = React36.useCallback((reverse) => {\n    var _a2;\n    if (gridSelection.current === void 0)\n      return;\n    const v = [];\n    const r = gridSelection.current.range;\n    for (let x = 0; x < r.width; x++) {\n      const fillCol = x + r.x;\n      const fillVal = getMangledCellContent([fillCol, reverse ? r.y + r.height - 1 : r.y]);\n      if (isInnerOnlyCell(fillVal) || !isReadWriteCell(fillVal))\n        continue;\n      for (let y = 1; y < r.height; y++) {\n        const fillRow = reverse ? r.y + r.height - (y + 1) : y + r.y;\n        const target = [fillCol, fillRow];\n        v.push({\n          location: target,\n          value: { ...fillVal }\n        });\n      }\n    }\n    mangledOnCellsEdited(v);\n    (_a2 = gridRef.current) == null ? void 0 : _a2.damage(v.map((c) => ({\n      cell: c.location\n    })));\n  }, [getMangledCellContent, gridSelection, mangledOnCellsEdited]);\n  const isPrevented = React36.useRef(false);\n  const onContextMenu = React36.useCallback((args, preventDefault) => {\n    const clickLocation = args.location[0] - rowMarkerOffset;\n    if (args.kind === \"header\") {\n      onHeaderContextMenu == null ? void 0 : onHeaderContextMenu(clickLocation, { ...args, preventDefault });\n    }\n    if (args.kind === groupHeaderKind) {\n      if (clickLocation < 0) {\n        return;\n      }\n      onGroupHeaderContextMenu == null ? void 0 : onGroupHeaderContextMenu(clickLocation, { ...args, preventDefault });\n    }\n    if (args.kind === \"cell\") {\n      onCellContextMenu == null ? void 0 : onCellContextMenu([clickLocation, args.location[1]], {\n        ...args,\n        preventDefault\n      });\n    }\n  }, [onCellContextMenu, onGroupHeaderContextMenu, onHeaderContextMenu, rowMarkerOffset]);\n  const normalSizeColumn = React36.useCallback(async (col) => {\n    var _a2;\n    if (((_a2 = mouseDownData.current) == null ? void 0 : _a2.wasDoubleClick) === true && getCellsForSelection !== void 0 && onColumnResize !== void 0) {\n      const start = visibleRegionRef.current.y;\n      const end = visibleRegionRef.current.height;\n      let cells = getCellsForSelection({\n        x: col,\n        y: start,\n        width: 1,\n        height: Math.min(end, rows - start)\n      }, abortControllerRef.current.signal);\n      if (typeof cells !== \"object\") {\n        cells = await cells();\n      }\n      const inputCol = columns[col - rowMarkerOffset];\n      const offscreen = document.createElement(\"canvas\");\n      const ctx = offscreen.getContext(\"2d\", { alpha: false });\n      if (ctx !== null) {\n        ctx.font = `${mergedTheme.baseFontStyle} ${mergedTheme.fontFamily}`;\n        const newCol = measureColumn(ctx, mergedTheme, inputCol, 0, cells, minColumnWidth, maxColumnWidth, false);\n        onColumnResize == null ? void 0 : onColumnResize(inputCol, newCol.width, col);\n      }\n    }\n  }, [\n    columns,\n    getCellsForSelection,\n    maxColumnWidth,\n    mergedTheme,\n    minColumnWidth,\n    onColumnResize,\n    rowMarkerOffset,\n    rows\n  ]);\n  const [scrollDir, setScrollDir] = React36.useState();\n  const onMouseUp = React36.useCallback((args, isOutside) => {\n    var _a2, _b2, _c2;\n    const mouse = mouseState;\n    setMouseState(void 0);\n    setScrollDir(void 0);\n    if (isOutside)\n      return;\n    const [col, row] = args.location;\n    const [lastMouseDownCol, lastMouseDownRow] = (_a2 = lastMouseSelectLocation.current) != null ? _a2 : [];\n    const preventDefault = () => {\n      isPrevented.current = true;\n    };\n    const handleMaybeClick = (a) => {\n      var _a3, _b3, _c3;\n      if (lastMouseDownCol === col && lastMouseDownRow === row) {\n        onCellClicked == null ? void 0 : onCellClicked([col - rowMarkerOffset, row], {\n          ...a,\n          preventDefault\n        });\n      }\n      if (gridSelection.current !== void 0) {\n        if ((mouse == null ? void 0 : mouse.fillHandle) === true) {\n          fillDown(gridSelection.current.cell[1] !== gridSelection.current.range.y);\n        } else if (gridSelection.current !== void 0 && ((_b3 = (_a3 = mouse == null ? void 0 : mouse.previousSelection) == null ? void 0 : _a3.current) == null ? void 0 : _b3.cell) !== void 0 && !isPrevented.current) {\n          const [selectedCol, selectedRow] = gridSelection.current.cell;\n          const [prevCol, prevRow] = mouse.previousSelection.current.cell;\n          const c = getMangledCellContent([col, row]);\n          const r = c.kind === GridCellKind.Custom ? void 0 : CellRenderers[c.kind];\n          if (r !== void 0 && r.onClick !== void 0) {\n            const newVal = r.onClick(c, a.localEventX, a.localEventY, a.bounds);\n            if (newVal !== void 0 && !isInnerOnlyCell(newVal) && isEditableGridCell(newVal)) {\n              mangledOnCellsEdited([{ location: a.location, value: newVal }]);\n              (_c3 = gridRef.current) == null ? void 0 : _c3.damage([\n                {\n                  cell: a.location\n                }\n              ]);\n            }\n          }\n          if (col === selectedCol && col === prevCol && row === selectedRow && row === prevRow) {\n            onCellActivated == null ? void 0 : onCellActivated([col - rowMarkerOffset, row]);\n            reselect(a.bounds, false);\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const clickLocation = args.location[0] - rowMarkerOffset;\n    if (args.isTouch) {\n      const vr = visibleRegionRef.current;\n      const touchVr = touchDownArgs.current;\n      if (vr.x !== touchVr.x || vr.y !== touchVr.y) {\n        return;\n      }\n      if (args.isLongTouch === true) {\n        if (args.kind === \"cell\" && ((_b2 = gridSelection == null ? void 0 : gridSelection.current) == null ? void 0 : _b2.cell[0]) === col && ((_c2 = gridSelection == null ? void 0 : gridSelection.current) == null ? void 0 : _c2.cell[1]) === row) {\n          onCellContextMenu == null ? void 0 : onCellContextMenu([clickLocation, args.location[1]], {\n            ...args,\n            preventDefault\n          });\n          return;\n        } else if (args.kind === \"header\" && gridSelection.columns.hasIndex(col)) {\n          onHeaderContextMenu == null ? void 0 : onHeaderContextMenu(clickLocation, { ...args, preventDefault });\n          return;\n        } else if (args.kind === groupHeaderKind) {\n          if (clickLocation < 0) {\n            return;\n          }\n          onGroupHeaderContextMenu == null ? void 0 : onGroupHeaderContextMenu(clickLocation, { ...args, preventDefault });\n          return;\n        }\n      }\n      if (args.kind === \"cell\") {\n        if (!handleMaybeClick(args)) {\n          handleSelect(args);\n        }\n      } else if (args.kind === groupHeaderKind) {\n        onGroupHeaderClicked == null ? void 0 : onGroupHeaderClicked(clickLocation, { ...args, preventDefault });\n      } else {\n        handleSelect(args);\n      }\n      return;\n    }\n    if (args.kind === \"header\") {\n      if (clickLocation < 0) {\n        return;\n      }\n      if (args.isEdge) {\n        void normalSizeColumn(col);\n      } else if (args.button === 0 && col === lastMouseDownCol && row === lastMouseDownRow) {\n        onHeaderClicked == null ? void 0 : onHeaderClicked(clickLocation, { ...args, preventDefault });\n      }\n    }\n    if (args.kind === groupHeaderKind) {\n      if (clickLocation < 0) {\n        return;\n      }\n      if (args.button === 0 && col === lastMouseDownCol && row === lastMouseDownRow) {\n        onGroupHeaderClicked == null ? void 0 : onGroupHeaderClicked(clickLocation, { ...args, preventDefault });\n        if (!isPrevented.current) {\n          handleGroupHeaderSelection(args);\n        }\n      }\n    }\n    if (args.kind === \"cell\" && args.button === 0) {\n      handleMaybeClick(args);\n    }\n    lastMouseSelectLocation.current = void 0;\n  }, [\n    mouseState,\n    gridSelection,\n    onCellClicked,\n    rowMarkerOffset,\n    fillDown,\n    getMangledCellContent,\n    mangledOnCellsEdited,\n    onCellActivated,\n    reselect,\n    onCellContextMenu,\n    onHeaderContextMenu,\n    onGroupHeaderContextMenu,\n    handleSelect,\n    normalSizeColumn,\n    onHeaderClicked,\n    onGroupHeaderClicked,\n    handleGroupHeaderSelection\n  ]);\n  const onMouseMoveImpl = React36.useCallback((args) => {\n    const a = {\n      ...args,\n      location: [args.location[0] - rowMarkerOffset, args.location[1]]\n    };\n    onMouseMove == null ? void 0 : onMouseMove(a);\n    setScrollDir((cv) => {\n      var _a2, _b2;\n      if (args.scrollEdge[0] === (cv == null ? void 0 : cv[0]) && args.scrollEdge[1] === cv[1])\n        return cv;\n      return mouseState === void 0 || ((_b2 = (_a2 = mouseDownData.current) == null ? void 0 : _a2.location[0]) != null ? _b2 : 0) < rowMarkerOffset ? void 0 : args.scrollEdge;\n    });\n  }, [mouseState, onMouseMove, rowMarkerOffset]);\n  useAutoscroll(scrollDir, scrollRef);\n  const onHeaderMenuClickInner = React36.useCallback((col, screenPosition) => {\n    onHeaderMenuClick == null ? void 0 : onHeaderMenuClick(col - rowMarkerOffset, screenPosition);\n  }, [onHeaderMenuClick, rowMarkerOffset]);\n  const currentCell = (_b = gridSelection == null ? void 0 : gridSelection.current) == null ? void 0 : _b.cell;\n  const onVisibleRegionChangedImpl = React36.useCallback((region, clientWidth, clientHeight, rightElWidth, tx, ty) => {\n    let selected = currentCell;\n    if (selected !== void 0) {\n      selected = [selected[0] - rowMarkerOffset, selected[1]];\n    }\n    const newRegion = {\n      ...region,\n      x: region.x - rowMarkerOffset,\n      height: showTrailingBlankRow && region.y + region.height >= rows ? region.height - 1 : region.height,\n      tx,\n      ty,\n      extras: {\n        selected,\n        freezeRegion: freezeColumns === 0 ? void 0 : {\n          x: 0,\n          y: region.y,\n          width: freezeColumns,\n          height: region.height\n        }\n      }\n    };\n    setClientSize([clientWidth, clientHeight, rightElWidth]);\n    setVisibleRegion(newRegion);\n    visibleRegionRef.current = newRegion;\n    onVisibleRegionChanged == null ? void 0 : onVisibleRegionChanged(newRegion, newRegion.tx, newRegion.ty, newRegion.extras);\n  }, [freezeColumns, currentCell, onVisibleRegionChanged, rowMarkerOffset, rows, showTrailingBlankRow]);\n  const onColumnMovedImpl = whenDefined(onColumnMoved, React36.useCallback((startIndex, endIndex) => {\n    onColumnMoved == null ? void 0 : onColumnMoved(startIndex - rowMarkerOffset, endIndex - rowMarkerOffset);\n    if (columnSelect !== \"none\") {\n      setSelectedColumns(CompactSelection.fromSingleSelection(endIndex), void 0, true);\n    }\n  }, [columnSelect, onColumnMoved, rowMarkerOffset, setSelectedColumns]));\n  const isActivelyDragging = React36.useRef(false);\n  const onDragStartImpl = React36.useCallback((args) => {\n    if (args.location[0] === 0 && rowMarkerOffset > 0) {\n      args.preventDefault();\n      return;\n    }\n    onDragStart == null ? void 0 : onDragStart({\n      ...args,\n      location: [args.location[0] - rowMarkerOffset, args.location[1]]\n    });\n    if (!args.defaultPrevented()) {\n      isActivelyDragging.current = true;\n    }\n    setMouseState(void 0);\n  }, [onDragStart, rowMarkerOffset]);\n  const onDragEnd = React36.useCallback(() => {\n    isActivelyDragging.current = false;\n  }, []);\n  const onItemHoveredImpl = React36.useCallback((args) => {\n    if (mouseState !== void 0 && gridSelection.current !== void 0 && !isActivelyDragging.current && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n      const [selectedCol, selectedRow] = gridSelection.current.cell;\n      let [col, row] = args.location;\n      if (row < 0) {\n        row = visibleRegionRef.current.y;\n      }\n      const landedOnLastStickyRow = lastRowSticky && row === rows;\n      const startedFromLastStickyRow = lastRowSticky && selectedRow === rows;\n      if (landedOnLastStickyRow || startedFromLastStickyRow)\n        return;\n      col = Math.max(col, rowMarkerOffset);\n      const deltaX = col - selectedCol;\n      const deltaY = row - selectedRow;\n      const newRange = {\n        x: deltaX >= 0 ? selectedCol : col,\n        y: deltaY >= 0 ? selectedRow : row,\n        width: Math.abs(deltaX) + 1,\n        height: Math.abs(deltaY) + 1\n      };\n      setCurrent({\n        ...gridSelection.current,\n        range: newRange\n      }, true, false, \"drag\");\n    }\n    onItemHovered == null ? void 0 : onItemHovered({ ...args, location: [args.location[0] - rowMarkerOffset, args.location[1]] });\n  }, [mouseState, gridSelection, rangeSelect, onItemHovered, rowMarkerOffset, lastRowSticky, rows, setCurrent]);\n  const adjustSelection = React36.useCallback((direction2) => {\n    if (gridSelection.current === void 0)\n      return;\n    const [x, y] = direction2;\n    const [col, row] = gridSelection.current.cell;\n    const old = gridSelection.current.range;\n    let left = old.x;\n    let right = old.x + old.width;\n    let top = old.y;\n    let bottom = old.y + old.height;\n    if (y !== 0) {\n      switch (y) {\n        case 2: {\n          bottom = rows;\n          top = row;\n          scrollTo(0, bottom, \"vertical\");\n          break;\n        }\n        case -2: {\n          top = 0;\n          bottom = row + 1;\n          scrollTo(0, top, \"vertical\");\n          break;\n        }\n        case 1: {\n          if (top < row) {\n            top++;\n            scrollTo(0, top, \"vertical\");\n          } else {\n            bottom = Math.min(rows, bottom + 1);\n            scrollTo(0, bottom, \"vertical\");\n          }\n          break;\n        }\n        case -1: {\n          if (bottom > row + 1) {\n            bottom--;\n            scrollTo(0, bottom, \"vertical\");\n          } else {\n            top = Math.max(0, top - 1);\n            scrollTo(0, top, \"vertical\");\n          }\n          break;\n        }\n        default: {\n          assertNever(y);\n        }\n      }\n    }\n    if (x !== 0) {\n      if (x === 2) {\n        right = mangledCols.length;\n        left = col;\n        scrollTo(right - 1 - rowMarkerOffset, 0, \"horizontal\");\n      } else if (x === -2) {\n        left = rowMarkerOffset;\n        right = col + 1;\n        scrollTo(left - rowMarkerOffset, 0, \"horizontal\");\n      } else {\n        let disallowed = [];\n        if (getCellsForSelection !== void 0) {\n          const cells = getCellsForSelection({\n            x: left,\n            y: top,\n            width: right - left - rowMarkerOffset,\n            height: bottom - top\n          }, abortControllerRef.current.signal);\n          if (typeof cells === \"object\") {\n            disallowed = getSpanStops(cells);\n          }\n        }\n        if (x === 1) {\n          let done = false;\n          if (left < col) {\n            if (disallowed.length > 0) {\n              const target = range(left + 1, col + 1).find((n) => !disallowed.includes(n - rowMarkerOffset));\n              if (target !== void 0) {\n                left = target;\n                done = true;\n              }\n            } else {\n              left++;\n              done = true;\n            }\n            if (done)\n              scrollTo(left, 0, \"horizontal\");\n          }\n          if (!done) {\n            right = Math.min(mangledCols.length, right + 1);\n            scrollTo(right - 1 - rowMarkerOffset, 0, \"horizontal\");\n          }\n        } else if (x === -1) {\n          let done = false;\n          if (right > col + 1) {\n            if (disallowed.length > 0) {\n              const target = range(right - 1, col, -1).find((n) => !disallowed.includes(n - rowMarkerOffset));\n              if (target !== void 0) {\n                right = target;\n                done = true;\n              }\n            } else {\n              right--;\n              done = true;\n            }\n            if (done)\n              scrollTo(right - rowMarkerOffset, 0, \"horizontal\");\n          }\n          if (!done) {\n            left = Math.max(rowMarkerOffset, left - 1);\n            scrollTo(left - rowMarkerOffset, 0, \"horizontal\");\n          }\n        } else {\n          assertNever(x);\n        }\n      }\n    }\n    setCurrent({\n      cell: gridSelection.current.cell,\n      range: {\n        x: left,\n        y: top,\n        width: right - left,\n        height: bottom - top\n      }\n    }, true, false, \"keyboard-select\");\n  }, [getCellsForSelection, gridSelection, mangledCols.length, rowMarkerOffset, rows, scrollTo, setCurrent]);\n  const updateSelectedCell = React36.useCallback((col, row, fromEditingTrailingRow, freeMove) => {\n    const rowMax = mangledRows - (fromEditingTrailingRow ? 0 : 1);\n    col = clamp5(col, rowMarkerOffset, columns.length - 1 + rowMarkerOffset);\n    row = clamp5(row, 0, rowMax);\n    if (col === (currentCell == null ? void 0 : currentCell[0]) && row === (currentCell == null ? void 0 : currentCell[1]))\n      return false;\n    if (freeMove && gridSelection.current !== void 0) {\n      const newStack = [...gridSelection.current.rangeStack];\n      if (gridSelection.current.range.width > 1 || gridSelection.current.range.height > 1) {\n        newStack.push(gridSelection.current.range);\n      }\n      setGridSelection({\n        ...gridSelection,\n        current: {\n          cell: [col, row],\n          range: { x: col, y: row, width: 1, height: 1 },\n          rangeStack: newStack\n        }\n      }, true);\n    } else {\n      setCurrent({\n        cell: [col, row],\n        range: { x: col, y: row, width: 1, height: 1 }\n      }, true, false, \"keyboard-nav\");\n    }\n    if (lastSent.current !== void 0 && lastSent.current[0] === col && lastSent.current[1] === row) {\n      lastSent.current = void 0;\n    }\n    scrollTo(col - rowMarkerOffset, row);\n    return true;\n  }, [\n    mangledRows,\n    rowMarkerOffset,\n    columns.length,\n    currentCell,\n    gridSelection,\n    scrollTo,\n    setGridSelection,\n    setCurrent\n  ]);\n  const onFinishEditing = React36.useCallback((newValue, movement) => {\n    if ((overlay == null ? void 0 : overlay.cell) !== void 0 && newValue !== void 0 && isEditableGridCell(newValue)) {\n      mangledOnCellsEdited([{ location: overlay.cell, value: newValue }]);\n      window.requestAnimationFrame(() => {\n        var _a2;\n        (_a2 = gridRef.current) == null ? void 0 : _a2.damage([\n          {\n            cell: overlay.cell\n          }\n        ]);\n      });\n    }\n    focus(true);\n    setOverlay(void 0);\n    const [movX, movY] = movement;\n    if (gridSelection.current !== void 0 && (movX !== 0 || movY !== 0)) {\n      const isEditingTrailingRow = gridSelection.current.cell[1] === mangledRows - 1 && newValue !== void 0;\n      updateSelectedCell(clamp5(gridSelection.current.cell[0] + movX, 0, mangledCols.length - 1), clamp5(gridSelection.current.cell[1] + movY, 0, mangledRows - 1), isEditingTrailingRow, false);\n    }\n    onFinishedEditing == null ? void 0 : onFinishedEditing(newValue, movement);\n  }, [\n    overlay == null ? void 0 : overlay.cell,\n    focus,\n    gridSelection,\n    onFinishedEditing,\n    mangledOnCellsEdited,\n    mangledRows,\n    updateSelectedCell,\n    mangledCols.length\n  ]);\n  const overlayID = React36.useMemo(() => {\n    return `gdg-overlay-${idCounter++}`;\n  }, []);\n  const onKeyDown = React36.useCallback((event) => {\n    const fn = async () => {\n      var _a2, _b2, _c2, _d2;\n      const overlayOpen = overlay !== void 0;\n      const { altKey, shiftKey, metaKey, ctrlKey, key, bounds } = event;\n      const isOSX = browserIsOSX.value;\n      const isPrimaryKey = isOSX ? metaKey : ctrlKey;\n      const isDeleteKey = key === \"Delete\" || isOSX && key === \"Backspace\";\n      const vr = visibleRegionRef.current;\n      const selectedColumns = gridSelection.columns;\n      const selectedRows = gridSelection.rows;\n      if (key === \"Escape\") {\n        if (overlayOpen) {\n          setOverlay(void 0);\n        } else if (keybindings.clear) {\n          setGridSelection(emptyGridSelection, false);\n          onSelectionCleared == null ? void 0 : onSelectionCleared();\n        }\n        return;\n      } else if (isHotkey(\"primary+a\", event) && keybindings.selectAll) {\n        if (!overlayOpen) {\n          setGridSelection({\n            columns: CompactSelection.empty(),\n            rows: CompactSelection.empty(),\n            current: {\n              cell: (_b2 = (_a2 = gridSelection.current) == null ? void 0 : _a2.cell) != null ? _b2 : [rowMarkerOffset, 0],\n              range: {\n                x: rowMarkerOffset,\n                y: 0,\n                width: columnsIn.length,\n                height: rows\n              },\n              rangeStack: []\n            }\n          }, false);\n        } else {\n          const el = document.getElementById(overlayID);\n          if (el !== null) {\n            const s = window.getSelection();\n            const r = document.createRange();\n            r.selectNodeContents(el);\n            s == null ? void 0 : s.removeAllRanges();\n            s == null ? void 0 : s.addRange(r);\n          }\n        }\n        event.cancel();\n        return;\n      } else if (isHotkey(\"primary+f\", event) && keybindings.search) {\n        event.cancel();\n        setShowSearchInner(true);\n      }\n      function deleteRange(r) {\n        var _a3, _b3, _c3;\n        focus();\n        const editList = [];\n        for (let x = r.x; x < r.x + r.width; x++) {\n          for (let y = r.y; y < r.y + r.height; y++) {\n            const cellValue = getCellContent([x - rowMarkerOffset, y]);\n            let newVal = void 0;\n            if (cellValue.kind === GridCellKind.Custom) {\n              const editor = provideEditor == null ? void 0 : provideEditor(cellValue);\n              if (isObjectEditorCallbackResult(editor)) {\n                newVal = (_a3 = editor == null ? void 0 : editor.deletedValue) == null ? void 0 : _a3.call(editor, cellValue);\n              }\n            } else if (isEditableGridCell(cellValue) && cellValue.allowOverlay || cellValue.kind === GridCellKind.Boolean) {\n              const toDelete = CellRenderers[cellValue.kind];\n              newVal = (_b3 = toDelete.onDelete) == null ? void 0 : _b3.call(toDelete, cellValue);\n            }\n            if (newVal !== void 0 && !isInnerOnlyCell(newVal) && isEditableGridCell(newVal)) {\n              editList.push({ location: [x, y], value: newVal });\n            }\n          }\n        }\n        mangledOnCellsEdited(editList);\n        (_c3 = gridRef.current) == null ? void 0 : _c3.damage(editList.map((x) => ({ cell: x.location })));\n      }\n      if (isDeleteKey) {\n        const callbackResult = (_c2 = onDelete == null ? void 0 : onDelete(gridSelection)) != null ? _c2 : true;\n        event.cancel();\n        if (callbackResult !== false) {\n          const toDelete = callbackResult === true ? gridSelection : callbackResult;\n          if (toDelete.current !== void 0) {\n            deleteRange(toDelete.current.range);\n            for (const r of toDelete.current.rangeStack) {\n              deleteRange(r);\n            }\n          }\n          for (const r of toDelete.rows) {\n            deleteRange({\n              x: rowMarkerOffset,\n              y: r,\n              width: mangledCols.length - rowMarkerOffset,\n              height: 1\n            });\n          }\n          for (const col2 of toDelete.columns) {\n            deleteRange({\n              x: col2,\n              y: 0,\n              width: 1,\n              height: rows\n            });\n          }\n        }\n        return;\n      }\n      if (gridSelection.current === void 0)\n        return;\n      let [col, row] = gridSelection.current.cell;\n      let freeMove = false;\n      if (keybindings.selectColumn && isHotkey(\"ctrl+ \", event) && columnSelect !== \"none\") {\n        if (selectedColumns.hasIndex(col)) {\n          setSelectedColumns(selectedColumns.remove(col), void 0, true);\n        } else {\n          if (columnSelect === \"single\") {\n            setSelectedColumns(CompactSelection.fromSingleSelection(col), void 0, true);\n          } else {\n            setSelectedColumns(void 0, col, true);\n          }\n        }\n      } else if (keybindings.selectRow && isHotkey(\"shift+ \", event) && rowSelect !== \"none\") {\n        if (selectedRows.hasIndex(row)) {\n          setSelectedRows(selectedRows.remove(row), void 0, true);\n        } else {\n          if (rowSelect === \"single\") {\n            setSelectedRows(CompactSelection.fromSingleSelection(row), void 0, true);\n          } else {\n            setSelectedRows(void 0, row, true);\n          }\n        }\n      } else if ((isHotkey(\"Enter\", event) || isHotkey(\" \", event) || isHotkey(\"shift+Enter\", event)) && bounds !== void 0) {\n        if (overlayOpen) {\n          setOverlay(void 0);\n          if (isHotkey(\"Enter\", event)) {\n            row++;\n          } else if (isHotkey(\"shift+Enter\", event)) {\n            row--;\n          }\n        } else if (row === rows && showTrailingBlankRow) {\n          window.setTimeout(() => {\n            const customTargetColumn = getCustomNewRowTargetColumn(col);\n            void appendRow(customTargetColumn != null ? customTargetColumn : col);\n          }, 0);\n        } else {\n          onCellActivated == null ? void 0 : onCellActivated([col - rowMarkerOffset, row]);\n          reselect(bounds, true);\n          event.cancel();\n        }\n      } else if (keybindings.downFill && isHotkey(\"primary+_68\", event) && gridSelection.current.range.height > 1) {\n        fillDown(false);\n        event.cancel();\n      } else if (keybindings.rightFill && isHotkey(\"primary+_82\", event) && gridSelection.current.range.width > 1) {\n        const editList = [];\n        const r = gridSelection.current.range;\n        for (let y = 0; y < r.height; y++) {\n          const fillRow = y + r.y;\n          const fillVal = getMangledCellContent([r.x, fillRow]);\n          if (isInnerOnlyCell(fillVal) || !isReadWriteCell(fillVal))\n            continue;\n          for (let x = 1; x < r.width; x++) {\n            const fillCol = x + r.x;\n            const target = [fillCol, fillRow];\n            editList.push({\n              location: target,\n              value: { ...fillVal }\n            });\n          }\n        }\n        mangledOnCellsEdited(editList);\n        (_d2 = gridRef.current) == null ? void 0 : _d2.damage(editList.map((c) => ({\n          cell: c.location\n        })));\n        event.cancel();\n      } else if (keybindings.pageDown && isHotkey(\"PageDown\", event)) {\n        row += Math.max(1, visibleRegionRef.current.height - 4);\n        event.cancel();\n      } else if (keybindings.pageUp && isHotkey(\"PageUp\", event)) {\n        row -= Math.max(1, visibleRegionRef.current.height - 4);\n        event.cancel();\n      } else if (keybindings.first && isHotkey(\"primary+Home\", event)) {\n        setOverlay(void 0);\n        row = 0;\n        col = 0;\n      } else if (keybindings.last && isHotkey(\"primary+End\", event)) {\n        setOverlay(void 0);\n        row = Number.MAX_SAFE_INTEGER;\n        col = Number.MAX_SAFE_INTEGER;\n      } else if (keybindings.first && isHotkey(\"primary+shift+Home\", event)) {\n        setOverlay(void 0);\n        adjustSelection([-2, -2]);\n      } else if (keybindings.last && isHotkey(\"primary+shift+End\", event)) {\n        setOverlay(void 0);\n        adjustSelection([2, 2]);\n      } else if (key === \"ArrowDown\") {\n        if (ctrlKey && altKey) {\n          return;\n        }\n        setOverlay(void 0);\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([0, isPrimaryKey && !altKey ? 2 : 1]);\n        } else {\n          if (altKey && !isPrimaryKey) {\n            freeMove = true;\n          }\n          if (isPrimaryKey && !altKey) {\n            row = rows - 1;\n          } else {\n            row += 1;\n          }\n        }\n      } else if (key === \"ArrowUp\" || key === \"Home\") {\n        const asPrimary = key === \"Home\" || isPrimaryKey;\n        setOverlay(void 0);\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([0, asPrimary && !altKey ? -2 : -1]);\n        } else {\n          if (altKey && !asPrimary) {\n            freeMove = true;\n          }\n          row += asPrimary && !altKey ? Number.MIN_SAFE_INTEGER : -1;\n        }\n      } else if (key === \"ArrowRight\" || key === \"End\") {\n        const asPrimary = key === \"End\" || isPrimaryKey;\n        setOverlay(void 0);\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([asPrimary && !altKey ? 2 : 1, 0]);\n        } else {\n          if (altKey && !asPrimary) {\n            freeMove = true;\n          }\n          col += asPrimary && !altKey ? Number.MAX_SAFE_INTEGER : 1;\n        }\n      } else if (key === \"ArrowLeft\") {\n        setOverlay(void 0);\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([isPrimaryKey && !altKey ? -2 : -1, 0]);\n        } else {\n          if (altKey && !isPrimaryKey) {\n            freeMove = true;\n          }\n          col += isPrimaryKey && !altKey ? Number.MIN_SAFE_INTEGER : -1;\n        }\n      } else if (key === \"Tab\") {\n        setOverlay(void 0);\n        if (shiftKey) {\n          col--;\n        } else {\n          col++;\n        }\n      } else if (!metaKey && !ctrlKey && gridSelection.current !== void 0 && key.length === 1 && /[ -~]/g.test(key) && bounds !== void 0 && isReadWriteCell(getCellContent([col - rowMarkerOffset, Math.max(0, row - 1)]))) {\n        if ((!lastRowSticky || row !== rows) && (vr.y > row || row > vr.y + vr.height || vr.x > col || col > vr.x + vr.width)) {\n          return;\n        }\n        reselect(bounds, true, key);\n        event.cancel();\n      }\n      const moved = updateSelectedCell(col, row, false, freeMove);\n      if (moved) {\n        event.cancel();\n      }\n    };\n    void fn();\n  }, [\n    overlay,\n    gridSelection,\n    keybindings.selectAll,\n    keybindings.search,\n    keybindings.selectColumn,\n    keybindings.selectRow,\n    keybindings.downFill,\n    keybindings.rightFill,\n    keybindings.pageDown,\n    keybindings.pageUp,\n    keybindings.first,\n    keybindings.last,\n    keybindings.clear,\n    columnSelect,\n    rowSelect,\n    getCellContent,\n    rowMarkerOffset,\n    updateSelectedCell,\n    setGridSelection,\n    onSelectionCleared,\n    columnsIn.length,\n    rows,\n    overlayID,\n    focus,\n    mangledOnCellsEdited,\n    provideEditor,\n    onDelete,\n    mangledCols.length,\n    setSelectedColumns,\n    setSelectedRows,\n    showTrailingBlankRow,\n    getCustomNewRowTargetColumn,\n    appendRow,\n    onCellActivated,\n    reselect,\n    fillDown,\n    getMangledCellContent,\n    adjustSelection,\n    rangeSelect,\n    lastRowSticky\n  ]);\n  const onPasteInternal = React36.useCallback(async (e) => {\n    var _a2, _b2, _c2, _d2, _e2, _f2, _g;\n    if (!keybindings.paste)\n      return;\n    function pasteToCell(inner, target2, toPaste) {\n      if (!isInnerOnlyCell(inner) && isReadWriteCell(inner) && inner.readonly !== true) {\n        const coerced = coercePasteValue == null ? void 0 : coercePasteValue(toPaste, inner);\n        if (coerced !== void 0 && isEditableGridCell(coerced)) {\n          if (coerced.kind !== inner.kind) {\n            console.warn(\"Coercion should not change cell kind.\");\n          }\n          return {\n            location: target2,\n            value: coerced\n          };\n        }\n        switch (inner.kind) {\n          case GridCellKind.Text:\n          case GridCellKind.Markdown:\n          case GridCellKind.Uri: {\n            return {\n              location: target2,\n              value: {\n                ...inner,\n                data: toPaste\n              }\n            };\n          }\n          case GridCellKind.Number: {\n            const newNumber = Number.parseFloat(toPaste);\n            if (!Number.isNaN(newNumber)) {\n              return {\n                location: target2,\n                value: {\n                  ...inner,\n                  data: newNumber\n                }\n              };\n            }\n            return void 0;\n          }\n          case GridCellKind.Custom: {\n            return {\n              location: target2,\n              value: {\n                ...inner,\n                copyData: toPaste\n              }\n            };\n          }\n          case GridCellKind.Boolean: {\n            let newVal = BooleanEmpty;\n            if (toPaste.toLowerCase() === \"true\") {\n              newVal = true;\n            } else if (toPaste.toLowerCase() === \"false\") {\n              newVal = false;\n            } else if (toPaste.toLowerCase() === \"indeterminate\") {\n              newVal = BooleanIndeterminate;\n            }\n            return {\n              location: target2,\n              value: {\n                ...inner,\n                data: newVal\n              }\n            };\n          }\n          default:\n            assertNever(inner);\n        }\n      }\n      return void 0;\n    }\n    const selectedColumns = gridSelection.columns;\n    const selectedRows = gridSelection.rows;\n    const focused = ((_a2 = scrollRef.current) == null ? void 0 : _a2.contains(document.activeElement)) === true || ((_b2 = canvasRef.current) == null ? void 0 : _b2.contains(document.activeElement)) === true;\n    let target = (_c2 = gridSelection.current) == null ? void 0 : _c2.cell;\n    if (target === void 0 && selectedColumns.length === 1) {\n      target = [(_d2 = selectedColumns.first()) != null ? _d2 : 0, 0];\n    }\n    if (target === void 0 && selectedRows.length === 1) {\n      target = [rowMarkerOffset, (_e2 = selectedRows.first()) != null ? _e2 : 0];\n    }\n    if (focused && target !== void 0) {\n      let data;\n      let text;\n      const textPlain = \"text/plain\";\n      const textHtml = \"text/html\";\n      if (navigator.clipboard.read !== void 0) {\n        const clipboardContent = await navigator.clipboard.read();\n        for (const item of clipboardContent) {\n          if (item.types.includes(textHtml)) {\n            const htmlBlob = await item.getType(textHtml);\n            const html = await htmlBlob.text();\n            const fragment = document.createElement(\"html\");\n            fragment.innerHTML = html;\n            const el = fragment.querySelector(\"table\");\n            if (el !== null) {\n              data = decodeHTML(el);\n              break;\n            }\n          }\n          if (item.types.includes(textPlain)) {\n            text = await (await item.getType(textPlain)).text();\n          }\n        }\n      } else if (navigator.clipboard.readText !== void 0) {\n        text = await navigator.clipboard.readText();\n      } else if (e !== void 0 && (e == null ? void 0 : e.clipboardData) !== null) {\n        if (e.clipboardData.types.includes(textHtml)) {\n          const html = e.clipboardData.getData(textHtml);\n          const fragment = document.createElement(\"html\");\n          fragment.innerHTML = html;\n          const el = fragment.querySelector(\"table\");\n          if (el !== null) {\n            data = decodeHTML(el);\n          }\n        }\n        if (data === void 0 && e.clipboardData.types.includes(textPlain)) {\n          text = e.clipboardData.getData(textPlain);\n        }\n      } else {\n        return;\n      }\n      const [gridCol, gridRow] = target;\n      const editList = [];\n      do {\n        if (onPaste === void 0) {\n          const cellData = getMangledCellContent(target);\n          const newVal = pasteToCell(cellData, target, (_f2 = text != null ? text : data == null ? void 0 : data.map((r) => r.join(\"\t\")).join(\"\t\")) != null ? _f2 : \"\");\n          if (newVal !== void 0) {\n            editList.push(newVal);\n          }\n          break;\n        }\n        if (data === void 0) {\n          if (text === void 0)\n            return;\n          data = unquote(text);\n        }\n        if (onPaste === false || typeof onPaste === \"function\" && (onPaste == null ? void 0 : onPaste([target[0] - rowMarkerOffset, target[1]], data)) !== true) {\n          return;\n        }\n        for (const [row, dataRow] of data.entries()) {\n          if (row + gridRow >= rows)\n            break;\n          for (const [col, dataItem] of dataRow.entries()) {\n            const index2 = [col + gridCol, row + gridRow];\n            const cellData = getMangledCellContent(index2);\n            const newVal = pasteToCell(cellData, index2, dataItem);\n            if (newVal !== void 0) {\n              editList.push(newVal);\n            }\n          }\n        }\n      } while (false);\n      mangledOnCellsEdited(editList);\n      (_g = gridRef.current) == null ? void 0 : _g.damage(editList.map((c) => ({\n        cell: c.location\n      })));\n    }\n  }, [\n    coercePasteValue,\n    getMangledCellContent,\n    gridSelection,\n    keybindings.paste,\n    mangledOnCellsEdited,\n    onPaste,\n    rowMarkerOffset,\n    rows\n  ]);\n  useEventListener(\"paste\", onPasteInternal, window, false, true);\n  const onCopy = React36.useCallback(async (e, ignoreFocus) => {\n    var _a2, _b2;\n    if (!keybindings.copy)\n      return;\n    const focused = ignoreFocus === true || ((_a2 = scrollRef.current) == null ? void 0 : _a2.contains(document.activeElement)) === true || ((_b2 = canvasRef.current) == null ? void 0 : _b2.contains(document.activeElement)) === true;\n    const selectedColumns = gridSelection.columns;\n    const selectedRows = gridSelection.rows;\n    if (focused && getCellsForSelection !== void 0) {\n      if (gridSelection.current !== void 0) {\n        let thunk = getCellsForSelection(gridSelection.current.range, abortControllerRef.current.signal);\n        if (typeof thunk !== \"object\") {\n          thunk = await thunk();\n        }\n        copyToClipboard(thunk, range(gridSelection.current.range.x - rowMarkerOffset, gridSelection.current.range.x + gridSelection.current.range.width - rowMarkerOffset), e);\n      } else if (selectedRows !== void 0 && selectedRows.length > 0) {\n        const toCopy = [...selectedRows];\n        const cells = toCopy.map((rowIndex) => {\n          const thunk = getCellsForSelection({\n            x: rowMarkerOffset,\n            y: rowIndex,\n            width: columnsIn.length - rowMarkerOffset,\n            height: 1\n          }, abortControllerRef.current.signal);\n          if (typeof thunk === \"object\") {\n            return thunk[0];\n          }\n          return thunk().then((v) => v[0]);\n        });\n        if (cells.some((x) => x instanceof Promise)) {\n          const settled = await Promise.all(cells);\n          copyToClipboard(settled, range(columnsIn.length), e);\n        } else {\n          copyToClipboard(cells, range(columnsIn.length), e);\n        }\n      } else if (selectedColumns.length > 0) {\n        const results = [];\n        const cols = [];\n        for (const col of selectedColumns) {\n          let thunk = getCellsForSelection({\n            x: col,\n            y: 0,\n            width: 1,\n            height: rows\n          }, abortControllerRef.current.signal);\n          if (typeof thunk !== \"object\") {\n            thunk = await thunk();\n          }\n          results.push(thunk);\n          cols.push(col - rowMarkerOffset);\n        }\n        if (results.length === 1) {\n          copyToClipboard(results[0], cols, e);\n        } else {\n          const toCopy = results.reduce((pv, cv) => pv.map((row, index2) => [...row, ...cv[index2]]));\n          copyToClipboard(toCopy, cols, e);\n        }\n      }\n    }\n  }, [columnsIn.length, getCellsForSelection, gridSelection, keybindings.copy, rowMarkerOffset, rows]);\n  useEventListener(\"copy\", onCopy, window, false, false);\n  const onSearchResultsChanged = React36.useCallback((results, navIndex) => {\n    if (results.length === 0 || navIndex === -1)\n      return;\n    const [col, row] = results[navIndex];\n    if (lastSent.current !== void 0 && lastSent.current[0] === col && lastSent.current[1] === row) {\n      return;\n    }\n    lastSent.current = [col, row];\n    updateSelectedCell(col, row, false, false);\n  }, [updateSelectedCell]);\n  const [outCol, outRow] = (_d = (_c = gridSelectionOuter == null ? void 0 : gridSelectionOuter.current) == null ? void 0 : _c.cell) != null ? _d : [];\n  const scrollToRef = React36.useRef(scrollTo);\n  scrollToRef.current = scrollTo;\n  React36.useEffect(() => {\n    if (outCol !== void 0 && outRow !== void 0) {\n      scrollToRef.current(outCol, outRow);\n    }\n  }, [outCol, outRow]);\n  const disabledRows = React36.useMemo(() => {\n    if (showTrailingBlankRow === true && (trailingRowOptions == null ? void 0 : trailingRowOptions.tint) === true) {\n      return CompactSelection.fromSingleSelection(mangledRows - 1);\n    }\n    return CompactSelection.empty();\n  }, [mangledRows, showTrailingBlankRow, trailingRowOptions == null ? void 0 : trailingRowOptions.tint]);\n  const mangledVerticalBorder = React36.useCallback((col) => {\n    var _a2;\n    return typeof verticalBorder === \"boolean\" ? verticalBorder : (_a2 = verticalBorder == null ? void 0 : verticalBorder(col - rowMarkerOffset)) != null ? _a2 : true;\n  }, [rowMarkerOffset, verticalBorder]);\n  const renameGroupNode = React36.useMemo(() => {\n    if (renameGroup === void 0 || canvasRef.current === null)\n      return null;\n    const { bounds, group } = renameGroup;\n    const canvasBounds = canvasRef.current.getBoundingClientRect();\n    return /* @__PURE__ */ React36.createElement(GroupRename, {\n      bounds,\n      group,\n      canvasBounds,\n      onClose: () => setRenameGroup(void 0),\n      onFinish: (newVal) => {\n        setRenameGroup(void 0);\n        onGroupHeaderRenamed == null ? void 0 : onGroupHeaderRenamed(group, newVal);\n      }\n    });\n  }, [onGroupHeaderRenamed, renameGroup]);\n  const mangledFreezeColumns = Math.min(mangledCols.length, freezeColumns + (hasRowMarkers ? 1 : 0));\n  React36.useImperativeHandle(forwardedRef, () => ({\n    appendRow: (col) => appendRow(col + rowMarkerOffset),\n    updateCells: (damageList) => {\n      var _a2;\n      if (rowMarkerOffset !== 0) {\n        damageList = damageList.map((x) => ({ cell: [x.cell[0] + rowMarkerOffset, x.cell[1]] }));\n      }\n      return (_a2 = gridRef.current) == null ? void 0 : _a2.damage(damageList);\n    },\n    getBounds: (col, row) => {\n      var _a2;\n      return (_a2 = gridRef.current) == null ? void 0 : _a2.getBounds(col + rowMarkerOffset, row);\n    },\n    focus: () => {\n      var _a2;\n      return (_a2 = gridRef.current) == null ? void 0 : _a2.focus();\n    },\n    emit: async (e) => {\n      switch (e) {\n        case \"delete\":\n          onKeyDown({\n            bounds: void 0,\n            cancel: () => void 0,\n            ctrlKey: false,\n            key: \"Delete\",\n            keyCode: 46,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n          break;\n        case \"fill-right\":\n          onKeyDown({\n            bounds: void 0,\n            cancel: () => void 0,\n            ctrlKey: true,\n            key: \"r\",\n            keyCode: 82,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n          break;\n        case \"fill-down\":\n          onKeyDown({\n            bounds: void 0,\n            cancel: () => void 0,\n            ctrlKey: true,\n            key: \"d\",\n            keyCode: 68,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n          break;\n        case \"copy\":\n          await onCopy(void 0, true);\n          break;\n        case \"paste\":\n          await onPasteInternal();\n          break;\n      }\n    },\n    scrollTo\n  }), [appendRow, onCopy, onKeyDown, onPasteInternal, rowMarkerOffset, scrollTo]);\n  const [selCol, selRow] = currentCell != null ? currentCell : [];\n  const onCellFocused = React36.useCallback((cell) => {\n    const [col, row] = cell;\n    if (row === -1) {\n      if (columnSelect !== \"none\") {\n        setSelectedColumns(CompactSelection.fromSingleSelection(col), void 0, false);\n        focus();\n      }\n      return;\n    }\n    if (selCol === col && selRow === row)\n      return;\n    setCurrent({\n      cell,\n      range: { x: col, y: row, width: 1, height: 1 }\n    }, true, false, \"keyboard-nav\");\n    scrollTo(col, row);\n  }, [columnSelect, focus, scrollTo, selCol, selRow, setCurrent, setSelectedColumns]);\n  const [isFocused, setIsFocused] = React36.useState(false);\n  const setIsFocusedDebounced = React36.useRef(debounce2((val) => {\n    setIsFocused(val);\n  }, 5));\n  const onCanvasFocused = React36.useCallback(() => {\n    setIsFocusedDebounced.current(true);\n    if (gridSelection.current === void 0 && gridSelection.columns.length === 0 && gridSelection.rows.length === 0 && mouseState === void 0) {\n      setCurrent({\n        cell: [rowMarkerOffset, cellYOffset],\n        range: {\n          x: rowMarkerOffset,\n          y: cellYOffset,\n          width: 1,\n          height: 1\n        }\n      }, true, false, \"keyboard-select\");\n    }\n  }, [cellYOffset, gridSelection, mouseState, rowMarkerOffset, setCurrent]);\n  const onFocusOut = React36.useCallback(() => {\n    setIsFocusedDebounced.current(false);\n  }, []);\n  const [idealWidth, idealHeight] = React36.useMemo(() => {\n    var _a2, _b2;\n    let h;\n    const scrollbarWidth = (_b2 = (_a2 = p.experimental) == null ? void 0 : _a2.scrollbarWidthOverride) != null ? _b2 : getScrollBarWidth();\n    const rowsCountWithTrailingRow = rows + (showTrailingBlankRow ? 1 : 0);\n    if (typeof rowHeight === \"number\") {\n      h = totalHeaderHeight + rowsCountWithTrailingRow * rowHeight;\n    } else {\n      let avg = 0;\n      const toAverage = Math.min(rowsCountWithTrailingRow, 10);\n      for (let i = 0; i < toAverage; i++) {\n        avg += rowHeight(i);\n      }\n      avg = Math.floor(avg / toAverage);\n      h = totalHeaderHeight + rowsCountWithTrailingRow * avg;\n    }\n    h += scrollbarWidth;\n    const w = mangledCols.reduce((acc, x) => x.width + acc, 0) + scrollbarWidth;\n    return [`${Math.min(1e5, w)}px`, `${Math.min(1e5, h)}px`];\n  }, [mangledCols, (_e = p.experimental) == null ? void 0 : _e.scrollbarWidthOverride, rowHeight, rows, showTrailingBlankRow, totalHeaderHeight]);\n  return /* @__PURE__ */ React36.createElement(ThemeContext.Provider, {\n    value: mergedTheme\n  }, /* @__PURE__ */ React36.createElement(DataEditorContainer, {\n    style: makeCSSStyle(mergedTheme),\n    className,\n    inWidth: width != null ? width : idealWidth,\n    inHeight: height != null ? height : idealHeight\n  }, /* @__PURE__ */ React36.createElement(data_grid_search_default, {\n    ...rest,\n    enableGroups,\n    onCanvasFocused,\n    onCanvasBlur: onFocusOut,\n    canvasRef,\n    onContextMenu,\n    theme: mergedTheme,\n    cellXOffset,\n    cellYOffset,\n    accessibilityHeight: visibleRegion.height,\n    onDragEnd,\n    columns: mangledCols,\n    drawCustomCell: drawCell2,\n    drawHeader: drawHeader2,\n    disabledRows,\n    freezeColumns: mangledFreezeColumns,\n    lockColumns: rowMarkerOffset,\n    firstColAccessible: rowMarkerOffset === 0,\n    getCellContent: getMangledCellContent,\n    minColumnWidth,\n    maxColumnWidth,\n    showSearch,\n    onSearchClose,\n    highlightRegions,\n    getCellsForSelection,\n    getGroupDetails: mangledGetGroupDetails,\n    headerHeight,\n    isFocused,\n    groupHeaderHeight: enableGroups ? groupHeaderHeight : 0,\n    trailingRowType: !showTrailingBlankRow ? \"none\" : (trailingRowOptions == null ? void 0 : trailingRowOptions.sticky) === true ? \"sticky\" : \"appended\",\n    onColumnResize,\n    onColumnResizeEnd,\n    onColumnResizeStart,\n    onCellFocused,\n    onColumnMoved: onColumnMovedImpl,\n    onDragStart: onDragStartImpl,\n    onHeaderMenuClick: onHeaderMenuClickInner,\n    onItemHovered: onItemHoveredImpl,\n    isFilling: (mouseState == null ? void 0 : mouseState.fillHandle) === true,\n    onMouseMove: onMouseMoveImpl,\n    onKeyDown,\n    onMouseDown,\n    onMouseUp,\n    onDragOverCell,\n    onDrop,\n    onSearchResultsChanged,\n    onVisibleRegionChanged: onVisibleRegionChangedImpl,\n    clientSize: [clientSize[0], clientSize[1]],\n    rowHeight,\n    rows: mangledRows,\n    scrollRef,\n    selection: gridSelection,\n    translateX: visibleRegion.tx,\n    translateY: visibleRegion.ty,\n    verticalBorder: mangledVerticalBorder,\n    gridRef\n  }), renameGroupNode, overlay !== void 0 && /* @__PURE__ */ React36.createElement(data_grid_overlay_editor_default, {\n    ...overlay,\n    validateCell,\n    id: overlayID,\n    className: ((_f = p.experimental) == null ? void 0 : _f.isSubGrid) === true ? \"click-outside-ignore\" : void 0,\n    provideEditor,\n    imageEditorOverride,\n    onFinishEditing,\n    markdownDivCreateNode\n  })));\n};\nvar DataEditor = React36.forwardRef(DataEditorImpl);\n\n// src/data-editor/use-custom-cells.ts\nimport * as React37 from \"react\";\nfunction useCustomCells(cells) {\n  const drawCell2 = React37.useCallback((args) => {\n    const { cell } = args;\n    if (cell.kind !== GridCellKind.Custom)\n      return false;\n    for (const c of cells) {\n      if (c.isMatch(cell)) {\n        return c.draw(args, cell);\n      }\n    }\n    return false;\n  }, [cells]);\n  const provideEditor = React37.useCallback((cell) => {\n    if (cell.kind !== GridCellKind.Custom)\n      return void 0;\n    for (const c of cells) {\n      if (c.isMatch(cell)) {\n        return c.provideEditor(cell);\n      }\n    }\n    return void 0;\n  }, [cells]);\n  const coercePasteValue = React37.useCallback((val, cell) => {\n    if (cell.kind !== GridCellKind.Custom)\n      return void 0;\n    for (const c of cells) {\n      if (c.isMatch(cell)) {\n        if (c.onPaste === void 0) {\n          return void 0;\n        }\n        return {\n          ...cell,\n          data: c.onPaste(val, cell.data)\n        };\n      }\n    }\n  }, [cells]);\n  return { drawCell: drawCell2, provideEditor, coercePasteValue };\n}\nexport {\n  BooleanEmpty,\n  BooleanIndeterminate,\n  CompactSelection,\n  DataEditor,\n  GridCellKind,\n  GridColumnIcon,\n  image_overlay_editor_default as ImageOverlayEditor,\n  InnerGridCellKind,\n  MarkdownDiv,\n  growing_entry_default as TextCellEntry,\n  booleanCellIsEditable,\n  DataEditor as default,\n  drawTextCellExternal as drawTextCell,\n  getDataEditorTheme as getDefaultTheme,\n  getMiddleCenterBias,\n  groupHeaderKind,\n  headerCellCheckboxPrefix,\n  headerCellCheckedMarker,\n  headerCellIndeterminateMarker,\n  headerCellUnheckedMarker,\n  headerKind,\n  isEditableGridCell,\n  isInnerOnlyCell,\n  isObjectEditorCallbackResult,\n  isReadWriteCell,\n  isSizedGridColumn,\n  isTextEditableGridCell,\n  measureTextCached,\n  outOfBoundsKind,\n  parseToRgba,\n  resolveCellsThunk,\n  useColumnSizer,\n  useCustomCells,\n  useTheme\n};\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', './react-swipe'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./react-swipe'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.reactSwipe);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _reactSwipe) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _reactSwipe2 = _interopRequireDefault(_reactSwipe);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = _reactSwipe2.default;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _default = {\n  ROOT: function ROOT(customClassName) {\n    return (0, _classnames.default)(_defineProperty({\n      'carousel-root': true\n    }, customClassName || '', !!customClassName));\n  },\n  CAROUSEL: function CAROUSEL(isSlider) {\n    return (0, _classnames.default)({\n      carousel: true,\n      'carousel-slider': isSlider\n    });\n  },\n  WRAPPER: function WRAPPER(isSlider, axis) {\n    return (0, _classnames.default)({\n      'thumbs-wrapper': !isSlider,\n      'slider-wrapper': isSlider,\n      'axis-horizontal': axis === 'horizontal',\n      'axis-vertical': axis !== 'horizontal'\n    });\n  },\n  SLIDER: function SLIDER(isSlider, isSwiping) {\n    return (0, _classnames.default)({\n      thumbs: !isSlider,\n      slider: isSlider,\n      animated: !isSwiping\n    });\n  },\n  ITEM: function ITEM(isSlider, selected, previous) {\n    return (0, _classnames.default)({\n      thumb: !isSlider,\n      slide: isSlider,\n      selected: selected,\n      previous: previous\n    });\n  },\n  ARROW_PREV: function ARROW_PREV(disabled) {\n    return (0, _classnames.default)({\n      'control-arrow control-prev': true,\n      'control-disabled': disabled\n    });\n  },\n  ARROW_NEXT: function ARROW_NEXT(disabled) {\n    return (0, _classnames.default)({\n      'control-arrow control-next': true,\n      'control-disabled': disabled\n    });\n  },\n  DOT: function DOT(selected) {\n    return (0, _classnames.default)({\n      dot: true,\n      selected: selected\n    });\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../cssClasses\"));\n\nvar _dimensions = require(\"../dimensions\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../CSSTranslate\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _window = _interopRequireDefault(require(\"../shims/window\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e.hasOwnProperty('key');\n};\n\nvar Thumbs = /*#__PURE__*/function (_Component) {\n  _inherits(Thumbs, _Component);\n\n  var _super = _createSuper(Thumbs);\n\n  function Thumbs(_props) {\n    var _this;\n\n    _classCallCheck(this, Thumbs);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsListRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsWrapperRef\", function (node) {\n      _this.itemsWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsListRef\", function (node) {\n      _this.itemsListRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node, index) {\n      if (!_this.thumbsRef) {\n        _this.thumbsRef = [];\n      }\n\n      _this.thumbsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.props.children || !_this.itemsWrapperRef || !_this.thumbsRef) {\n        return;\n      }\n\n      var total = _react.Children.count(_this.props.children);\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var itemSize = _this.props.thumbWidth ? _this.props.thumbWidth : (0, _dimensions.outerWidth)(_this.thumbsRef[0]);\n      var visibleItems = Math.floor(wrapperSize / itemSize);\n      var showArrows = visibleItems < total;\n      var lastPosition = showArrows ? total - visibleItems : 0;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize: itemSize,\n          visibleItems: visibleItems,\n          firstItem: showArrows ? _this.getFirstItem(props.selectedItem) : 0,\n          lastPosition: lastPosition,\n          showArrows: showArrows\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item, e) {\n      if (!isKeyboardEvent(e) || e.key === 'Enter') {\n        var handler = _this.props.onSelectItem;\n\n        if (typeof handler === 'function') {\n          handler(index, item);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function () {\n      _this.setState({\n        swiping: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function () {\n      _this.setState({\n        swiping: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta) {\n      var deltaX = delta.x;\n\n      if (!_this.state.itemSize || !_this.itemsWrapperRef || !_this.state.visibleItems) {\n        return false;\n      }\n\n      var leftBoundary = 0;\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var currentPosition = -(_this.state.firstItem * 100) / _this.state.visibleItems;\n      var lastLeftItem = Math.max(childrenLength - _this.state.visibleItems, 0);\n      var lastLeftBoundary = -lastLeftItem * 100 / _this.state.visibleItems; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === leftBoundary && deltaX > 0) {\n        deltaX = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === lastLeftBoundary && deltaX < 0) {\n        deltaX = 0;\n      }\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var position = currentPosition + 100 / (wrapperSize / deltaX); // if 3d isn't available we will use left to move\n\n      if (_this.itemsListRef) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          _this.itemsListRef.style[prop] = (0, _CSSTranslate.default)(position, '%', _this.props.axis);\n        });\n      }\n\n      return true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideRight\", function (positions) {\n      _this.moveTo(_this.state.firstItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideLeft\", function (positions) {\n      _this.moveTo(_this.state.firstItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      // position can't be lower than 0\n      position = position < 0 ? 0 : position; // position can't be higher than last postion\n\n      position = position >= _this.state.lastPosition ? _this.state.lastPosition : position;\n\n      _this.setState({\n        firstItem: position\n      });\n    });\n\n    _this.state = {\n      selectedItem: _props.selectedItem,\n      swiping: false,\n      showArrows: false,\n      firstItem: 0,\n      visibleItems: 0,\n      lastPosition: 0\n    };\n    return _this;\n  }\n\n  _createClass(Thumbs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupThumbs();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.selectedItem !== this.state.selectedItem) {\n        this.setState({\n          selectedItem: this.props.selectedItem,\n          firstItem: this.getFirstItem(this.props.selectedItem)\n        });\n      }\n\n      if (this.props.children === prevProps.children) {\n        return;\n      } // This will capture any size changes for arrow adjustments etc.\n      // usually in the same render cycle so we don't see any flickers\n\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyThumbs();\n    }\n  }, {\n    key: \"setupThumbs\",\n    value: function setupThumbs() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes); // when the component is rendered we need to calculate\n      // the container size to adjust the responsive behaviour\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"destroyThumbs\",\n    value: function destroyThumbs() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n    }\n  }, {\n    key: \"getFirstItem\",\n    value: function getFirstItem(selectedItem) {\n      var firstItem = selectedItem;\n\n      if (selectedItem >= this.state.lastPosition) {\n        firstItem = this.state.lastPosition;\n      }\n\n      if (selectedItem < this.state.firstItem + this.state.visibleItems) {\n        firstItem = this.state.firstItem;\n      }\n\n      if (selectedItem < this.state.firstItem) {\n        firstItem = selectedItem;\n      }\n\n      return firstItem;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      return this.props.children.map(function (img, index) {\n        var itemClass = _cssClasses.default.ITEM(false, index === _this2.state.selectedItem);\n\n        var thumbProps = {\n          key: index,\n          ref: function ref(e) {\n            return _this2.setThumbsRef(e, index);\n          },\n          className: itemClass,\n          onClick: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          onKeyDown: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          'aria-label': \"\".concat(_this2.props.labels.item, \" \").concat(index + 1),\n          style: {\n            width: _this2.props.thumbWidth\n          }\n        };\n        return /*#__PURE__*/_react.default.createElement(\"li\", _extends({}, thumbProps, {\n          role: \"button\",\n          tabIndex: 0\n        }), img);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return null;\n      }\n\n      var isSwipeable = _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = this.state.showArrows && this.state.firstItem > 0; // show right arrow\n\n      var hasNext = this.state.showArrows && this.state.firstItem < this.state.lastPosition; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = -this.state.firstItem * (this.state.itemSize || 0);\n      var transformProp = (0, _CSSTranslate.default)(currentPosition, 'px', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp,\n        WebkitTransitionDuration: transitionTime,\n        MozTransitionDuration: transitionTime,\n        MsTransitionDuration: transitionTime,\n        OTransitionDuration: transitionTime,\n        transitionDuration: transitionTime,\n        msTransitionDuration: transitionTime\n      };\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(false)\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(false),\n        ref: this.setItemsWrapperRef\n      }, /*#__PURE__*/_react.default.createElement(\"button\", {\n        type: \"button\",\n        className: _cssClasses.default.ARROW_PREV(!hasPrev),\n        onClick: function onClick() {\n          return _this3.slideRight();\n        },\n        \"aria-label\": this.props.labels.leftArrow\n      }), isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, {\n        tagName: \"ul\",\n        className: _cssClasses.default.SLIDER(false, this.state.swiping),\n        onSwipeLeft: this.slideLeft,\n        onSwipeRight: this.slideRight,\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        innerRef: this.setItemsListRef,\n        allowMouseEvents: this.props.emulateTouch\n      }, this.renderItems()) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(false, this.state.swiping),\n        ref: function ref(node) {\n          return _this3.setItemsListRef(node);\n        },\n        style: itemListStyles\n      }, this.renderItems()), /*#__PURE__*/_react.default.createElement(\"button\", {\n        type: \"button\",\n        className: _cssClasses.default.ARROW_NEXT(!hasNext),\n        onClick: function onClick() {\n          return _this3.slideLeft();\n        },\n        \"aria-label\": this.props.labels.rightArrow\n      })));\n    }\n  }]);\n\n  return Thumbs;\n}(_react.Component);\n\nexports.default = Thumbs;\n\n_defineProperty(Thumbs, \"displayName\", 'Thumbs');\n\n_defineProperty(Thumbs, \"defaultProps\", {\n  axis: 'horizontal',\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  selectedItem: 0,\n  thumbWidth: 80,\n  transitionTime: 350\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return window;\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setPosition = exports.getPosition = exports.isKeyboardEvent = exports.defaultStatusFormatter = exports.noop = void 0;\n\nvar _react = require(\"react\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../../CSSTranslate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar noop = function noop() {};\n\nexports.noop = noop;\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return \"\".concat(current, \" of \").concat(total);\n};\n\nexports.defaultStatusFormatter = defaultStatusFormatter;\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e ? e.hasOwnProperty('key') : false;\n};\n/**\n * Gets the list 'position' relative to a current index\n * @param index\n */\n\n\nexports.isKeyboardEvent = isKeyboardEvent;\n\nvar getPosition = function getPosition(index, props) {\n  if (props.infiniteLoop) {\n    // index has to be added by 1 because of the first cloned slide\n    ++index;\n  }\n\n  if (index === 0) {\n    return 0;\n  }\n\n  var childrenLength = _react.Children.count(props.children);\n\n  if (props.centerMode && props.axis === 'horizontal') {\n    var currentPosition = -index * props.centerSlidePercentage;\n    var lastPosition = childrenLength - 1;\n\n    if (index && (index !== lastPosition || props.infiniteLoop)) {\n      currentPosition += (100 - props.centerSlidePercentage) / 2;\n    } else if (index === lastPosition) {\n      currentPosition += 100 - props.centerSlidePercentage;\n    }\n\n    return currentPosition;\n  }\n\n  return -index * 100;\n};\n/**\n * Sets the 'position' transform for sliding animations\n * @param position\n * @param forceReflow\n */\n\n\nexports.getPosition = getPosition;\n\nvar setPosition = function setPosition(position, axis) {\n  var style = {};\n  ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n    // @ts-ignore\n    style[prop] = (0, _CSSTranslate.default)(position, '%', axis);\n  });\n  return style;\n};\n\nexports.setPosition = setPosition;","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Carousel\", {\n  enumerable: true,\n  get: function get() {\n    return _Carousel.default;\n  }\n});\nObject.defineProperty(exports, \"CarouselProps\", {\n  enumerable: true,\n  get: function get() {\n    return _types.CarouselProps;\n  }\n});\nObject.defineProperty(exports, \"Thumbs\", {\n  enumerable: true,\n  get: function get() {\n    return _Thumbs.default;\n  }\n});\n\nvar _Carousel = _interopRequireDefault(require(\"./components/Carousel\"));\n\nvar _types = require(\"./components/Carousel/types\");\n\nvar _Thumbs = _interopRequireDefault(require(\"./components/Thumbs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../../cssClasses\"));\n\nvar _Thumbs = _interopRequireDefault(require(\"../Thumbs\"));\n\nvar _document = _interopRequireDefault(require(\"../../shims/document\"));\n\nvar _window = _interopRequireDefault(require(\"../../shims/window\"));\n\nvar _utils = require(\"./utils\");\n\nvar _animations = require(\"./animations\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Carousel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n\n  var _super = _createSuper(Carousel);\n\n  // @ts-ignore\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"carouselWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"listRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animationHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node) {\n      _this.thumbsRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCarouselWrapperRef\", function (node) {\n      _this.carouselWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setListRef\", function (node) {\n      _this.listRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsRef\", function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoPlay\", function () {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.clearAutoPlay();\n\n      if (!_this.props.autoPlay) {\n        return;\n      }\n\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAutoPlay\", function () {\n      if (_this.timer) clearTimeout(_this.timer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAutoPlay\", function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopOnHover\", function () {\n      _this.setState({\n        isMouseEntered: true\n      }, _this.clearAutoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnLeave\", function () {\n      _this.setState({\n        isMouseEntered: false\n      }, _this.autoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isFocusWithinTheCarousel\", function () {\n      if (!_this.carouselWrapperRef) {\n        return false;\n      }\n\n      if ((0, _document.default)().activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains((0, _document.default)().activeElement)) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"navigateWithKeyboard\", function (e) {\n      if (!_this.isFocusWithinTheCarousel()) {\n        return;\n      }\n\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.state.initialized || !_this.itemsRef || _this.itemsRef.length === 0) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n\n      if (!firstItem) {\n        return;\n      }\n\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState({\n        itemSize: itemSize\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnChange\", function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickThumb\", function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.moveTo(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false,\n        swipeMovementStarted: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.clearAutoPlay();\n\n      if (_this.state.autoPlay) {\n        _this.autoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var animationHandlerResponse = _this.props.swipeAnimationHandler(delta, _this.props, _this.state, _this.setState.bind(_assertThisInitialized(_this)));\n\n      _this.setState(_objectSpread({}, animationHandlerResponse)); // If we have not moved, we should have an empty object returned\n      // Return false to allow scrolling when not swiping\n\n\n      return !!Object.keys(animationHandlerResponse).length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"decrement\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"increment\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      if (typeof position !== 'number') {\n        return;\n      }\n\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      _this.selectItem({\n        // if it's not a slider, we don't need to set position here\n        selectedItem: position\n      }); // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickNext\", function () {\n      _this.increment(1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickPrev\", function () {\n      _this.decrement(1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeForward\", function () {\n      _this.increment(1);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeBackwards\", function () {\n      _this.decrement(1);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeItem\", function (newIndex) {\n      return function (e) {\n        if (!(0, _utils.isKeyboardEvent)(e) || e.key === 'Enter') {\n          _this.moveTo(newIndex);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (state) {\n      // Merge in the new state while updating updating previous item\n      _this.setState(_objectSpread({\n        previousItem: _this.state.selectedItem\n      }, state), function () {\n        // Run animation handler and update styles based on it\n        _this.setState(_this.animationHandler(_this.props, _this.state));\n      });\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialImage\", function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img') || [];\n      return images[0];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVariableItemHeight\", function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n\n      if (_this.state.hasMount && item && item.children.length) {\n        var slideImages = item.children[0].getElementsByTagName('img') || [];\n\n        if (slideImages.length > 0) {\n          var image = slideImages[0];\n\n          if (!image.complete) {\n            // if the image is still loading, the size won't be available so we trigger a new render after it's done\n            var onImageLoad = function onImageLoad() {\n              _this.forceUpdate();\n\n              image.removeEventListener('load', onImageLoad);\n            };\n\n            image.addEventListener('load', onImageLoad);\n          }\n        } // try to get img first, if img not there find first display tag\n\n\n        var displayItem = slideImages[0] || item.children[0];\n        var height = displayItem.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    });\n\n    var initState = {\n      initialized: false,\n      previousItem: props.selectedItem,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay,\n      swiping: false,\n      swipeMovementStarted: false,\n      cancelClick: false,\n      itemSize: 1,\n      itemListStyle: {},\n      slideStyle: {},\n      selectedStyle: {},\n      prevStyle: {}\n    };\n    _this.animationHandler = typeof props.animationHandler === 'function' && props.animationHandler || props.animationHandler === 'fade' && _animations.fadeAnimationHandler || _animations.slideAnimationHandler;\n    _this.state = _objectSpread(_objectSpread({}, initState), _this.animationHandler(props, initState));\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (!prevProps.autoFocus && this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.setState(_objectSpread({}, this.props.stopSwipingHandler(this.props, this.state)));\n      }\n\n      if (prevProps.selectedItem !== this.props.selectedItem || prevProps.centerMode !== this.props.centerMode) {\n        this.updateSizes();\n        this.moveTo(this.props.selectedItem);\n      }\n\n      if (prevProps.autoPlay !== this.props.autoPlay) {\n        if (this.props.autoPlay) {\n          this.setupAutoPlay();\n        } else {\n          this.destroyAutoPlay();\n        }\n\n        this.setState({\n          autoPlay: this.props.autoPlay\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: \"setupCarousel\",\n    value: function setupCarousel() {\n      var _this2 = this;\n\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      if (this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      this.setState({\n        initialized: true\n      }, function () {\n        var initialImage = _this2.getInitialImage();\n\n        if (initialImage && !initialImage.complete) {\n          // if it's a carousel of images, we set the mount state after the first image is loaded\n          initialImage.addEventListener('load', _this2.setMountState);\n        } else {\n          _this2.setMountState();\n        }\n      });\n    }\n  }, {\n    key: \"destroyCarousel\",\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: \"setupAutoPlay\",\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"destroyAutoPlay\",\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().addEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener('load', this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().removeEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"forceFocus\",\n    value: function forceFocus() {\n      var _this$carouselWrapper;\n\n      (_this$carouselWrapper = this.carouselWrapperRef) === null || _this$carouselWrapper === void 0 ? void 0 : _this$carouselWrapper.focus();\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(isClone) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return [];\n      }\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var isSelected = index === _this3.state.selectedItem;\n        var isPrevious = index === _this3.state.previousItem;\n        var style = isSelected && _this3.state.selectedStyle || isPrevious && _this3.state.prevStyle || _this3.state.slideStyle || {};\n\n        if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n          style = _objectSpread(_objectSpread({}, style), {}, {\n            minWidth: _this3.props.centerSlidePercentage + '%'\n          });\n        }\n\n        if (_this3.state.swiping && _this3.state.swipeMovementStarted) {\n          style = _objectSpread(_objectSpread({}, style), {}, {\n            pointerEvents: 'none'\n          });\n        }\n\n        var slideProps = {\n          ref: function ref(e) {\n            return _this3.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses.default.ITEM(true, index === _this3.state.selectedItem, index === _this3.state.previousItem),\n          onClick: _this3.handleClickItem.bind(_this3, index, item),\n          style: style\n        };\n        return /*#__PURE__*/_react.default.createElement(\"li\", slideProps, _this3.props.renderItem(item, {\n          isSelected: index === _this3.state.selectedItem,\n          isPrevious: index === _this3.state.previousItem\n        }));\n      });\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          showIndicators = _this$props.showIndicators,\n          labels = _this$props.labels,\n          renderIndicator = _this$props.renderIndicator,\n          children = _this$props.children;\n\n      if (!showIndicators) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: \"control-dots\"\n      }, _react.Children.map(children, function (_, index) {\n        return renderIndicator && renderIndicator(_this4.changeItem(index), index === _this4.state.selectedItem, index, labels.item);\n      }));\n    }\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"carousel-status\"\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: \"renderThumbs\",\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || !this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(_Thumbs.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels,\n        emulateTouch: this.props.emulateTouch\n      }, this.props.renderThumbs(this.props.children));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isSwipeable = this.props.swipeable && _react.Children.count(this.props.children) > 1;\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop) || false; // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop) || false;\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: this.state.itemListStyle,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableItemHeight(this.state.selectedItem); // swiperProps.style.height = itemHeight || 'auto';\n\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style = _objectSpread(_objectSpread({}, swiperProps.style), {}, {\n          height: this.state.itemSize\n        });\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"aria-label\": this.props.ariaLabel,\n        className: _cssClasses.default.ROOT(this.props.className),\n        ref: this.setCarouselWrapperRef,\n        tabIndex: this.props.useKeyboardArrows ? 0 : undefined\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, this.renderControls(), this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(true, this.props.axis),\n        style: containerStyles\n      }, isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, _extends({\n        tagName: \"ul\",\n        innerRef: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        ref: function ref(node) {\n          return _this5.setListRef(node);\n        },\n        style: this.state.itemListStyle || {}\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.default.Component);\n\nexports.default = Carousel;\n\n_defineProperty(Carousel, \"displayName\", 'Carousel');\n\n_defineProperty(Carousel, \"defaultProps\", {\n  ariaLabel: undefined,\n  axis: 'horizontal',\n  centerSlidePercentage: 80,\n  interval: 3000,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onClickItem: _utils.noop,\n  onClickThumb: _utils.noop,\n  onChange: _utils.noop,\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {\n    return false;\n  },\n  preventMovementUntilSwipeScrollTolerance: false,\n  renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_PREV(!hasPrev),\n      onClick: onClickHandler\n    });\n  },\n  renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_NEXT(!hasNext),\n      onClick: onClickHandler\n    });\n  },\n  renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n    return /*#__PURE__*/_react.default.createElement(\"li\", {\n      className: _cssClasses.default.DOT(isSelected),\n      onClick: onClickHandler,\n      onKeyDown: onClickHandler,\n      value: index,\n      key: index,\n      role: \"button\",\n      tabIndex: 0,\n      \"aria-label\": \"\".concat(label, \" \").concat(index + 1)\n    });\n  },\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderThumbs: function renderThumbs(children) {\n    var images = _react.Children.map(children, function (item) {\n      var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n      if (item.type !== 'img') {\n        img = _react.Children.toArray(item.props.children).find(function (children) {\n          return children.type === 'img';\n        });\n      }\n\n      if (!img) {\n        return undefined;\n      }\n\n      return img;\n    });\n\n    if (images.filter(function (image) {\n      return image;\n    }).length === 0) {\n      console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n      return [];\n    }\n\n    return images;\n  },\n  statusFormatter: _utils.defaultStatusFormatter,\n  selectedItem: 0,\n  showArrows: true,\n  showIndicators: true,\n  showStatus: true,\n  showThumbs: true,\n  stopOnHover: true,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  transitionTime: 350,\n  verticalSwipe: 'standard',\n  width: '100%',\n  animationHandler: 'slide',\n  swipeAnimationHandler: _animations.slideSwipeAnimationHandler,\n  stopSwipingHandler: _animations.slideStopSwipingHandler\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'prop-types'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('prop-types'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.propTypes);\n    global.reactSwipe = mod.exports;\n  }\n})(this, function (exports, _react, _propTypes) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.setHasSupportToCaptureOption = setHasSupportToCaptureOption;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var supportsCaptureOption = false;\n  function setHasSupportToCaptureOption(hasSupport) {\n    supportsCaptureOption = hasSupport;\n  }\n\n  try {\n    addEventListener('test', null, Object.defineProperty({}, 'capture', { get: function get() {\n        setHasSupportToCaptureOption(true);\n      } }));\n  } catch (e) {} // eslint-disable-line no-empty\n\n  function getSafeEventHandlerOpts() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { capture: true };\n\n    return supportsCaptureOption ? options : options.capture;\n  }\n\n  /**\n   * [getPosition returns a position element that works for mouse or touch events]\n   * @param  {[Event]} event [the received event]\n   * @return {[Object]}      [x and y coords]\n   */\n  function getPosition(event) {\n    if ('touches' in event) {\n      var _event$touches$ = event.touches[0],\n          pageX = _event$touches$.pageX,\n          pageY = _event$touches$.pageY;\n\n      return { x: pageX, y: pageY };\n    }\n\n    var screenX = event.screenX,\n        screenY = event.screenY;\n\n    return { x: screenX, y: screenY };\n  }\n\n  var ReactSwipe = function (_Component) {\n    _inherits(ReactSwipe, _Component);\n\n    function ReactSwipe() {\n      var _ref;\n\n      _classCallCheck(this, ReactSwipe);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _this = _possibleConstructorReturn(this, (_ref = ReactSwipe.__proto__ || Object.getPrototypeOf(ReactSwipe)).call.apply(_ref, [this].concat(args)));\n\n      _this._handleSwipeStart = _this._handleSwipeStart.bind(_this);\n      _this._handleSwipeMove = _this._handleSwipeMove.bind(_this);\n      _this._handleSwipeEnd = _this._handleSwipeEnd.bind(_this);\n\n      _this._onMouseDown = _this._onMouseDown.bind(_this);\n      _this._onMouseMove = _this._onMouseMove.bind(_this);\n      _this._onMouseUp = _this._onMouseUp.bind(_this);\n\n      _this._setSwiperRef = _this._setSwiperRef.bind(_this);\n      return _this;\n    }\n\n    _createClass(ReactSwipe, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.swiper) {\n          this.swiper.addEventListener('touchmove', this._handleSwipeMove, getSafeEventHandlerOpts({\n            capture: true,\n            passive: false\n          }));\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (this.swiper) {\n          this.swiper.removeEventListener('touchmove', this._handleSwipeMove, getSafeEventHandlerOpts({\n            capture: true,\n            passive: false\n          }));\n        }\n      }\n    }, {\n      key: '_onMouseDown',\n      value: function _onMouseDown(event) {\n        if (!this.props.allowMouseEvents) {\n          return;\n        }\n\n        this.mouseDown = true;\n\n        document.addEventListener('mouseup', this._onMouseUp);\n        document.addEventListener('mousemove', this._onMouseMove);\n\n        this._handleSwipeStart(event);\n      }\n    }, {\n      key: '_onMouseMove',\n      value: function _onMouseMove(event) {\n        if (!this.mouseDown) {\n          return;\n        }\n\n        this._handleSwipeMove(event);\n      }\n    }, {\n      key: '_onMouseUp',\n      value: function _onMouseUp(event) {\n        this.mouseDown = false;\n\n        document.removeEventListener('mouseup', this._onMouseUp);\n        document.removeEventListener('mousemove', this._onMouseMove);\n\n        this._handleSwipeEnd(event);\n      }\n    }, {\n      key: '_handleSwipeStart',\n      value: function _handleSwipeStart(event) {\n        var _getPosition = getPosition(event),\n            x = _getPosition.x,\n            y = _getPosition.y;\n\n        this.moveStart = { x: x, y: y };\n        this.props.onSwipeStart(event);\n      }\n    }, {\n      key: '_handleSwipeMove',\n      value: function _handleSwipeMove(event) {\n        if (!this.moveStart) {\n          return;\n        }\n\n        var _getPosition2 = getPosition(event),\n            x = _getPosition2.x,\n            y = _getPosition2.y;\n\n        var deltaX = x - this.moveStart.x;\n        var deltaY = y - this.moveStart.y;\n        this.moving = true;\n\n        // handling the responsability of cancelling the scroll to\n        // the component handling the event\n        var shouldPreventDefault = this.props.onSwipeMove({\n          x: deltaX,\n          y: deltaY\n        }, event);\n\n        if (shouldPreventDefault && event.cancelable) {\n          event.preventDefault();\n        }\n\n        this.movePosition = { deltaX: deltaX, deltaY: deltaY };\n      }\n    }, {\n      key: '_handleSwipeEnd',\n      value: function _handleSwipeEnd(event) {\n        this.props.onSwipeEnd(event);\n\n        var tolerance = this.props.tolerance;\n\n\n        if (this.moving && this.movePosition) {\n          if (this.movePosition.deltaX < -tolerance) {\n            this.props.onSwipeLeft(1, event);\n          } else if (this.movePosition.deltaX > tolerance) {\n            this.props.onSwipeRight(1, event);\n          }\n          if (this.movePosition.deltaY < -tolerance) {\n            this.props.onSwipeUp(1, event);\n          } else if (this.movePosition.deltaY > tolerance) {\n            this.props.onSwipeDown(1, event);\n          }\n        }\n\n        this.moveStart = null;\n        this.moving = false;\n        this.movePosition = null;\n      }\n    }, {\n      key: '_setSwiperRef',\n      value: function _setSwiperRef(node) {\n        this.swiper = node;\n        this.props.innerRef(node);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            tagName = _props.tagName,\n            className = _props.className,\n            style = _props.style,\n            children = _props.children,\n            allowMouseEvents = _props.allowMouseEvents,\n            onSwipeUp = _props.onSwipeUp,\n            onSwipeDown = _props.onSwipeDown,\n            onSwipeLeft = _props.onSwipeLeft,\n            onSwipeRight = _props.onSwipeRight,\n            onSwipeStart = _props.onSwipeStart,\n            onSwipeMove = _props.onSwipeMove,\n            onSwipeEnd = _props.onSwipeEnd,\n            innerRef = _props.innerRef,\n            tolerance = _props.tolerance,\n            props = _objectWithoutProperties(_props, ['tagName', 'className', 'style', 'children', 'allowMouseEvents', 'onSwipeUp', 'onSwipeDown', 'onSwipeLeft', 'onSwipeRight', 'onSwipeStart', 'onSwipeMove', 'onSwipeEnd', 'innerRef', 'tolerance']);\n\n        return _react2.default.createElement(\n          this.props.tagName,\n          _extends({\n            ref: this._setSwiperRef,\n            onMouseDown: this._onMouseDown,\n            onTouchStart: this._handleSwipeStart,\n            onTouchEnd: this._handleSwipeEnd,\n            className: className,\n            style: style\n          }, props),\n          children\n        );\n      }\n    }]);\n\n    return ReactSwipe;\n  }(_react.Component);\n\n  ReactSwipe.displayName = 'ReactSwipe';\n  ReactSwipe.propTypes = {\n    tagName: _propTypes2.default.string,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    children: _propTypes2.default.node,\n    allowMouseEvents: _propTypes2.default.bool,\n    onSwipeUp: _propTypes2.default.func,\n    onSwipeDown: _propTypes2.default.func,\n    onSwipeLeft: _propTypes2.default.func,\n    onSwipeRight: _propTypes2.default.func,\n    onSwipeStart: _propTypes2.default.func,\n    onSwipeMove: _propTypes2.default.func,\n    onSwipeEnd: _propTypes2.default.func,\n    innerRef: _propTypes2.default.func,\n    tolerance: _propTypes2.default.number.isRequired\n  };\n  ReactSwipe.defaultProps = {\n    tagName: 'div',\n    allowMouseEvents: false,\n    onSwipeUp: function onSwipeUp() {},\n    onSwipeDown: function onSwipeDown() {},\n    onSwipeLeft: function onSwipeLeft() {},\n    onSwipeRight: function onSwipeRight() {},\n    onSwipeStart: function onSwipeStart() {},\n    onSwipeMove: function onSwipeMove() {},\n    onSwipeEnd: function onSwipeEnd() {},\n    innerRef: function innerRef() {},\n\n    tolerance: 0\n  };\n  exports.default = ReactSwipe;\n});","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.outerWidth = void 0;\n\nvar outerWidth = function outerWidth(el) {\n  var width = el.offsetWidth;\n  var style = getComputedStyle(el);\n  width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n  return width;\n};\n\nexports.outerWidth = outerWidth;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return document;\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fadeAnimationHandler = exports.slideStopSwipingHandler = exports.slideSwipeAnimationHandler = exports.slideAnimationHandler = void 0;\n\nvar _react = require(\"react\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../../CSSTranslate\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Main animation handler for the default 'sliding' style animation\n * @param props\n * @param state\n */\nvar slideAnimationHandler = function slideAnimationHandler(props, state) {\n  var returnStyles = {};\n  var selectedItem = state.selectedItem;\n  var previousItem = selectedItem;\n  var lastPosition = _react.Children.count(props.children) - 1;\n  var needClonedSlide = props.infiniteLoop && (selectedItem < 0 || selectedItem > lastPosition); // Handle list position if it needs a clone\n\n  if (needClonedSlide) {\n    if (previousItem < 0) {\n      if (props.centerMode && props.centerSlidePercentage && props.axis === 'horizontal') {\n        returnStyles.itemListStyle = (0, _utils.setPosition)(-(lastPosition + 2) * props.centerSlidePercentage - (100 - props.centerSlidePercentage) / 2, props.axis);\n      } else {\n        returnStyles.itemListStyle = (0, _utils.setPosition)(-(lastPosition + 2) * 100, props.axis);\n      }\n    } else if (previousItem > lastPosition) {\n      returnStyles.itemListStyle = (0, _utils.setPosition)(0, props.axis);\n    }\n\n    return returnStyles;\n  }\n\n  var currentPosition = (0, _utils.getPosition)(selectedItem, props); // if 3d is available, let's take advantage of the performance of transform\n\n  var transformProp = (0, _CSSTranslate.default)(currentPosition, '%', props.axis);\n  var transitionTime = props.transitionTime + 'ms';\n  returnStyles.itemListStyle = {\n    WebkitTransform: transformProp,\n    msTransform: transformProp,\n    OTransform: transformProp,\n    transform: transformProp\n  };\n\n  if (!state.swiping) {\n    returnStyles.itemListStyle = _objectSpread(_objectSpread({}, returnStyles.itemListStyle), {}, {\n      WebkitTransitionDuration: transitionTime,\n      MozTransitionDuration: transitionTime,\n      OTransitionDuration: transitionTime,\n      transitionDuration: transitionTime,\n      msTransitionDuration: transitionTime\n    });\n  }\n\n  return returnStyles;\n};\n/**\n * Swiping animation handler for the default 'sliding' style animation\n * @param delta\n * @param props\n * @param state\n * @param setState\n */\n\n\nexports.slideAnimationHandler = slideAnimationHandler;\n\nvar slideSwipeAnimationHandler = function slideSwipeAnimationHandler(delta, props, state, setState) {\n  var returnStyles = {};\n  var isHorizontal = props.axis === 'horizontal';\n\n  var childrenLength = _react.Children.count(props.children);\n\n  var initialBoundry = 0;\n  var currentPosition = (0, _utils.getPosition)(state.selectedItem, props);\n  var finalBoundry = props.infiniteLoop ? (0, _utils.getPosition)(childrenLength - 1, props) - 100 : (0, _utils.getPosition)(childrenLength - 1, props);\n  var axisDelta = isHorizontal ? delta.x : delta.y;\n  var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n  if (currentPosition === initialBoundry && axisDelta > 0) {\n    handledDelta = 0;\n  } // prevent user from swiping right out of boundaries\n\n\n  if (currentPosition === finalBoundry && axisDelta < 0) {\n    handledDelta = 0;\n  }\n\n  var position = currentPosition + 100 / (state.itemSize / handledDelta);\n  var hasMoved = Math.abs(axisDelta) > props.swipeScrollTolerance;\n\n  if (props.infiniteLoop && hasMoved) {\n    // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n    // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n    if (state.selectedItem === 0 && position > -100) {\n      position -= childrenLength * 100;\n    } else if (state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n      position += childrenLength * 100;\n    }\n  }\n\n  if (!props.preventMovementUntilSwipeScrollTolerance || hasMoved || state.swipeMovementStarted) {\n    if (!state.swipeMovementStarted) {\n      setState({\n        swipeMovementStarted: true\n      });\n    }\n\n    returnStyles.itemListStyle = (0, _utils.setPosition)(position, props.axis);\n  } //allows scroll if the swipe was within the tolerance\n\n\n  if (hasMoved && !state.cancelClick) {\n    setState({\n      cancelClick: true\n    });\n  }\n\n  return returnStyles;\n};\n/**\n * Default 'sliding' style animination handler for when a swipe action stops.\n * @param props\n * @param state\n */\n\n\nexports.slideSwipeAnimationHandler = slideSwipeAnimationHandler;\n\nvar slideStopSwipingHandler = function slideStopSwipingHandler(props, state) {\n  var currentPosition = (0, _utils.getPosition)(state.selectedItem, props);\n  var itemListStyle = (0, _utils.setPosition)(currentPosition, props.axis);\n  return {\n    itemListStyle: itemListStyle\n  };\n};\n/**\n * Main animation handler for the default 'fade' style animation\n * @param props\n * @param state\n */\n\n\nexports.slideStopSwipingHandler = slideStopSwipingHandler;\n\nvar fadeAnimationHandler = function fadeAnimationHandler(props, state) {\n  var transitionTime = props.transitionTime + 'ms';\n  var transitionTimingFunction = 'ease-in-out';\n  var slideStyle = {\n    position: 'absolute',\n    display: 'block',\n    zIndex: -2,\n    minHeight: '100%',\n    opacity: 0,\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    transitionTimingFunction: transitionTimingFunction,\n    msTransitionTimingFunction: transitionTimingFunction,\n    MozTransitionTimingFunction: transitionTimingFunction,\n    WebkitTransitionTimingFunction: transitionTimingFunction,\n    OTransitionTimingFunction: transitionTimingFunction\n  };\n\n  if (!state.swiping) {\n    slideStyle = _objectSpread(_objectSpread({}, slideStyle), {}, {\n      WebkitTransitionDuration: transitionTime,\n      MozTransitionDuration: transitionTime,\n      OTransitionDuration: transitionTime,\n      transitionDuration: transitionTime,\n      msTransitionDuration: transitionTime\n    });\n  }\n\n  return {\n    slideStyle: slideStyle,\n    selectedStyle: _objectSpread(_objectSpread({}, slideStyle), {}, {\n      opacity: 1,\n      position: 'relative'\n    }),\n    prevStyle: _objectSpread({}, slideStyle)\n  };\n};\n\nexports.fadeAnimationHandler = fadeAnimationHandler;","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.marked = {}));\n})(this, (function (exports) { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (it) return (it = it.call(o)).next.bind(it);\n\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function getDefaults() {\n    return {\n      baseUrl: null,\n      breaks: false,\n      extensions: null,\n      gfm: true,\n      headerIds: true,\n      headerPrefix: '',\n      highlight: null,\n      langPrefix: 'language-',\n      mangle: true,\n      pedantic: false,\n      renderer: null,\n      sanitize: false,\n      sanitizer: null,\n      silent: false,\n      smartLists: false,\n      smartypants: false,\n      tokenizer: null,\n      walkTokens: null,\n      xhtml: false\n    };\n  }\n  exports.defaults = getDefaults();\n  function changeDefaults(newDefaults) {\n    exports.defaults = newDefaults;\n  }\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n  /**\n   * @param {string} html\n   */\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n  var caret = /(^|[^\\[])\\^/g;\n  /**\n   * @param {string | RegExp} regex\n   * @param {string} opt\n   */\n\n  function edit(regex, opt) {\n    regex = typeof regex === 'string' ? regex : regex.source;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n  /**\n   * @param {boolean} sanitize\n   * @param {string} base\n   * @param {string} href\n   */\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n  /**\n   * @param {string} base\n   * @param {string} href\n   */\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0; // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n\n    if (!cells[0].trim()) {\n      cells.shift();\n    }\n\n    if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n      cells.pop();\n    }\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  }\n  /**\n   * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n   * /c*$/ is vulnerable to REDOS.\n   *\n   * @param {string} str\n   * @param {string} c\n   * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n   */\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.slice(0, l - suffLen);\n  }\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n  /**\n   * @param {string} pattern\n   * @param {number} count\n   */\n\n  function repeatString(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  function outputLink(cap, link, raw, lexer) {\n    var href = link.href;\n    var title = link.title ? escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      lexer.state.inLink = true;\n      var token = {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text,\n        tokens: lexer.inlineTokens(text, [])\n      };\n      lexer.state.inLink = false;\n      return token;\n    }\n\n    return {\n      type: 'image',\n      raw: raw,\n      href: href,\n      title: title,\n      text: escape(text)\n    };\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || exports.defaults;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap && cap[0].length > 0) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.code = function code(src) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        var token = {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text,\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          tokens: this.lexer.blockTokens(text, []),\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;\n        var bull = cap[1].trim();\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: '',\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        };\n        bull = isordered ? \"\\\\d{1,9}\\\\\" + bull.slice(-1) : \"\\\\\" + bull;\n\n        if (this.options.pedantic) {\n          bull = isordered ? bull : '[*+-]';\n        } // Get next list item\n\n\n        var itemRegex = new RegExp(\"^( {0,3}\" + bull + \")((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))\"); // Check if current bullet point can start a new List Item\n\n        while (src) {\n          endEarly = false;\n\n          if (!(cap = itemRegex.exec(src))) {\n            break;\n          }\n\n          if (this.rules.block.hr.test(src)) {\n            // End list if bullet was actually HR (possibly move into itemRegex?)\n            break;\n          }\n\n          raw = cap[0];\n          src = src.substring(raw.length);\n          line = cap[2].split('\\n', 1)[0];\n          nextLine = src.split('\\n', 1)[0];\n\n          if (this.options.pedantic) {\n            indent = 2;\n            itemContents = line.trimLeft();\n          } else {\n            indent = cap[2].search(/[^ ]/); // Find first non-space char\n\n            indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n\n            itemContents = line.slice(indent);\n            indent += cap[1].length;\n          }\n\n          blankLine = false;\n\n          if (!line && /^ *$/.test(nextLine)) {\n            // Items begin with at most one blank line\n            raw += nextLine + '\\n';\n            src = src.substring(nextLine.length + 1);\n            endEarly = true;\n          }\n\n          if (!endEarly) {\n            var nextBulletRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:[*+-]|\\\\d{1,9}[.)])((?: [^\\\\n]*)?(?:\\\\n|$))\");\n            var hrRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)\"); // Check if following lines should be included in List Item\n\n            while (src) {\n              rawLine = src.split('\\n', 1)[0];\n              line = rawLine; // Re-align to follow commonmark nesting rules\n\n              if (this.options.pedantic) {\n                line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n              } // End list item if found start of new bullet\n\n\n              if (nextBulletRegex.test(line)) {\n                break;\n              } // Horizontal rule found\n\n\n              if (hrRegex.test(src)) {\n                break;\n              }\n\n              if (line.search(/[^ ]/) >= indent || !line.trim()) {\n                // Dedent if possible\n                itemContents += '\\n' + line.slice(indent);\n              } else if (!blankLine) {\n                // Until blank line, item doesn't need indentation\n                itemContents += '\\n' + line;\n              } else {\n                // Otherwise, improper indentation ends this item\n                break;\n              }\n\n              if (!blankLine && !line.trim()) {\n                // Check if current line is blank\n                blankLine = true;\n              }\n\n              raw += rawLine + '\\n';\n              src = src.substring(rawLine.length + 1);\n            }\n          }\n\n          if (!list.loose) {\n            // If the previous item ended with a blank line, the list is loose\n            if (endsWithBlankLine) {\n              list.loose = true;\n            } else if (/\\n *\\n *$/.test(raw)) {\n              endsWithBlankLine = true;\n            }\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.exec(itemContents);\n\n            if (istask) {\n              ischecked = istask[0] !== '[ ] ';\n              itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: !!istask,\n            checked: ischecked,\n            loose: false,\n            text: itemContents\n          });\n          list.raw += raw;\n        } // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n\n\n        list.items[list.items.length - 1].raw = raw.trimRight();\n        list.items[list.items.length - 1].text = itemContents.trimRight();\n        list.raw = list.raw.trimRight();\n        var l = list.items.length; // Item child tokens handled here at end because we needed to have the final item to trim it first\n\n        for (i = 0; i < l; i++) {\n          this.lexer.state.top = false;\n          list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n          var spacers = list.items[i].tokens.filter(function (t) {\n            return t.type === 'space';\n          });\n          var hasMultipleLineBreaks = spacers.every(function (t) {\n            var chars = t.raw.split('');\n            var lineBreaks = 0;\n\n            for (var _iterator = _createForOfIteratorHelperLoose(chars), _step; !(_step = _iterator()).done;) {\n              var _char = _step.value;\n\n              if (_char === '\\n') {\n                lineBreaks += 1;\n              }\n\n              if (lineBreaks > 1) {\n                return true;\n              }\n            }\n\n            return false;\n          });\n\n          if (!list.loose && spacers.length && hasMultipleLineBreaks) {\n            // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item\n            list.loose = true;\n            list.items[i].loose = true;\n          }\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: cap[0]\n        };\n\n        if (this.options.sanitize) {\n          token.type = 'paragraph';\n          token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n          token.tokens = [];\n          this.lexer.inline(token.text, token.tokens);\n        }\n\n        return token;\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          type: 'def',\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells(cap[1]).map(function (c) {\n            return {\n              text: c\n            };\n          }),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i, j, k, row;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.rows.length;\n\n          for (i = 0; i < l; i++) {\n            item.rows[i] = splitCells(item.rows[i], item.header.length).map(function (c) {\n              return {\n                text: c\n              };\n            });\n          } // parse child tokens inside headers and cells\n          // header child tokens\n\n\n          l = item.header.length;\n\n          for (j = 0; j < l; j++) {\n            item.header[j].tokens = [];\n            this.lexer.inline(item.header[j].text, item.header[j].tokens);\n          } // cell child tokens\n\n\n          l = item.rows.length;\n\n          for (j = 0; j < l; j++) {\n            row = item.rows[j];\n\n            for (k = 0; k < row.length; k++) {\n              row[k].tokens = [];\n              this.lexer.inline(row[k].text, row[k].tokens);\n            }\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1],\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1],\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.text = function text(src) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0],\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.escape = function escape$1(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n          this.lexer.state.inLink = true;\n        } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n          this.lexer.state.inLink = false;\n        }\n\n        if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.lexer.state.inRawBlock = true;\n        } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.lexer.state.inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: this.lexer.state.inLink,\n          inRawBlock: this.lexer.state.inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0], this.lexer);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0], this.lexer);\n      }\n    };\n\n    _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.emStrong.lDelim.exec(src);\n      if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n      if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDF70-\\uDF81\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDE70-\\uDEBE\\uDEC0-\\uDEC9\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n      var nextChar = match[1] || match[2] || '';\n\n      if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n        var lLength = match[0].length - 1;\n        var rDelim,\n            rLength,\n            delimTotal = lLength,\n            midDelimTotal = 0;\n        var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n        endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n        maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n          if (!rDelim) continue; // skip single * in __abc*abc__\n\n          rLength = rDelim.length;\n\n          if (match[3] || match[4]) {\n            // found another Left Delim\n            delimTotal += rLength;\n            continue;\n          } else if (match[5] || match[6]) {\n            // either Left or Right Delim\n            if (lLength % 3 && !((lLength + rLength) % 3)) {\n              midDelimTotal += rLength;\n              continue; // CommonMark Emphasis Rules 9-10\n            }\n          }\n\n          delimTotal -= rLength;\n          if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n          // Remove extra characters. *a*** -> *a*\n\n          rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n          if (Math.min(lLength, rLength) % 2) {\n            var _text = src.slice(1, lLength + match.index + rLength);\n\n            return {\n              type: 'em',\n              raw: src.slice(0, lLength + match.index + rLength + 1),\n              text: _text,\n              tokens: this.lexer.inlineTokens(_text, [])\n            };\n          } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n          var text = src.slice(2, lLength + match.index + rLength - 1);\n          return {\n            type: 'strong',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: text,\n            tokens: this.lexer.inlineTokens(text, [])\n          };\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2],\n          tokens: this.lexer.inlineTokens(cap[2], [])\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (this.lexer.state.inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n        } else {\n          text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n    hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?<?([^\\s>]+)>?(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n    table: noopTest,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.listItemStart = edit(/^( *)(bull) */).replace('bull', block.bullet).getRegex();\n  block.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('|table', '').replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge({}, block.normal, {\n    table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n    + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('table', block.gfm.table) // interrupt paragraphs with table\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge({}, block.normal, {\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest,\n    // fences not supported\n    paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n    nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    emStrong: {\n      lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n      //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n      //          () Skip orphan inside strong  () Consume to delim (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n      rDelimAst: /^[^_*]*?\\_\\_[^_*]*?\\*[^_*]*?(?=\\_\\_)|[^*]+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n      rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?\\_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\spunctuation])/\n  }; // list of punctuation marks from CommonMark spec\n  // without * and _ to handle the different emphasis markers * and _\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n  inline.escapedEmSt = /\\\\\\*|\\\\_/g;\n  inline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();\n  inline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g').replace(/punct/g, inline._punctuation).getRegex();\n  inline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g').replace(/punct/g, inline._punctuation).getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit(inline.reflink).replace('label', inline._label).replace('ref', block._label).getRegex();\n  inline.nolink = edit(inline.nolink).replace('ref', block._label).getRegex();\n  inline.reflinkSearch = edit(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge({}, inline.normal, {\n    escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n  });\n  inline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge({}, inline.gfm, {\n    br: edit(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n\n  /**\n   * smartypants text replacement\n   * @param {string} text\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   * @param {string} text\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || exports.defaults;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      this.tokenizer.lexer = this;\n      this.inlineQueue = [];\n      this.state = {\n        inLink: false,\n        inRawBlock: false,\n        top: true\n      };\n      var rules = {\n        block: block.normal,\n        inline: inline.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block.pedantic;\n        rules.inline = inline.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline.breaks;\n        } else {\n          rules.inline = inline.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n');\n      this.blockTokens(src, this.tokens);\n      var next;\n\n      while (next = this.inlineQueue.shift()) {\n        this.inlineTokens(next.src, next.tokens);\n      }\n\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens) {\n      var _this = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n      } else {\n        src = src.replace(/^( *)(\\t+)/gm, function (_, leading, tabs) {\n          return leading + '    '.repeat(tabs.length);\n        });\n      }\n\n      var token, lastToken, cutSrc, lastParagraphClipped;\n\n      while (src) {\n        if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n          if (token = extTokenizer.call({\n            lexer: _this\n          }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // newline\n\n\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.raw.length === 1 && tokens.length > 0) {\n            // if there's a single \\n as a spacer, it's terminating the last line,\n            // so move it there so that we don't get unecessary paragraph tags\n            tokens[tokens.length - 1].raw += '\\n';\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n          if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (token = this.tokenizer.def(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.raw;\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n        // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startBlock) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call({\n                lexer: this\n              }, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastParagraphClipped && lastToken.type === 'paragraph') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n            this.inlineQueue.pop();\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else {\n            tokens.push(token);\n          }\n\n          lastParagraphClipped = cutSrc.length !== src.length;\n          src = src.substring(token.raw.length);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n            this.inlineQueue.pop();\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      this.state.top = true;\n      return tokens;\n    };\n\n    _proto.inline = function inline(src, tokens) {\n      this.inlineQueue.push({\n        src: src,\n        tokens: tokens\n      });\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens) {\n      var _this2 = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      } // Mask out escaped em & strong delimiters\n\n\n      while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // extensions\n\n        if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n          if (token = extTokenizer.call({\n            lexer: _this2\n          }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // escape\n\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // em & strong\n\n\n        if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n        // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startInline) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call({\n                lexer: this\n              }, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n          src = src.substring(token.raw.length);\n\n          if (token.raw.slice(-1) !== '_') {\n            // Track prevChar before string of ____ started\n            prevChar = token.raw.slice(-1);\n          }\n\n          keepPrevChar = true;\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block,\n          inline: inline\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  /**\n   * Renderer\n   */\n\n  var Renderer = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || exports.defaults;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n    }\n    /**\n     * @param {string} quote\n     */\n    ;\n\n    _proto.blockquote = function blockquote(quote) {\n      return \"<blockquote>\\n\" + quote + \"</blockquote>\\n\";\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    }\n    /**\n     * @param {string} text\n     * @param {string} level\n     * @param {string} raw\n     * @param {any} slugger\n     */\n    ;\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        var id = this.options.headerPrefix + slugger.slug(raw);\n        return \"<h\" + level + \" id=\\\"\" + id + \"\\\">\" + text + \"</h\" + level + \">\\n\";\n      } // ignore IDs\n\n\n      return \"<h\" + level + \">\" + text + \"</h\" + level + \">\\n\";\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.listitem = function listitem(text) {\n      return \"<li>\" + text + \"</li>\\n\";\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.paragraph = function paragraph(text) {\n      return \"<p>\" + text + \"</p>\\n\";\n    }\n    /**\n     * @param {string} header\n     * @param {string} body\n     */\n    ;\n\n    _proto.table = function table(header, body) {\n      if (body) body = \"<tbody>\" + body + \"</tbody>\";\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    }\n    /**\n     * @param {string} content\n     */\n    ;\n\n    _proto.tablerow = function tablerow(content) {\n      return \"<tr>\\n\" + content + \"</tr>\\n\";\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? \"<\" + type + \" align=\\\"\" + flags.align + \"\\\">\" : \"<\" + type + \">\";\n      return tag + content + (\"</\" + type + \">\\n\");\n    }\n    /**\n     * span level renderer\n     * @param {string} text\n     */\n    ;\n\n    _proto.strong = function strong(text) {\n      return \"<strong>\" + text + \"</strong>\";\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.em = function em(text) {\n      return \"<em>\" + text + \"</em>\";\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.codespan = function codespan(text) {\n      return \"<code>\" + text + \"</code>\";\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.del = function del(text) {\n      return \"<del>\" + text + \"</del>\";\n    }\n    /**\n     * @param {string} href\n     * @param {string} title\n     * @param {string} text\n     */\n    ;\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    }\n    /**\n     * @param {string} href\n     * @param {string} title\n     * @param {string} text\n     */\n    ;\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = \"<img src=\\\"\" + href + \"\\\" alt=\\\"\" + text + \"\\\"\";\n\n      if (title) {\n        out += \" title=\\\"\" + title + \"\\\"\";\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n    /**\n     * @param {string} value\n     */\n\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     * @param {string} originalSlug\n     * @param {boolean} isDryRun\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} [options]\n     * @param {boolean} [options.dryrun] Generates the next unique slug without\n     * updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || exports.defaults;\n      this.options.renderer = this.options.renderer || new Renderer();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer();\n      this.slugger = new Slugger();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call({\n            parser: this\n          }, token);\n\n          if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.rows.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.rows[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call({\n            parser: this\n          }, token);\n\n          if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            if (opt.walkTokens) {\n              marked.walkTokens(tokens, opt.walkTokens);\n            }\n\n            out = Parser.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n  marked.options = marked.setOptions = function (opt) {\n    merge(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = exports.defaults;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = merge.apply(void 0, [{}].concat(args));\n    var extensions = marked.defaults.extensions || {\n      renderers: {},\n      childTokens: {}\n    };\n    var hasExtensions;\n    args.forEach(function (pack) {\n      // ==-- Parse \"addon\" extensions --== //\n      if (pack.extensions) {\n        hasExtensions = true;\n        pack.extensions.forEach(function (ext) {\n          if (!ext.name) {\n            throw new Error('extension name required');\n          }\n\n          if (ext.renderer) {\n            // Renderer extensions\n            var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n            if (prevRenderer) {\n              // Replace extension with func to run new extension but fall back if false\n              extensions.renderers[ext.name] = function () {\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  args[_key2] = arguments[_key2];\n                }\n\n                var ret = ext.renderer.apply(this, args);\n\n                if (ret === false) {\n                  ret = prevRenderer.apply(this, args);\n                }\n\n                return ret;\n              };\n            } else {\n              extensions.renderers[ext.name] = ext.renderer;\n            }\n          }\n\n          if (ext.tokenizer) {\n            // Tokenizer Extensions\n            if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n              throw new Error(\"extension level must be 'block' or 'inline'\");\n            }\n\n            if (extensions[ext.level]) {\n              extensions[ext.level].unshift(ext.tokenizer);\n            } else {\n              extensions[ext.level] = [ext.tokenizer];\n            }\n\n            if (ext.start) {\n              // Function to check for start of token\n              if (ext.level === 'block') {\n                if (extensions.startBlock) {\n                  extensions.startBlock.push(ext.start);\n                } else {\n                  extensions.startBlock = [ext.start];\n                }\n              } else if (ext.level === 'inline') {\n                if (extensions.startInline) {\n                  extensions.startInline.push(ext.start);\n                } else {\n                  extensions.startInline = [ext.start];\n                }\n              }\n            }\n          }\n\n          if (ext.childTokens) {\n            // Child tokens to be visited by walkTokens\n            extensions.childTokens[ext.name] = ext.childTokens;\n          }\n        });\n      } // ==-- Parse \"overwrite\" extensions --== //\n\n\n      if (pack.renderer) {\n        (function () {\n          var renderer = marked.defaults.renderer || new Renderer();\n\n          var _loop = function _loop(prop) {\n            var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n            renderer[prop] = function () {\n              for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              var ret = pack.renderer[prop].apply(renderer, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(renderer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.renderer) {\n            _loop(prop);\n          }\n\n          opts.renderer = renderer;\n        })();\n      }\n\n      if (pack.tokenizer) {\n        (function () {\n          var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n          var _loop2 = function _loop2(prop) {\n            var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n            tokenizer[prop] = function () {\n              for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n              }\n\n              var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n              if (ret === false) {\n                ret = prevTokenizer.apply(tokenizer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.tokenizer) {\n            _loop2(prop);\n          }\n\n          opts.tokenizer = tokenizer;\n        })();\n      } // ==-- Parse WalkTokens extensions --== //\n\n\n      if (pack.walkTokens) {\n        var _walkTokens = marked.defaults.walkTokens;\n\n        opts.walkTokens = function (token) {\n          pack.walkTokens.call(this, token);\n\n          if (_walkTokens) {\n            _walkTokens.call(this, token);\n          }\n        };\n      }\n\n      if (hasExtensions) {\n        opts.extensions = extensions;\n      }\n\n      marked.setOptions(opts);\n    });\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    var _loop3 = function _loop3() {\n      var token = _step.value;\n      callback.call(marked, token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell.tokens, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell.tokens, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n              // Walk any extensions\n              marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n                marked.walkTokens(token[childTokens], callback);\n              });\n            } else if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    };\n\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      _loop3();\n    }\n  };\n  /**\n   * Parse Inline\n   * @param {string} src\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    try {\n      var tokens = Lexer.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser;\n  marked.parser = Parser.parse;\n  marked.Renderer = Renderer;\n  marked.TextRenderer = TextRenderer;\n  marked.Lexer = Lexer;\n  marked.lexer = Lexer.lex;\n  marked.Tokenizer = Tokenizer;\n  marked.Slugger = Slugger;\n  marked.parse = marked;\n  var options = marked.options;\n  var setOptions = marked.setOptions;\n  var use = marked.use;\n  var walkTokens = marked.walkTokens;\n  var parseInline = marked.parseInline;\n  var parse = marked;\n  var parser = Parser.parse;\n  var lexer = Lexer.lex;\n\n  exports.Lexer = Lexer;\n  exports.Parser = Parser;\n  exports.Renderer = Renderer;\n  exports.Slugger = Slugger;\n  exports.TextRenderer = TextRenderer;\n  exports.Tokenizer = Tokenizer;\n  exports.getDefaults = getDefaults;\n  exports.lexer = lexer;\n  exports.marked = marked;\n  exports.options = options;\n  exports.parse = parse;\n  exports.parseInline = parseInline;\n  exports.parser = parser;\n  exports.setOptions = setOptions;\n  exports.use = use;\n  exports.walkTokens = walkTokens;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","import { GridCellKind } from \"@glideapps/glide-data-grid\";\nimport range from \"lodash/range.js\";\nimport * as React from \"react\";\n\nfunction cellToSortData(c) {\n  var _c$data$toString, _c$data, _c$data$toString2, _c$data2, _c$data3;\n\n  switch (c.kind) {\n    case GridCellKind.Number:\n      return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n\n    case GridCellKind.Boolean:\n      return (_c$data$toString2 = (_c$data2 = c.data) === null || _c$data2 === void 0 ? void 0 : _c$data2.toString()) !== null && _c$data$toString2 !== void 0 ? _c$data$toString2 : \"\";\n\n    case GridCellKind.Markdown:\n    case GridCellKind.RowID:\n    case GridCellKind.Text:\n    case GridCellKind.Uri:\n      return (_c$data3 = c.data) !== null && _c$data3 !== void 0 ? _c$data3 : \"\";\n\n    case GridCellKind.Bubble:\n    case GridCellKind.Image:\n      return c.data.join(\"\");\n\n    case GridCellKind.Drilldown:\n      return c.data.map(x => x.text).join(\"\");\n\n    case GridCellKind.Protected:\n    case GridCellKind.Loading:\n      return \"\";\n\n    case GridCellKind.Custom:\n      return c.copyData;\n  }\n}\n\nfunction tryParse(val) {\n  if (typeof val === \"number\") return val;\n\n  if (val.length > 0) {\n    const x = parseFloat(val);\n\n    if (!isNaN(x)) {\n      val = x;\n    }\n  }\n\n  return val;\n}\n\nexport function compareSmart(a, b) {\n  a = tryParse(a);\n  b = tryParse(b);\n\n  if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (typeof a === \"number\" && typeof b === \"number\") {\n    if (a === b) return 0;\n    return a > b ? 1 : -1;\n  } else if (a == b) {\n    return 0;\n  }\n\n  return a > b ? 1 : -1;\n}\nexport function compareRaw(a, b) {\n  if (a > b) return 1;\n  if (a === b) return 0;\n  return -1;\n}\nexport function useColumnSort(p) {\n  var _sort$direction;\n\n  const {\n    sort,\n    rows,\n    getCellContent: getCellContentIn\n  } = p;\n  let sortCol = sort === undefined ? undefined : p.columns.findIndex(c => sort.column === c || c.id !== undefined && sort.column.id === c.id);\n  if (sortCol === -1) sortCol = undefined;\n  const dir = (_sort$direction = sort === null || sort === void 0 ? void 0 : sort.direction) !== null && _sort$direction !== void 0 ? _sort$direction : \"asc\";\n  const sortMap = React.useMemo(() => {\n    if (sortCol === undefined) return undefined;\n    const vals = new Array(rows);\n    const index = [sortCol, 0];\n\n    for (let i = 0; i < rows; i++) {\n      index[1] = i;\n      vals[i] = cellToSortData(getCellContentIn(index));\n    }\n\n    let result;\n\n    if ((sort === null || sort === void 0 ? void 0 : sort.mode) === \"raw\") {\n      result = range(rows).sort((a, b) => compareRaw(vals[a], vals[b]));\n    } else if ((sort === null || sort === void 0 ? void 0 : sort.mode) === \"smart\") {\n      result = range(rows).sort((a, b) => compareSmart(vals[a], vals[b]));\n    } else {\n      result = range(rows).sort((a, b) => vals[a].localeCompare(vals[b]));\n    }\n\n    if (dir === \"desc\") {\n      result.reverse();\n    }\n\n    return result;\n  }, [getCellContentIn, rows, sort === null || sort === void 0 ? void 0 : sort.mode, dir, sortCol]);\n  const getOriginalIndex = React.useCallback(index => {\n    if (sortMap === undefined) return index;\n    return sortMap[index];\n  }, [sortMap]);\n  const getCellContent = React.useCallback(_ref => {\n    let [col, row] = _ref;\n    if (sortMap === undefined) return getCellContentIn([col, row]);\n    row = sortMap[row];\n    return getCellContentIn([col, row]);\n  }, [getCellContentIn, sortMap]);\n\n  if (sortMap === undefined) {\n    return {\n      getCellContent: p.getCellContent,\n      getOriginalIndex\n    };\n  }\n\n  return {\n    getOriginalIndex,\n    getCellContent\n  };\n}"],"sourceRoot":""}